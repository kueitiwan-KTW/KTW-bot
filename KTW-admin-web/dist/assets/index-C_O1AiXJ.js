(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function e(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(n){if(n.ep)return;n.ep=!0;const r=e(n);fetch(n.href,r)}})();/**
* @vue/shared v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function hi(s){const t=Object.create(null);for(const e of s.split(","))t[e]=1;return e=>e in t}const J={},ke=[],Ut=()=>{},fn=()=>!1,ks=s=>s.charCodeAt(0)===111&&s.charCodeAt(1)===110&&(s.charCodeAt(2)>122||s.charCodeAt(2)<97),di=s=>s.startsWith("onUpdate:"),ft=Object.assign,fi=(s,t)=>{const e=s.indexOf(t);e>-1&&s.splice(e,1)},wr=Object.prototype.hasOwnProperty,j=(s,t)=>wr.call(s,t),I=Array.isArray,Ne=s=>is(s)==="[object Map]",Ns=s=>is(s)==="[object Set]",Hi=s=>is(s)==="[object Date]",F=s=>typeof s=="function",st=s=>typeof s=="string",jt=s=>typeof s=="symbol",Q=s=>s!==null&&typeof s=="object",gn=s=>(Q(s)||F(s))&&F(s.then)&&F(s.catch),pn=Object.prototype.toString,is=s=>pn.call(s),xr=s=>is(s).slice(8,-1),mn=s=>is(s)==="[object Object]",gi=s=>st(s)&&s!=="NaN"&&s[0]!=="-"&&""+parseInt(s,10)===s,Ue=hi(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ms=s=>{const t=Object.create(null);return e=>t[e]||(t[e]=s(e))},Er=/-\w/g,fe=Ms(s=>s.replace(Er,t=>t.slice(1).toUpperCase())),Cr=/\B([A-Z])/g,we=Ms(s=>s.replace(Cr,"-$1").toLowerCase()),_n=Ms(s=>s.charAt(0).toUpperCase()+s.slice(1)),Ws=Ms(s=>s?`on${_n(s)}`:""),de=(s,t)=>!Object.is(s,t),us=(s,...t)=>{for(let e=0;e<s.length;e++)s[e](...t)},yn=(s,t,e,i=!1)=>{Object.defineProperty(s,t,{configurable:!0,enumerable:!1,writable:i,value:e})},Rr=s=>{const t=parseFloat(s);return isNaN(t)?s:t};let zi;const As=()=>zi||(zi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Os(s){if(I(s)){const t={};for(let e=0;e<s.length;e++){const i=s[e],n=st(i)?kr(i):Os(i);if(n)for(const r in n)t[r]=n[r]}return t}else if(st(s)||Q(s))return s}const Tr=/;(?![^(]*\))/g,Sr=/:([^]+)/,Dr=/\/\*[^]*?\*\//g;function kr(s){const t={};return s.replace(Dr,"").split(Tr).forEach(e=>{if(e){const i=e.split(Sr);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function nt(s){let t="";if(st(s))t=s;else if(I(s))for(let e=0;e<s.length;e++){const i=nt(s[e]);i&&(t+=i+" ")}else if(Q(s))for(const e in s)s[e]&&(t+=e+" ");return t.trim()}const Nr="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Mr=hi(Nr);function vn(s){return!!s||s===""}function Ar(s,t){if(s.length!==t.length)return!1;let e=!0;for(let i=0;e&&i<s.length;i++)e=Hs(s[i],t[i]);return e}function Hs(s,t){if(s===t)return!0;let e=Hi(s),i=Hi(t);if(e||i)return e&&i?s.getTime()===t.getTime():!1;if(e=jt(s),i=jt(t),e||i)return s===t;if(e=I(s),i=I(t),e||i)return e&&i?Ar(s,t):!1;if(e=Q(s),i=Q(t),e||i){if(!e||!i)return!1;const n=Object.keys(s).length,r=Object.keys(t).length;if(n!==r)return!1;for(const o in s){const l=s.hasOwnProperty(o),a=t.hasOwnProperty(o);if(l&&!a||!l&&a||!Hs(s[o],t[o]))return!1}}return String(s)===String(t)}function bn(s,t){return s.findIndex(e=>Hs(e,t))}const wn=s=>!!(s&&s.__v_isRef===!0),L=s=>st(s)?s:s==null?"":I(s)||Q(s)&&(s.toString===pn||!F(s.toString))?wn(s)?L(s.value):JSON.stringify(s,xn,2):String(s),xn=(s,t)=>wn(t)?xn(s,t.value):Ne(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[i,n],r)=>(e[Us(i,r)+" =>"]=n,e),{})}:Ns(t)?{[`Set(${t.size})`]:[...t.values()].map(e=>Us(e))}:jt(t)?Us(t):Q(t)&&!I(t)&&!mn(t)?String(t):t,Us=(s,t="")=>{var e;return jt(s)?`Symbol(${(e=s.description)!=null?e:t})`:s};/**
* @vue/reactivity v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let yt;class Or{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=yt,!t&&yt&&(this.index=(yt.scopes||(yt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,e;if(this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].pause();for(t=0,e=this.effects.length;t<e;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,e;if(this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].resume();for(t=0,e=this.effects.length;t<e;t++)this.effects[t].resume()}}run(t){if(this._active){const e=yt;try{return yt=this,t()}finally{yt=e}}}on(){++this._on===1&&(this.prevScope=yt,yt=this)}off(){this._on>0&&--this._on===0&&(yt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let e,i;for(e=0,i=this.effects.length;e<i;e++)this.effects[e].stop();for(this.effects.length=0,e=0,i=this.cleanups.length;e<i;e++)this.cleanups[e]();if(this.cleanups.length=0,this.scopes){for(e=0,i=this.scopes.length;e<i;e++)this.scopes[e].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Hr(){return yt}let Z;const Gs=new WeakSet;class En{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,yt&&yt.active&&yt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Gs.has(this)&&(Gs.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Rn(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Pi(this),Tn(this);const t=Z,e=At;Z=this,At=!0;try{return this.fn()}finally{Sn(this),Z=t,At=e,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)_i(t);this.deps=this.depsTail=void 0,Pi(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Gs.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ti(this)&&this.run()}get dirty(){return ti(this)}}let Cn=0,Ge,je;function Rn(s,t=!1){if(s.flags|=8,t){s.next=je,je=s;return}s.next=Ge,Ge=s}function pi(){Cn++}function mi(){if(--Cn>0)return;if(je){let t=je;for(je=void 0;t;){const e=t.next;t.next=void 0,t.flags&=-9,t=e}}let s;for(;Ge;){let t=Ge;for(Ge=void 0;t;){const e=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){s||(s=i)}t=e}}if(s)throw s}function Tn(s){for(let t=s.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Sn(s){let t,e=s.depsTail,i=e;for(;i;){const n=i.prevDep;i.version===-1?(i===e&&(e=n),_i(i),zr(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=n}s.deps=t,s.depsTail=e}function ti(s){for(let t=s.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Dn(t.dep.computed)||t.dep.version!==t.version))return!0;return!!s._dirty}function Dn(s){if(s.flags&4&&!(s.flags&16)||(s.flags&=-17,s.globalVersion===Xe)||(s.globalVersion=Xe,!s.isSSR&&s.flags&128&&(!s.deps&&!s._dirty||!ti(s))))return;s.flags|=2;const t=s.dep,e=Z,i=At;Z=s,At=!0;try{Tn(s);const n=s.fn(s._value);(t.version===0||de(n,s._value))&&(s.flags|=128,s._value=n,t.version++)}catch(n){throw t.version++,n}finally{Z=e,At=i,Sn(s),s.flags&=-3}}function _i(s,t=!1){const{dep:e,prevSub:i,nextSub:n}=s;if(i&&(i.nextSub=n,s.prevSub=void 0),n&&(n.prevSub=i,s.nextSub=void 0),e.subs===s&&(e.subs=i,!i&&e.computed)){e.computed.flags&=-5;for(let r=e.computed.deps;r;r=r.nextDep)_i(r,!0)}!t&&!--e.sc&&e.map&&e.map.delete(e.key)}function zr(s){const{prevDep:t,nextDep:e}=s;t&&(t.nextDep=e,s.prevDep=void 0),e&&(e.prevDep=t,s.nextDep=void 0)}let At=!0;const kn=[];function Qt(){kn.push(At),At=!1}function te(){const s=kn.pop();At=s===void 0?!0:s}function Pi(s){const{cleanup:t}=s;if(s.cleanup=void 0,t){const e=Z;Z=void 0;try{t()}finally{Z=e}}}let Xe=0;class Pr{constructor(t,e){this.sub=t,this.dep=e,this.version=e.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class yi{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Z||!At||Z===this.computed)return;let e=this.activeLink;if(e===void 0||e.sub!==Z)e=this.activeLink=new Pr(Z,this),Z.deps?(e.prevDep=Z.depsTail,Z.depsTail.nextDep=e,Z.depsTail=e):Z.deps=Z.depsTail=e,Nn(e);else if(e.version===-1&&(e.version=this.version,e.nextDep)){const i=e.nextDep;i.prevDep=e.prevDep,e.prevDep&&(e.prevDep.nextDep=i),e.prevDep=Z.depsTail,e.nextDep=void 0,Z.depsTail.nextDep=e,Z.depsTail=e,Z.deps===e&&(Z.deps=i)}return e}trigger(t){this.version++,Xe++,this.notify(t)}notify(t){pi();try{for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{mi()}}}function Nn(s){if(s.dep.sc++,s.sub.flags&4){const t=s.dep.computed;if(t&&!s.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)Nn(i)}const e=s.dep.subs;e!==s&&(s.prevSub=e,e&&(e.nextSub=s)),s.dep.subs=s}}const ei=new WeakMap,ve=Symbol(""),si=Symbol(""),Je=Symbol("");function ot(s,t,e){if(At&&Z){let i=ei.get(s);i||ei.set(s,i=new Map);let n=i.get(e);n||(i.set(e,n=new yi),n.map=i,n.key=e),n.track()}}function Xt(s,t,e,i,n,r){const o=ei.get(s);if(!o){Xe++;return}const l=a=>{a&&a.trigger()};if(pi(),t==="clear")o.forEach(l);else{const a=I(s),u=a&&gi(e);if(a&&e==="length"){const c=Number(i);o.forEach((d,_)=>{(_==="length"||_===Je||!jt(_)&&_>=c)&&l(d)})}else switch((e!==void 0||o.has(void 0))&&l(o.get(e)),u&&l(o.get(Je)),t){case"add":a?u&&l(o.get("length")):(l(o.get(ve)),Ne(s)&&l(o.get(si)));break;case"delete":a||(l(o.get(ve)),Ne(s)&&l(o.get(si)));break;case"set":Ne(s)&&l(o.get(ve));break}}mi()}function Te(s){const t=G(s);return t===s?t:(ot(t,"iterate",Je),Dt(s)?t:t.map(Ot))}function zs(s){return ot(s=G(s),"iterate",Je),s}function ae(s,t){return ee(s)?be(s)?Oe(Ot(t)):Oe(t):Ot(t)}const Lr={__proto__:null,[Symbol.iterator](){return js(this,Symbol.iterator,s=>ae(this,s))},concat(...s){return Te(this).concat(...s.map(t=>I(t)?Te(t):t))},entries(){return js(this,"entries",s=>(s[1]=ae(this,s[1]),s))},every(s,t){return Yt(this,"every",s,t,void 0,arguments)},filter(s,t){return Yt(this,"filter",s,t,e=>e.map(i=>ae(this,i)),arguments)},find(s,t){return Yt(this,"find",s,t,e=>ae(this,e),arguments)},findIndex(s,t){return Yt(this,"findIndex",s,t,void 0,arguments)},findLast(s,t){return Yt(this,"findLast",s,t,e=>ae(this,e),arguments)},findLastIndex(s,t){return Yt(this,"findLastIndex",s,t,void 0,arguments)},forEach(s,t){return Yt(this,"forEach",s,t,void 0,arguments)},includes(...s){return Vs(this,"includes",s)},indexOf(...s){return Vs(this,"indexOf",s)},join(s){return Te(this).join(s)},lastIndexOf(...s){return Vs(this,"lastIndexOf",s)},map(s,t){return Yt(this,"map",s,t,void 0,arguments)},pop(){return Ie(this,"pop")},push(...s){return Ie(this,"push",s)},reduce(s,...t){return Li(this,"reduce",s,t)},reduceRight(s,...t){return Li(this,"reduceRight",s,t)},shift(){return Ie(this,"shift")},some(s,t){return Yt(this,"some",s,t,void 0,arguments)},splice(...s){return Ie(this,"splice",s)},toReversed(){return Te(this).toReversed()},toSorted(s){return Te(this).toSorted(s)},toSpliced(...s){return Te(this).toSpliced(...s)},unshift(...s){return Ie(this,"unshift",s)},values(){return js(this,"values",s=>ae(this,s))}};function js(s,t,e){const i=zs(s),n=i[t]();return i!==s&&!Dt(s)&&(n._next=n.next,n.next=()=>{const r=n._next();return r.done||(r.value=e(r.value)),r}),n}const Ir=Array.prototype;function Yt(s,t,e,i,n,r){const o=zs(s),l=o!==s&&!Dt(s),a=o[t];if(a!==Ir[t]){const d=a.apply(s,r);return l?Ot(d):d}let u=e;o!==s&&(l?u=function(d,_){return e.call(this,ae(s,d),_,s)}:e.length>2&&(u=function(d,_){return e.call(this,d,_,s)}));const c=a.call(o,u,i);return l&&n?n(c):c}function Li(s,t,e,i){const n=zs(s);let r=e;return n!==s&&(Dt(s)?e.length>3&&(r=function(o,l,a){return e.call(this,o,l,a,s)}):r=function(o,l,a){return e.call(this,o,ae(s,l),a,s)}),n[t](r,...i)}function Vs(s,t,e){const i=G(s);ot(i,"iterate",Je);const n=i[t](...e);return(n===-1||n===!1)&&xi(e[0])?(e[0]=G(e[0]),i[t](...e)):n}function Ie(s,t,e=[]){Qt(),pi();const i=G(s)[t].apply(s,e);return mi(),te(),i}const Br=hi("__proto__,__v_isRef,__isVue"),Mn=new Set(Object.getOwnPropertyNames(Symbol).filter(s=>s!=="arguments"&&s!=="caller").map(s=>Symbol[s]).filter(jt));function Fr(s){jt(s)||(s=String(s));const t=G(this);return ot(t,"has",s),t.hasOwnProperty(s)}class An{constructor(t=!1,e=!1){this._isReadonly=t,this._isShallow=e}get(t,e,i){if(e==="__v_skip")return t.__v_skip;const n=this._isReadonly,r=this._isShallow;if(e==="__v_isReactive")return!n;if(e==="__v_isReadonly")return n;if(e==="__v_isShallow")return r;if(e==="__v_raw")return i===(n?r?Xr:Pn:r?zn:Hn).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const o=I(t);if(!n){let a;if(o&&(a=Lr[e]))return a;if(e==="hasOwnProperty")return Fr}const l=Reflect.get(t,e,lt(t)?t:i);if((jt(e)?Mn.has(e):Br(e))||(n||ot(t,"get",e),r))return l;if(lt(l)){const a=o&&gi(e)?l:l.value;return n&&Q(a)?ni(a):a}return Q(l)?n?ni(l):bi(l):l}}class On extends An{constructor(t=!1){super(!1,t)}set(t,e,i,n){let r=t[e];const o=I(t)&&gi(e);if(!this._isShallow){const u=ee(r);if(!Dt(i)&&!ee(i)&&(r=G(r),i=G(i)),!o&&lt(r)&&!lt(i))return u||(r.value=i),!0}const l=o?Number(e)<t.length:j(t,e),a=Reflect.set(t,e,i,lt(t)?t:n);return t===G(n)&&(l?de(i,r)&&Xt(t,"set",e,i):Xt(t,"add",e,i)),a}deleteProperty(t,e){const i=j(t,e);t[e];const n=Reflect.deleteProperty(t,e);return n&&i&&Xt(t,"delete",e,void 0),n}has(t,e){const i=Reflect.has(t,e);return(!jt(e)||!Mn.has(e))&&ot(t,"has",e),i}ownKeys(t){return ot(t,"iterate",I(t)?"length":ve),Reflect.ownKeys(t)}}class $r extends An{constructor(t=!1){super(!0,t)}set(t,e){return!0}deleteProperty(t,e){return!0}}const Wr=new On,Ur=new $r,Gr=new On(!0);const ii=s=>s,ls=s=>Reflect.getPrototypeOf(s);function jr(s,t,e){return function(...i){const n=this.__v_raw,r=G(n),o=Ne(r),l=s==="entries"||s===Symbol.iterator&&o,a=s==="keys"&&o,u=n[s](...i),c=e?ii:t?Oe:Ot;return!t&&ot(r,"iterate",a?si:ve),{next(){const{value:d,done:_}=u.next();return _?{value:d,done:_}:{value:l?[c(d[0]),c(d[1])]:c(d),done:_}},[Symbol.iterator](){return this}}}}function as(s){return function(...t){return s==="delete"?!1:s==="clear"?void 0:this}}function Vr(s,t){const e={get(n){const r=this.__v_raw,o=G(r),l=G(n);s||(de(n,l)&&ot(o,"get",n),ot(o,"get",l));const{has:a}=ls(o),u=t?ii:s?Oe:Ot;if(a.call(o,n))return u(r.get(n));if(a.call(o,l))return u(r.get(l));r!==o&&r.get(n)},get size(){const n=this.__v_raw;return!s&&ot(G(n),"iterate",ve),n.size},has(n){const r=this.__v_raw,o=G(r),l=G(n);return s||(de(n,l)&&ot(o,"has",n),ot(o,"has",l)),n===l?r.has(n):r.has(n)||r.has(l)},forEach(n,r){const o=this,l=o.__v_raw,a=G(l),u=t?ii:s?Oe:Ot;return!s&&ot(a,"iterate",ve),l.forEach((c,d)=>n.call(r,u(c),u(d),o))}};return ft(e,s?{add:as("add"),set:as("set"),delete:as("delete"),clear:as("clear")}:{add(n){!t&&!Dt(n)&&!ee(n)&&(n=G(n));const r=G(this);return ls(r).has.call(r,n)||(r.add(n),Xt(r,"add",n,n)),this},set(n,r){!t&&!Dt(r)&&!ee(r)&&(r=G(r));const o=G(this),{has:l,get:a}=ls(o);let u=l.call(o,n);u||(n=G(n),u=l.call(o,n));const c=a.call(o,n);return o.set(n,r),u?de(r,c)&&Xt(o,"set",n,r):Xt(o,"add",n,r),this},delete(n){const r=G(this),{has:o,get:l}=ls(r);let a=o.call(r,n);a||(n=G(n),a=o.call(r,n)),l&&l.call(r,n);const u=r.delete(n);return a&&Xt(r,"delete",n,void 0),u},clear(){const n=G(this),r=n.size!==0,o=n.clear();return r&&Xt(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{e[n]=jr(n,s,t)}),e}function vi(s,t){const e=Vr(s,t);return(i,n,r)=>n==="__v_isReactive"?!s:n==="__v_isReadonly"?s:n==="__v_raw"?i:Reflect.get(j(e,n)&&n in i?e:i,n,r)}const Kr={get:vi(!1,!1)},Yr={get:vi(!1,!0)},qr={get:vi(!0,!1)};const Hn=new WeakMap,zn=new WeakMap,Pn=new WeakMap,Xr=new WeakMap;function Jr(s){switch(s){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Zr(s){return s.__v_skip||!Object.isExtensible(s)?0:Jr(xr(s))}function bi(s){return ee(s)?s:wi(s,!1,Wr,Kr,Hn)}function Qr(s){return wi(s,!1,Gr,Yr,zn)}function ni(s){return wi(s,!0,Ur,qr,Pn)}function wi(s,t,e,i,n){if(!Q(s)||s.__v_raw&&!(t&&s.__v_isReactive))return s;const r=Zr(s);if(r===0)return s;const o=n.get(s);if(o)return o;const l=new Proxy(s,r===2?i:e);return n.set(s,l),l}function be(s){return ee(s)?be(s.__v_raw):!!(s&&s.__v_isReactive)}function ee(s){return!!(s&&s.__v_isReadonly)}function Dt(s){return!!(s&&s.__v_isShallow)}function xi(s){return s?!!s.__v_raw:!1}function G(s){const t=s&&s.__v_raw;return t?G(t):s}function to(s){return!j(s,"__v_skip")&&Object.isExtensible(s)&&yn(s,"__v_skip",!0),s}const Ot=s=>Q(s)?bi(s):s,Oe=s=>Q(s)?ni(s):s;function lt(s){return s?s.__v_isRef===!0:!1}function et(s){return eo(s,!1)}function eo(s,t){return lt(s)?s:new so(s,t)}class so{constructor(t,e){this.dep=new yi,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=e?t:G(t),this._value=e?t:Ot(t),this.__v_isShallow=e}get value(){return this.dep.track(),this._value}set value(t){const e=this._rawValue,i=this.__v_isShallow||Dt(t)||ee(t);t=i?t:G(t),de(t,e)&&(this._rawValue=t,this._value=i?t:Ot(t),this.dep.trigger())}}function io(s){return lt(s)?s.value:s}const no={get:(s,t,e)=>t==="__v_raw"?s:io(Reflect.get(s,t,e)),set:(s,t,e,i)=>{const n=s[t];return lt(n)&&!lt(e)?(n.value=e,!0):Reflect.set(s,t,e,i)}};function Ln(s){return be(s)?s:new Proxy(s,no)}class ro{constructor(t,e,i){this.fn=t,this.setter=e,this._value=void 0,this.dep=new yi(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Xe-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!e,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Z!==this)return Rn(this,!0),!0}get value(){const t=this.dep.track();return Dn(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function oo(s,t,e=!1){let i,n;return F(s)?i=s:(i=s.get,n=s.set),new ro(i,n,e)}const cs={},_s=new WeakMap;let ye;function lo(s,t=!1,e=ye){if(e){let i=_s.get(e);i||_s.set(e,i=[]),i.push(s)}}function ao(s,t,e=J){const{immediate:i,deep:n,once:r,scheduler:o,augmentJob:l,call:a}=e,u=A=>n?A:Dt(A)||n===!1||n===0?Jt(A,1):Jt(A);let c,d,_,T,D=!1,k=!1;if(lt(s)?(d=()=>s.value,D=Dt(s)):be(s)?(d=()=>u(s),D=!0):I(s)?(k=!0,D=s.some(A=>be(A)||Dt(A)),d=()=>s.map(A=>{if(lt(A))return A.value;if(be(A))return u(A);if(F(A))return a?a(A,2):A()})):F(s)?t?d=a?()=>a(s,2):s:d=()=>{if(_){Qt();try{_()}finally{te()}}const A=ye;ye=c;try{return a?a(s,3,[T]):s(T)}finally{ye=A}}:d=Ut,t&&n){const A=d,X=n===!0?1/0:n;d=()=>Jt(A(),X)}const V=Hr(),B=()=>{c.stop(),V&&V.active&&fi(V.effects,c)};if(r&&t){const A=t;t=(...X)=>{A(...X),B()}}let W=k?new Array(s.length).fill(cs):cs;const q=A=>{if(!(!(c.flags&1)||!c.dirty&&!A))if(t){const X=c.run();if(n||D||(k?X.some((Rt,gt)=>de(Rt,W[gt])):de(X,W))){_&&_();const Rt=ye;ye=c;try{const gt=[X,W===cs?void 0:k&&W[0]===cs?[]:W,T];W=X,a?a(t,3,gt):t(...gt)}finally{ye=Rt}}}else c.run()};return l&&l(q),c=new En(d),c.scheduler=o?()=>o(q,!1):q,T=A=>lo(A,!1,c),_=c.onStop=()=>{const A=_s.get(c);if(A){if(a)a(A,4);else for(const X of A)X();_s.delete(c)}},t?i?q(!0):W=c.run():o?o(q.bind(null,!0),!0):c.run(),B.pause=c.pause.bind(c),B.resume=c.resume.bind(c),B.stop=B,B}function Jt(s,t=1/0,e){if(t<=0||!Q(s)||s.__v_skip||(e=e||new Map,(e.get(s)||0)>=t))return s;if(e.set(s,t),t--,lt(s))Jt(s.value,t,e);else if(I(s))for(let i=0;i<s.length;i++)Jt(s[i],t,e);else if(Ns(s)||Ne(s))s.forEach(i=>{Jt(i,t,e)});else if(mn(s)){for(const i in s)Jt(s[i],t,e);for(const i of Object.getOwnPropertySymbols(s))Object.prototype.propertyIsEnumerable.call(s,i)&&Jt(s[i],t,e)}return s}/**
* @vue/runtime-core v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ns(s,t,e,i){try{return i?s(...i):s()}catch(n){Ps(n,t,e)}}function Vt(s,t,e,i){if(F(s)){const n=ns(s,t,e,i);return n&&gn(n)&&n.catch(r=>{Ps(r,t,e)}),n}if(I(s)){const n=[];for(let r=0;r<s.length;r++)n.push(Vt(s[r],t,e,i));return n}}function Ps(s,t,e,i=!0){const n=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||J;if(t){let l=t.parent;const a=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${e}`;for(;l;){const c=l.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](s,a,u)===!1)return}l=l.parent}if(r){Qt(),ns(r,null,10,[s,a,u]),te();return}}co(s,e,n,i,o)}function co(s,t,e,i=!0,n=!1){if(n)throw s;console.error(s)}const ht=[];let Ft=-1;const Me=[];let ce=null,De=0;const In=Promise.resolve();let ys=null;function hs(s){const t=ys||In;return s?t.then(this?s.bind(this):s):t}function uo(s){let t=Ft+1,e=ht.length;for(;t<e;){const i=t+e>>>1,n=ht[i],r=Ze(n);r<s||r===s&&n.flags&2?t=i+1:e=i}return t}function Ei(s){if(!(s.flags&1)){const t=Ze(s),e=ht[ht.length-1];!e||!(s.flags&2)&&t>=Ze(e)?ht.push(s):ht.splice(uo(t),0,s),s.flags|=1,Bn()}}function Bn(){ys||(ys=In.then($n))}function ho(s){I(s)?Me.push(...s):ce&&s.id===-1?ce.splice(De+1,0,s):s.flags&1||(Me.push(s),s.flags|=1),Bn()}function Ii(s,t,e=Ft+1){for(;e<ht.length;e++){const i=ht[e];if(i&&i.flags&2){if(s&&i.id!==s.uid)continue;ht.splice(e,1),e--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function Fn(s){if(Me.length){const t=[...new Set(Me)].sort((e,i)=>Ze(e)-Ze(i));if(Me.length=0,ce){ce.push(...t);return}for(ce=t,De=0;De<ce.length;De++){const e=ce[De];e.flags&4&&(e.flags&=-2),e.flags&8||e(),e.flags&=-2}ce=null,De=0}}const Ze=s=>s.id==null?s.flags&2?-1:1/0:s.id;function $n(s){try{for(Ft=0;Ft<ht.length;Ft++){const t=ht[Ft];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),ns(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Ft<ht.length;Ft++){const t=ht[Ft];t&&(t.flags&=-2)}Ft=-1,ht.length=0,Fn(),ys=null,(ht.length||Me.length)&&$n()}}let St=null,Wn=null;function vs(s){const t=St;return St=s,Wn=s&&s.type.__scopeId||null,t}function fo(s,t=St,e){if(!t||s._n)return s;const i=(...n)=>{i._d&&Yi(-1);const r=vs(t);let o;try{o=s(...n)}finally{vs(r),i._d&&Yi(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function Se(s,t){if(St===null)return s;const e=Fs(St),i=s.dirs||(s.dirs=[]);for(let n=0;n<t.length;n++){let[r,o,l,a=J]=t[n];r&&(F(r)&&(r={mounted:r,updated:r}),r.deep&&Jt(o),i.push({dir:r,instance:e,value:o,oldValue:void 0,arg:l,modifiers:a}))}return s}function me(s,t,e,i){const n=s.dirs,r=t&&t.dirs;for(let o=0;o<n.length;o++){const l=n[o];r&&(l.oldValue=r[o].value);let a=l.dir[i];a&&(Qt(),Vt(a,e,8,[s.el,l,s,t]),te())}}const go=Symbol("_vte"),po=s=>s.__isTeleport,mo=Symbol("_leaveCb");function Ci(s,t){s.shapeFlag&6&&s.component?(s.transition=t,Ci(s.component.subTree,t)):s.shapeFlag&128?(s.ssContent.transition=t.clone(s.ssContent),s.ssFallback.transition=t.clone(s.ssFallback)):s.transition=t}function Un(s){s.ids=[s.ids[0]+s.ids[2]+++"-",0,0]}const bs=new WeakMap;function Ve(s,t,e,i,n=!1){if(I(s)){s.forEach((D,k)=>Ve(D,t&&(I(t)?t[k]:t),e,i,n));return}if(Ke(i)&&!n){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&Ve(s,t,e,i.component.subTree);return}const r=i.shapeFlag&4?Fs(i.component):i.el,o=n?null:r,{i:l,r:a}=s,u=t&&t.r,c=l.refs===J?l.refs={}:l.refs,d=l.setupState,_=G(d),T=d===J?fn:D=>j(_,D);if(u!=null&&u!==a){if(Bi(t),st(u))c[u]=null,T(u)&&(d[u]=null);else if(lt(u)){u.value=null;const D=t;D.k&&(c[D.k]=null)}}if(F(a))ns(a,l,12,[o,c]);else{const D=st(a),k=lt(a);if(D||k){const V=()=>{if(s.f){const B=D?T(a)?d[a]:c[a]:a.value;if(n)I(B)&&fi(B,r);else if(I(B))B.includes(r)||B.push(r);else if(D)c[a]=[r],T(a)&&(d[a]=c[a]);else{const W=[r];a.value=W,s.k&&(c[s.k]=W)}}else D?(c[a]=o,T(a)&&(d[a]=o)):k&&(a.value=o,s.k&&(c[s.k]=o))};if(o){const B=()=>{V(),bs.delete(s)};B.id=-1,bs.set(s,B),xt(B,e)}else Bi(s),V()}}}function Bi(s){const t=bs.get(s);t&&(t.flags|=8,bs.delete(s))}As().requestIdleCallback;As().cancelIdleCallback;const Ke=s=>!!s.type.__asyncLoader,Gn=s=>s.type.__isKeepAlive;function _o(s,t){jn(s,"a",t)}function yo(s,t){jn(s,"da",t)}function jn(s,t,e=dt){const i=s.__wdc||(s.__wdc=()=>{let n=e;for(;n;){if(n.isDeactivated)return;n=n.parent}return s()});if(Ls(t,i,e),e){let n=e.parent;for(;n&&n.parent;)Gn(n.parent.vnode)&&vo(i,t,e,n),n=n.parent}}function vo(s,t,e,i){const n=Ls(t,s,i,!0);Ri(()=>{fi(i[t],n)},e)}function Ls(s,t,e=dt,i=!1){if(e){const n=e[s]||(e[s]=[]),r=t.__weh||(t.__weh=(...o)=>{Qt();const l=rs(e),a=Vt(t,e,s,o);return l(),te(),a});return i?n.unshift(r):n.push(r),r}}const se=s=>(t,e=dt)=>{(!ts||s==="sp")&&Ls(s,(...i)=>t(...i),e)},bo=se("bm"),Vn=se("m"),wo=se("bu"),xo=se("u"),Eo=se("bum"),Ri=se("um"),Co=se("sp"),Ro=se("rtg"),To=se("rtc");function So(s,t=dt){Ls("ec",s,t)}const Do=Symbol.for("v-ndc");function le(s,t,e,i){let n;const r=e,o=I(s);if(o||st(s)){const l=o&&be(s);let a=!1,u=!1;l&&(a=!Dt(s),u=ee(s),s=zs(s)),n=new Array(s.length);for(let c=0,d=s.length;c<d;c++)n[c]=t(a?u?Oe(Ot(s[c])):Ot(s[c]):s[c],c,void 0,r)}else if(typeof s=="number"){n=new Array(s);for(let l=0;l<s;l++)n[l]=t(l+1,l,void 0,r)}else if(Q(s))if(s[Symbol.iterator])n=Array.from(s,(l,a)=>t(l,a,void 0,r));else{const l=Object.keys(s);n=new Array(l.length);for(let a=0,u=l.length;a<u;a++){const c=l[a];n[a]=t(s[c],c,a,r)}}else n=[];return n}const ri=s=>s?fr(s)?Fs(s):ri(s.parent):null,Ye=ft(Object.create(null),{$:s=>s,$el:s=>s.vnode.el,$data:s=>s.data,$props:s=>s.props,$attrs:s=>s.attrs,$slots:s=>s.slots,$refs:s=>s.refs,$parent:s=>ri(s.parent),$root:s=>ri(s.root),$host:s=>s.ce,$emit:s=>s.emit,$options:s=>Yn(s),$forceUpdate:s=>s.f||(s.f=()=>{Ei(s.update)}),$nextTick:s=>s.n||(s.n=hs.bind(s.proxy)),$watch:s=>Fo.bind(s)}),Ks=(s,t)=>s!==J&&!s.__isScriptSetup&&j(s,t),ko={get({_:s},t){if(t==="__v_skip")return!0;const{ctx:e,setupState:i,data:n,props:r,accessCache:o,type:l,appContext:a}=s;if(t[0]!=="$"){const _=o[t];if(_!==void 0)switch(_){case 1:return i[t];case 2:return n[t];case 4:return e[t];case 3:return r[t]}else{if(Ks(i,t))return o[t]=1,i[t];if(n!==J&&j(n,t))return o[t]=2,n[t];if(j(r,t))return o[t]=3,r[t];if(e!==J&&j(e,t))return o[t]=4,e[t];oi&&(o[t]=0)}}const u=Ye[t];let c,d;if(u)return t==="$attrs"&&ot(s.attrs,"get",""),u(s);if((c=l.__cssModules)&&(c=c[t]))return c;if(e!==J&&j(e,t))return o[t]=4,e[t];if(d=a.config.globalProperties,j(d,t))return d[t]},set({_:s},t,e){const{data:i,setupState:n,ctx:r}=s;return Ks(n,t)?(n[t]=e,!0):i!==J&&j(i,t)?(i[t]=e,!0):j(s.props,t)||t[0]==="$"&&t.slice(1)in s?!1:(r[t]=e,!0)},has({_:{data:s,setupState:t,accessCache:e,ctx:i,appContext:n,props:r,type:o}},l){let a;return!!(e[l]||s!==J&&l[0]!=="$"&&j(s,l)||Ks(t,l)||j(r,l)||j(i,l)||j(Ye,l)||j(n.config.globalProperties,l)||(a=o.__cssModules)&&a[l])},defineProperty(s,t,e){return e.get!=null?s._.accessCache[t]=0:j(e,"value")&&this.set(s,t,e.value,null),Reflect.defineProperty(s,t,e)}};function Fi(s){return I(s)?s.reduce((t,e)=>(t[e]=null,t),{}):s}let oi=!0;function No(s){const t=Yn(s),e=s.proxy,i=s.ctx;oi=!1,t.beforeCreate&&$i(t.beforeCreate,s,"bc");const{data:n,computed:r,methods:o,watch:l,provide:a,inject:u,created:c,beforeMount:d,mounted:_,beforeUpdate:T,updated:D,activated:k,deactivated:V,beforeDestroy:B,beforeUnmount:W,destroyed:q,unmounted:A,render:X,renderTracked:Rt,renderTriggered:gt,errorCaptured:vt,serverPrefetch:ie,expose:pt,inheritAttrs:Ht,components:xe,directives:Ee,filters:Kt}=t;if(u&&Mo(u,i,null),o)for(const tt in o){const U=o[tt];F(U)&&(i[tt]=U.bind(e))}if(n){const tt=n.call(e,e);Q(tt)&&(s.data=bi(tt))}if(oi=!0,r)for(const tt in r){const U=r[tt],kt=F(U)?U.bind(e,e):F(U.get)?U.get.bind(e,e):Ut,ne=!F(U)&&F(U.set)?U.set.bind(e):Ut,at=pr({get:kt,set:ne});Object.defineProperty(i,tt,{enumerable:!0,configurable:!0,get:()=>at.value,set:Tt=>at.value=Tt})}if(l)for(const tt in l)Kn(l[tt],i,e,tt);if(a){const tt=F(a)?a.call(e):a;Reflect.ownKeys(tt).forEach(U=>{Lo(U,tt[U])})}c&&$i(c,s,"c");function it(tt,U){I(U)?U.forEach(kt=>tt(kt.bind(e))):U&&tt(U.bind(e))}if(it(bo,d),it(Vn,_),it(wo,T),it(xo,D),it(_o,k),it(yo,V),it(So,vt),it(To,Rt),it(Ro,gt),it(Eo,W),it(Ri,A),it(Co,ie),I(pt))if(pt.length){const tt=s.exposed||(s.exposed={});pt.forEach(U=>{Object.defineProperty(tt,U,{get:()=>e[U],set:kt=>e[U]=kt,enumerable:!0})})}else s.exposed||(s.exposed={});X&&s.render===Ut&&(s.render=X),Ht!=null&&(s.inheritAttrs=Ht),xe&&(s.components=xe),Ee&&(s.directives=Ee),ie&&Un(s)}function Mo(s,t,e=Ut){I(s)&&(s=li(s));for(const i in s){const n=s[i];let r;Q(n)?"default"in n?r=ds(n.from||i,n.default,!0):r=ds(n.from||i):r=ds(n),lt(r)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):t[i]=r}}function $i(s,t,e){Vt(I(s)?s.map(i=>i.bind(t.proxy)):s.bind(t.proxy),t,e)}function Kn(s,t,e,i){let n=i.includes(".")?Jn(e,i):()=>e[i];if(st(s)){const r=t[s];F(r)&&Ys(n,r)}else if(F(s))Ys(n,s.bind(e));else if(Q(s))if(I(s))s.forEach(r=>Kn(r,t,e,i));else{const r=F(s.handler)?s.handler.bind(e):t[s.handler];F(r)&&Ys(n,r,s)}}function Yn(s){const t=s.type,{mixins:e,extends:i}=t,{mixins:n,optionsCache:r,config:{optionMergeStrategies:o}}=s.appContext,l=r.get(t);let a;return l?a=l:!n.length&&!e&&!i?a=t:(a={},n.length&&n.forEach(u=>ws(a,u,o,!0)),ws(a,t,o)),Q(t)&&r.set(t,a),a}function ws(s,t,e,i=!1){const{mixins:n,extends:r}=t;r&&ws(s,r,e,!0),n&&n.forEach(o=>ws(s,o,e,!0));for(const o in t)if(!(i&&o==="expose")){const l=Ao[o]||e&&e[o];s[o]=l?l(s[o],t[o]):t[o]}return s}const Ao={data:Wi,props:Ui,emits:Ui,methods:We,computed:We,beforeCreate:ut,created:ut,beforeMount:ut,mounted:ut,beforeUpdate:ut,updated:ut,beforeDestroy:ut,beforeUnmount:ut,destroyed:ut,unmounted:ut,activated:ut,deactivated:ut,errorCaptured:ut,serverPrefetch:ut,components:We,directives:We,watch:Ho,provide:Wi,inject:Oo};function Wi(s,t){return t?s?function(){return ft(F(s)?s.call(this,this):s,F(t)?t.call(this,this):t)}:t:s}function Oo(s,t){return We(li(s),li(t))}function li(s){if(I(s)){const t={};for(let e=0;e<s.length;e++)t[s[e]]=s[e];return t}return s}function ut(s,t){return s?[...new Set([].concat(s,t))]:t}function We(s,t){return s?ft(Object.create(null),s,t):t}function Ui(s,t){return s?I(s)&&I(t)?[...new Set([...s,...t])]:ft(Object.create(null),Fi(s),Fi(t??{})):t}function Ho(s,t){if(!s)return t;if(!t)return s;const e=ft(Object.create(null),s);for(const i in t)e[i]=ut(s[i],t[i]);return e}function qn(){return{app:null,config:{isNativeTag:fn,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let zo=0;function Po(s,t){return function(i,n=null){F(i)||(i=ft({},i)),n!=null&&!Q(n)&&(n=null);const r=qn(),o=new WeakSet,l=[];let a=!1;const u=r.app={_uid:zo++,_component:i,_props:n,_container:null,_context:r,_instance:null,version:vl,get config(){return r.config},set config(c){},use(c,...d){return o.has(c)||(c&&F(c.install)?(o.add(c),c.install(u,...d)):F(c)&&(o.add(c),c(u,...d))),u},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),u},component(c,d){return d?(r.components[c]=d,u):r.components[c]},directive(c,d){return d?(r.directives[c]=d,u):r.directives[c]},mount(c,d,_){if(!a){const T=u._ceVNode||Gt(i,n);return T.appContext=r,_===!0?_="svg":_===!1&&(_=void 0),s(T,c,_),a=!0,u._container=c,c.__vue_app__=u,Fs(T.component)}},onUnmount(c){l.push(c)},unmount(){a&&(Vt(l,u._instance,16),s(null,u._container),delete u._container.__vue_app__)},provide(c,d){return r.provides[c]=d,u},runWithContext(c){const d=Ae;Ae=u;try{return c()}finally{Ae=d}}};return u}}let Ae=null;function Lo(s,t){if(dt){let e=dt.provides;const i=dt.parent&&dt.parent.provides;i===e&&(e=dt.provides=Object.create(i)),e[s]=t}}function ds(s,t,e=!1){const i=fl();if(i||Ae){let n=Ae?Ae._context.provides:i?i.parent==null||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(n&&s in n)return n[s];if(arguments.length>1)return e&&F(t)?t.call(i&&i.proxy):t}}const Io=Symbol.for("v-scx"),Bo=()=>ds(Io);function Ys(s,t,e){return Xn(s,t,e)}function Xn(s,t,e=J){const{immediate:i,deep:n,flush:r,once:o}=e,l=ft({},e),a=t&&i||!t&&r!=="post";let u;if(ts){if(r==="sync"){const T=Bo();u=T.__watcherHandles||(T.__watcherHandles=[])}else if(!a){const T=()=>{};return T.stop=Ut,T.resume=Ut,T.pause=Ut,T}}const c=dt;l.call=(T,D,k)=>Vt(T,c,D,k);let d=!1;r==="post"?l.scheduler=T=>{xt(T,c&&c.suspense)}:r!=="sync"&&(d=!0,l.scheduler=(T,D)=>{D?T():Ei(T)}),l.augmentJob=T=>{t&&(T.flags|=4),d&&(T.flags|=2,c&&(T.id=c.uid,T.i=c))};const _=ao(s,t,l);return ts&&(u?u.push(_):a&&_()),_}function Fo(s,t,e){const i=this.proxy,n=st(s)?s.includes(".")?Jn(i,s):()=>i[s]:s.bind(i,i);let r;F(t)?r=t:(r=t.handler,e=t);const o=rs(this),l=Xn(n,r.bind(i),e);return o(),l}function Jn(s,t){const e=t.split(".");return()=>{let i=s;for(let n=0;n<e.length&&i;n++)i=i[e[n]];return i}}const $o=(s,t)=>t==="modelValue"||t==="model-value"?s.modelModifiers:s[`${t}Modifiers`]||s[`${fe(t)}Modifiers`]||s[`${we(t)}Modifiers`];function Wo(s,t,...e){if(s.isUnmounted)return;const i=s.vnode.props||J;let n=e;const r=t.startsWith("update:"),o=r&&$o(i,t.slice(7));o&&(o.trim&&(n=e.map(c=>st(c)?c.trim():c)),o.number&&(n=e.map(Rr)));let l,a=i[l=Ws(t)]||i[l=Ws(fe(t))];!a&&r&&(a=i[l=Ws(we(t))]),a&&Vt(a,s,6,n);const u=i[l+"Once"];if(u){if(!s.emitted)s.emitted={};else if(s.emitted[l])return;s.emitted[l]=!0,Vt(u,s,6,n)}}const Uo=new WeakMap;function Zn(s,t,e=!1){const i=e?Uo:t.emitsCache,n=i.get(s);if(n!==void 0)return n;const r=s.emits;let o={},l=!1;if(!F(s)){const a=u=>{const c=Zn(u,t,!0);c&&(l=!0,ft(o,c))};!e&&t.mixins.length&&t.mixins.forEach(a),s.extends&&a(s.extends),s.mixins&&s.mixins.forEach(a)}return!r&&!l?(Q(s)&&i.set(s,null),null):(I(r)?r.forEach(a=>o[a]=null):ft(o,r),Q(s)&&i.set(s,o),o)}function Is(s,t){return!s||!ks(t)?!1:(t=t.slice(2).replace(/Once$/,""),j(s,t[0].toLowerCase()+t.slice(1))||j(s,we(t))||j(s,t))}function Gi(s){const{type:t,vnode:e,proxy:i,withProxy:n,propsOptions:[r],slots:o,attrs:l,emit:a,render:u,renderCache:c,props:d,data:_,setupState:T,ctx:D,inheritAttrs:k}=s,V=vs(s);let B,W;try{if(e.shapeFlag&4){const A=n||i,X=A;B=$t(u.call(X,A,c,d,T,_,D)),W=l}else{const A=t;B=$t(A.length>1?A(d,{attrs:l,slots:o,emit:a}):A(d,null)),W=t.props?l:Go(l)}}catch(A){qe.length=0,Ps(A,s,1),B=Gt(ge)}let q=B;if(W&&k!==!1){const A=Object.keys(W),{shapeFlag:X}=q;A.length&&X&7&&(r&&A.some(di)&&(W=jo(W,r)),q=He(q,W,!1,!0))}return e.dirs&&(q=He(q,null,!1,!0),q.dirs=q.dirs?q.dirs.concat(e.dirs):e.dirs),e.transition&&Ci(q,e.transition),B=q,vs(V),B}const Go=s=>{let t;for(const e in s)(e==="class"||e==="style"||ks(e))&&((t||(t={}))[e]=s[e]);return t},jo=(s,t)=>{const e={};for(const i in s)(!di(i)||!(i.slice(9)in t))&&(e[i]=s[i]);return e};function Vo(s,t,e){const{props:i,children:n,component:r}=s,{props:o,children:l,patchFlag:a}=t,u=r.emitsOptions;if(t.dirs||t.transition)return!0;if(e&&a>=0){if(a&1024)return!0;if(a&16)return i?ji(i,o,u):!!o;if(a&8){const c=t.dynamicProps;for(let d=0;d<c.length;d++){const _=c[d];if(o[_]!==i[_]&&!Is(u,_))return!0}}}else return(n||l)&&(!l||!l.$stable)?!0:i===o?!1:i?o?ji(i,o,u):!0:!!o;return!1}function ji(s,t,e){const i=Object.keys(t);if(i.length!==Object.keys(s).length)return!0;for(let n=0;n<i.length;n++){const r=i[n];if(t[r]!==s[r]&&!Is(e,r))return!0}return!1}function Ko({vnode:s,parent:t},e){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===s&&(i.el=s.el),i===s)(s=t.vnode).el=e,t=t.parent;else break}}const Qn={},tr=()=>Object.create(Qn),er=s=>Object.getPrototypeOf(s)===Qn;function Yo(s,t,e,i=!1){const n={},r=tr();s.propsDefaults=Object.create(null),sr(s,t,n,r);for(const o in s.propsOptions[0])o in n||(n[o]=void 0);e?s.props=i?n:Qr(n):s.type.props?s.props=n:s.props=r,s.attrs=r}function qo(s,t,e,i){const{props:n,attrs:r,vnode:{patchFlag:o}}=s,l=G(n),[a]=s.propsOptions;let u=!1;if((i||o>0)&&!(o&16)){if(o&8){const c=s.vnode.dynamicProps;for(let d=0;d<c.length;d++){let _=c[d];if(Is(s.emitsOptions,_))continue;const T=t[_];if(a)if(j(r,_))T!==r[_]&&(r[_]=T,u=!0);else{const D=fe(_);n[D]=ai(a,l,D,T,s,!1)}else T!==r[_]&&(r[_]=T,u=!0)}}}else{sr(s,t,n,r)&&(u=!0);let c;for(const d in l)(!t||!j(t,d)&&((c=we(d))===d||!j(t,c)))&&(a?e&&(e[d]!==void 0||e[c]!==void 0)&&(n[d]=ai(a,l,d,void 0,s,!0)):delete n[d]);if(r!==l)for(const d in r)(!t||!j(t,d))&&(delete r[d],u=!0)}u&&Xt(s.attrs,"set","")}function sr(s,t,e,i){const[n,r]=s.propsOptions;let o=!1,l;if(t)for(let a in t){if(Ue(a))continue;const u=t[a];let c;n&&j(n,c=fe(a))?!r||!r.includes(c)?e[c]=u:(l||(l={}))[c]=u:Is(s.emitsOptions,a)||(!(a in i)||u!==i[a])&&(i[a]=u,o=!0)}if(r){const a=G(e),u=l||J;for(let c=0;c<r.length;c++){const d=r[c];e[d]=ai(n,a,d,u[d],s,!j(u,d))}}return o}function ai(s,t,e,i,n,r){const o=s[e];if(o!=null){const l=j(o,"default");if(l&&i===void 0){const a=o.default;if(o.type!==Function&&!o.skipFactory&&F(a)){const{propsDefaults:u}=n;if(e in u)i=u[e];else{const c=rs(n);i=u[e]=a.call(null,t),c()}}else i=a;n.ce&&n.ce._setProp(e,i)}o[0]&&(r&&!l?i=!1:o[1]&&(i===""||i===we(e))&&(i=!0))}return i}const Xo=new WeakMap;function ir(s,t,e=!1){const i=e?Xo:t.propsCache,n=i.get(s);if(n)return n;const r=s.props,o={},l=[];let a=!1;if(!F(s)){const c=d=>{a=!0;const[_,T]=ir(d,t,!0);ft(o,_),T&&l.push(...T)};!e&&t.mixins.length&&t.mixins.forEach(c),s.extends&&c(s.extends),s.mixins&&s.mixins.forEach(c)}if(!r&&!a)return Q(s)&&i.set(s,ke),ke;if(I(r))for(let c=0;c<r.length;c++){const d=fe(r[c]);Vi(d)&&(o[d]=J)}else if(r)for(const c in r){const d=fe(c);if(Vi(d)){const _=r[c],T=o[d]=I(_)||F(_)?{type:_}:ft({},_),D=T.type;let k=!1,V=!0;if(I(D))for(let B=0;B<D.length;++B){const W=D[B],q=F(W)&&W.name;if(q==="Boolean"){k=!0;break}else q==="String"&&(V=!1)}else k=F(D)&&D.name==="Boolean";T[0]=k,T[1]=V,(k||j(T,"default"))&&l.push(d)}}const u=[o,l];return Q(s)&&i.set(s,u),u}function Vi(s){return s[0]!=="$"&&!Ue(s)}const Ti=s=>s==="_"||s==="_ctx"||s==="$stable",Si=s=>I(s)?s.map($t):[$t(s)],Jo=(s,t,e)=>{if(t._n)return t;const i=fo((...n)=>Si(t(...n)),e);return i._c=!1,i},nr=(s,t,e)=>{const i=s._ctx;for(const n in s){if(Ti(n))continue;const r=s[n];if(F(r))t[n]=Jo(n,r,i);else if(r!=null){const o=Si(r);t[n]=()=>o}}},rr=(s,t)=>{const e=Si(t);s.slots.default=()=>e},or=(s,t,e)=>{for(const i in t)(e||!Ti(i))&&(s[i]=t[i])},Zo=(s,t,e)=>{const i=s.slots=tr();if(s.vnode.shapeFlag&32){const n=t._;n?(or(i,t,e),e&&yn(i,"_",n,!0)):nr(t,i)}else t&&rr(s,t)},Qo=(s,t,e)=>{const{vnode:i,slots:n}=s;let r=!0,o=J;if(i.shapeFlag&32){const l=t._;l?e&&l===1?r=!1:or(n,t,e):(r=!t.$stable,nr(t,n)),o=t}else t&&(rr(s,t),o={default:1});if(r)for(const l in n)!Ti(l)&&o[l]==null&&delete n[l]},xt=nl;function tl(s){return el(s)}function el(s,t){const e=As();e.__VUE__=!0;const{insert:i,remove:n,patchProp:r,createElement:o,createText:l,createComment:a,setText:u,setElementText:c,parentNode:d,nextSibling:_,setScopeId:T=Ut,insertStaticContent:D}=s,k=(h,g,v,R=null,C=null,E=null,m=void 0,f=null,x=!!g.dynamicChildren)=>{if(h===g)return;h&&!Be(h,g)&&(R=oe(h),Tt(h,C,E,!0),h=null),g.patchFlag===-2&&(x=!1,g.dynamicChildren=null);const{type:b,ref:w,shapeFlag:S}=g;switch(b){case Bs:V(h,g,v,R);break;case ge:B(h,g,v,R);break;case fs:h==null&&W(g,v,R,m);break;case rt:xe(h,g,v,R,C,E,m,f,x);break;default:S&1?X(h,g,v,R,C,E,m,f,x):S&6?Ee(h,g,v,R,C,E,m,f,x):(S&64||S&128)&&b.process(h,g,v,R,C,E,m,f,x,Nt)}w!=null&&C?Ve(w,h&&h.ref,E,g||h,!g):w==null&&h&&h.ref!=null&&Ve(h.ref,null,E,h,!0)},V=(h,g,v,R)=>{if(h==null)i(g.el=l(g.children),v,R);else{const C=g.el=h.el;g.children!==h.children&&u(C,g.children)}},B=(h,g,v,R)=>{h==null?i(g.el=a(g.children||""),v,R):g.el=h.el},W=(h,g,v,R)=>{[h.el,h.anchor]=D(h.children,g,v,R,h.el,h.anchor)},q=({el:h,anchor:g},v,R)=>{let C;for(;h&&h!==g;)C=_(h),i(h,v,R),h=C;i(g,v,R)},A=({el:h,anchor:g})=>{let v;for(;h&&h!==g;)v=_(h),n(h),h=v;n(g)},X=(h,g,v,R,C,E,m,f,x)=>{if(g.type==="svg"?m="svg":g.type==="math"&&(m="mathml"),h==null)Rt(g,v,R,C,E,m,f,x);else{const b=h.el&&h.el._isVueCE?h.el:null;try{b&&b._beginPatch(),ie(h,g,C,E,m,f,x)}finally{b&&b._endPatch()}}},Rt=(h,g,v,R,C,E,m,f)=>{let x,b;const{props:w,shapeFlag:S,transition:M,dirs:H}=h;if(x=h.el=o(h.type,E,w&&w.is,w),S&8?c(x,h.children):S&16&&vt(h.children,x,null,R,C,qs(h,E),m,f),H&&me(h,null,R,"created"),gt(x,h,h.scopeId,m,R),w){for(const K in w)K!=="value"&&!Ue(K)&&r(x,K,null,w[K],E,R);"value"in w&&r(x,"value",null,w.value,E),(b=w.onVnodeBeforeMount)&&Bt(b,R,h)}H&&me(h,null,R,"beforeMount");const $=sl(C,M);$&&M.beforeEnter(x),i(x,g,v),((b=w&&w.onVnodeMounted)||$||H)&&xt(()=>{b&&Bt(b,R,h),$&&M.enter(x),H&&me(h,null,R,"mounted")},C)},gt=(h,g,v,R,C)=>{if(v&&T(h,v),R)for(let E=0;E<R.length;E++)T(h,R[E]);if(C){let E=C.subTree;if(g===E||cr(E.type)&&(E.ssContent===g||E.ssFallback===g)){const m=C.vnode;gt(h,m,m.scopeId,m.slotScopeIds,C.parent)}}},vt=(h,g,v,R,C,E,m,f,x=0)=>{for(let b=x;b<h.length;b++){const w=h[b]=f?ue(h[b]):$t(h[b]);k(null,w,g,v,R,C,E,m,f)}},ie=(h,g,v,R,C,E,m)=>{const f=g.el=h.el;let{patchFlag:x,dynamicChildren:b,dirs:w}=g;x|=h.patchFlag&16;const S=h.props||J,M=g.props||J;let H;if(v&&_e(v,!1),(H=M.onVnodeBeforeUpdate)&&Bt(H,v,g,h),w&&me(g,h,v,"beforeUpdate"),v&&_e(v,!0),(S.innerHTML&&M.innerHTML==null||S.textContent&&M.textContent==null)&&c(f,""),b?pt(h.dynamicChildren,b,f,v,R,qs(g,C),E):m||U(h,g,f,null,v,R,qs(g,C),E,!1),x>0){if(x&16)Ht(f,S,M,v,C);else if(x&2&&S.class!==M.class&&r(f,"class",null,M.class,C),x&4&&r(f,"style",S.style,M.style,C),x&8){const $=g.dynamicProps;for(let K=0;K<$.length;K++){const Y=$[K],mt=S[Y],_t=M[Y];(_t!==mt||Y==="value")&&r(f,Y,mt,_t,C,v)}}x&1&&h.children!==g.children&&c(f,g.children)}else!m&&b==null&&Ht(f,S,M,v,C);((H=M.onVnodeUpdated)||w)&&xt(()=>{H&&Bt(H,v,g,h),w&&me(g,h,v,"updated")},R)},pt=(h,g,v,R,C,E,m)=>{for(let f=0;f<g.length;f++){const x=h[f],b=g[f],w=x.el&&(x.type===rt||!Be(x,b)||x.shapeFlag&198)?d(x.el):v;k(x,b,w,null,R,C,E,m,!0)}},Ht=(h,g,v,R,C)=>{if(g!==v){if(g!==J)for(const E in g)!Ue(E)&&!(E in v)&&r(h,E,g[E],null,C,R);for(const E in v){if(Ue(E))continue;const m=v[E],f=g[E];m!==f&&E!=="value"&&r(h,E,f,m,C,R)}"value"in v&&r(h,"value",g.value,v.value,C)}},xe=(h,g,v,R,C,E,m,f,x)=>{const b=g.el=h?h.el:l(""),w=g.anchor=h?h.anchor:l("");let{patchFlag:S,dynamicChildren:M,slotScopeIds:H}=g;H&&(f=f?f.concat(H):H),h==null?(i(b,v,R),i(w,v,R),vt(g.children||[],v,w,C,E,m,f,x)):S>0&&S&64&&M&&h.dynamicChildren?(pt(h.dynamicChildren,M,v,C,E,m,f),(g.key!=null||C&&g===C.subTree)&&lr(h,g,!0)):U(h,g,v,w,C,E,m,f,x)},Ee=(h,g,v,R,C,E,m,f,x)=>{g.slotScopeIds=f,h==null?g.shapeFlag&512?C.ctx.activate(g,v,R,m,x):Kt(g,v,R,C,E,m,x):Ce(h,g,x)},Kt=(h,g,v,R,C,E,m)=>{const f=h.component=dl(h,R,C);if(Gn(h)&&(f.ctx.renderer=Nt),gl(f,!1,m),f.asyncDep){if(C&&C.registerDep(f,it,m),!h.el){const x=f.subTree=Gt(ge);B(null,x,g,v),h.placeholder=x.el}}else it(f,h,g,v,C,E,m)},Ce=(h,g,v)=>{const R=g.component=h.component;if(Vo(h,g,v))if(R.asyncDep&&!R.asyncResolved){tt(R,g,v);return}else R.next=g,R.update();else g.el=h.el,R.vnode=g},it=(h,g,v,R,C,E,m)=>{const f=()=>{if(h.isMounted){let{next:S,bu:M,u:H,parent:$,vnode:K}=h;{const Lt=ar(h);if(Lt){S&&(S.el=K.el,tt(h,S,m)),Lt.asyncDep.then(()=>{h.isUnmounted||f()});return}}let Y=S,mt;_e(h,!1),S?(S.el=K.el,tt(h,S,m)):S=K,M&&us(M),(mt=S.props&&S.props.onVnodeBeforeUpdate)&&Bt(mt,$,S,K),_e(h,!0);const _t=Gi(h),Pt=h.subTree;h.subTree=_t,k(Pt,_t,d(Pt.el),oe(Pt),h,C,E),S.el=_t.el,Y===null&&Ko(h,_t.el),H&&xt(H,C),(mt=S.props&&S.props.onVnodeUpdated)&&xt(()=>Bt(mt,$,S,K),C)}else{let S;const{el:M,props:H}=g,{bm:$,m:K,parent:Y,root:mt,type:_t}=h,Pt=Ke(g);_e(h,!1),$&&us($),!Pt&&(S=H&&H.onVnodeBeforeMount)&&Bt(S,Y,g),_e(h,!0);{mt.ce&&mt.ce._def.shadowRoot!==!1&&mt.ce._injectChildStyle(_t);const Lt=h.subTree=Gi(h);k(null,Lt,v,R,h,C,E),g.el=Lt.el}if(K&&xt(K,C),!Pt&&(S=H&&H.onVnodeMounted)){const Lt=g;xt(()=>Bt(S,Y,Lt),C)}(g.shapeFlag&256||Y&&Ke(Y.vnode)&&Y.vnode.shapeFlag&256)&&h.a&&xt(h.a,C),h.isMounted=!0,g=v=R=null}};h.scope.on();const x=h.effect=new En(f);h.scope.off();const b=h.update=x.run.bind(x),w=h.job=x.runIfDirty.bind(x);w.i=h,w.id=h.uid,x.scheduler=()=>Ei(w),_e(h,!0),b()},tt=(h,g,v)=>{g.component=h;const R=h.vnode.props;h.vnode=g,h.next=null,qo(h,g.props,R,v),Qo(h,g.children,v),Qt(),Ii(h),te()},U=(h,g,v,R,C,E,m,f,x=!1)=>{const b=h&&h.children,w=h?h.shapeFlag:0,S=g.children,{patchFlag:M,shapeFlag:H}=g;if(M>0){if(M&128){ne(b,S,v,R,C,E,m,f,x);return}else if(M&256){kt(b,S,v,R,C,E,m,f,x);return}}H&8?(w&16&&re(b,C,E),S!==b&&c(v,S)):w&16?H&16?ne(b,S,v,R,C,E,m,f,x):re(b,C,E,!0):(w&8&&c(v,""),H&16&&vt(S,v,R,C,E,m,f,x))},kt=(h,g,v,R,C,E,m,f,x)=>{h=h||ke,g=g||ke;const b=h.length,w=g.length,S=Math.min(b,w);let M;for(M=0;M<S;M++){const H=g[M]=x?ue(g[M]):$t(g[M]);k(h[M],H,v,null,C,E,m,f,x)}b>w?re(h,C,E,!0,!1,S):vt(g,v,R,C,E,m,f,x,S)},ne=(h,g,v,R,C,E,m,f,x)=>{let b=0;const w=g.length;let S=h.length-1,M=w-1;for(;b<=S&&b<=M;){const H=h[b],$=g[b]=x?ue(g[b]):$t(g[b]);if(Be(H,$))k(H,$,v,null,C,E,m,f,x);else break;b++}for(;b<=S&&b<=M;){const H=h[S],$=g[M]=x?ue(g[M]):$t(g[M]);if(Be(H,$))k(H,$,v,null,C,E,m,f,x);else break;S--,M--}if(b>S){if(b<=M){const H=M+1,$=H<w?g[H].el:R;for(;b<=M;)k(null,g[b]=x?ue(g[b]):$t(g[b]),v,$,C,E,m,f,x),b++}}else if(b>M)for(;b<=S;)Tt(h[b],C,E,!0),b++;else{const H=b,$=b,K=new Map;for(b=$;b<=M;b++){const bt=g[b]=x?ue(g[b]):$t(g[b]);bt.key!=null&&K.set(bt.key,b)}let Y,mt=0;const _t=M-$+1;let Pt=!1,Lt=0;const Le=new Array(_t);for(b=0;b<_t;b++)Le[b]=0;for(b=H;b<=S;b++){const bt=h[b];if(mt>=_t){Tt(bt,C,E,!0);continue}let It;if(bt.key!=null)It=K.get(bt.key);else for(Y=$;Y<=M;Y++)if(Le[Y-$]===0&&Be(bt,g[Y])){It=Y;break}It===void 0?Tt(bt,C,E,!0):(Le[It-$]=b+1,It>=Lt?Lt=It:Pt=!0,k(bt,g[It],v,null,C,E,m,f,x),mt++)}const Mi=Pt?il(Le):ke;for(Y=Mi.length-1,b=_t-1;b>=0;b--){const bt=$+b,It=g[bt],Ai=g[bt+1],Oi=bt+1<w?Ai.el||Ai.placeholder:R;Le[b]===0?k(null,It,v,Oi,C,E,m,f,x):Pt&&(Y<0||b!==Mi[Y]?at(It,v,Oi,2):Y--)}}},at=(h,g,v,R,C=null)=>{const{el:E,type:m,transition:f,children:x,shapeFlag:b}=h;if(b&6){at(h.component.subTree,g,v,R);return}if(b&128){h.suspense.move(g,v,R);return}if(b&64){m.move(h,g,v,Nt);return}if(m===rt){i(E,g,v);for(let S=0;S<x.length;S++)at(x[S],g,v,R);i(h.anchor,g,v);return}if(m===fs){q(h,g,v);return}if(R!==2&&b&1&&f)if(R===0)f.beforeEnter(E),i(E,g,v),xt(()=>f.enter(E),C);else{const{leave:S,delayLeave:M,afterLeave:H}=f,$=()=>{h.ctx.isUnmounted?n(E):i(E,g,v)},K=()=>{E._isLeaving&&E[mo](!0),S(E,()=>{$(),H&&H()})};M?M(E,$,K):K()}else i(E,g,v)},Tt=(h,g,v,R=!1,C=!1)=>{const{type:E,props:m,ref:f,children:x,dynamicChildren:b,shapeFlag:w,patchFlag:S,dirs:M,cacheIndex:H}=h;if(S===-2&&(C=!1),f!=null&&(Qt(),Ve(f,null,v,h,!0),te()),H!=null&&(g.renderCache[H]=void 0),w&256){g.ctx.deactivate(h);return}const $=w&1&&M,K=!Ke(h);let Y;if(K&&(Y=m&&m.onVnodeBeforeUnmount)&&Bt(Y,g,h),w&6)os(h.component,v,R);else{if(w&128){h.suspense.unmount(v,R);return}$&&me(h,null,g,"beforeUnmount"),w&64?h.type.remove(h,g,v,Nt,R):b&&!b.hasOnce&&(E!==rt||S>0&&S&64)?re(b,g,v,!1,!0):(E===rt&&S&384||!C&&w&16)&&re(x,g,v),R&&zt(h)}(K&&(Y=m&&m.onVnodeUnmounted)||$)&&xt(()=>{Y&&Bt(Y,g,h),$&&me(h,null,g,"unmounted")},v)},zt=h=>{const{type:g,el:v,anchor:R,transition:C}=h;if(g===rt){ze(v,R);return}if(g===fs){A(h);return}const E=()=>{n(v),C&&!C.persisted&&C.afterLeave&&C.afterLeave()};if(h.shapeFlag&1&&C&&!C.persisted){const{leave:m,delayLeave:f}=C,x=()=>m(v,E);f?f(h.el,E,x):x()}else E()},ze=(h,g)=>{let v;for(;h!==g;)v=_(h),n(h),h=v;n(g)},os=(h,g,v)=>{const{bum:R,scope:C,job:E,subTree:m,um:f,m:x,a:b}=h;Ki(x),Ki(b),R&&us(R),C.stop(),E&&(E.flags|=8,Tt(m,h,g,v)),f&&xt(f,g),xt(()=>{h.isUnmounted=!0},g)},re=(h,g,v,R=!1,C=!1,E=0)=>{for(let m=E;m<h.length;m++)Tt(h[m],g,v,R,C)},oe=h=>{if(h.shapeFlag&6)return oe(h.component.subTree);if(h.shapeFlag&128)return h.suspense.next();const g=_(h.anchor||h.el),v=g&&g[go];return v?_(v):g};let pe=!1;const Re=(h,g,v)=>{h==null?g._vnode&&Tt(g._vnode,null,null,!0):k(g._vnode||null,h,g,null,null,null,v),g._vnode=h,pe||(pe=!0,Ii(),Fn(),pe=!1)},Nt={p:k,um:Tt,m:at,r:zt,mt:Kt,mc:vt,pc:U,pbc:pt,n:oe,o:s};return{render:Re,hydrate:void 0,createApp:Po(Re)}}function qs({type:s,props:t},e){return e==="svg"&&s==="foreignObject"||e==="mathml"&&s==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:e}function _e({effect:s,job:t},e){e?(s.flags|=32,t.flags|=4):(s.flags&=-33,t.flags&=-5)}function sl(s,t){return(!s||s&&!s.pendingBranch)&&t&&!t.persisted}function lr(s,t,e=!1){const i=s.children,n=t.children;if(I(i)&&I(n))for(let r=0;r<i.length;r++){const o=i[r];let l=n[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=n[r]=ue(n[r]),l.el=o.el),!e&&l.patchFlag!==-2&&lr(o,l)),l.type===Bs&&l.patchFlag!==-1&&(l.el=o.el),l.type===ge&&!l.el&&(l.el=o.el)}}function il(s){const t=s.slice(),e=[0];let i,n,r,o,l;const a=s.length;for(i=0;i<a;i++){const u=s[i];if(u!==0){if(n=e[e.length-1],s[n]<u){t[i]=n,e.push(i);continue}for(r=0,o=e.length-1;r<o;)l=r+o>>1,s[e[l]]<u?r=l+1:o=l;u<s[e[r]]&&(r>0&&(t[i]=e[r-1]),e[r]=i)}}for(r=e.length,o=e[r-1];r-- >0;)e[r]=o,o=t[o];return e}function ar(s){const t=s.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:ar(t)}function Ki(s){if(s)for(let t=0;t<s.length;t++)s[t].flags|=8}const cr=s=>s.__isSuspense;function nl(s,t){t&&t.pendingBranch?I(s)?t.effects.push(...s):t.effects.push(s):ho(s)}const rt=Symbol.for("v-fgt"),Bs=Symbol.for("v-txt"),ge=Symbol.for("v-cmt"),fs=Symbol.for("v-stc"),qe=[];let Ct=null;function O(s=!1){qe.push(Ct=s?null:[])}function rl(){qe.pop(),Ct=qe[qe.length-1]||null}let Qe=1;function Yi(s,t=!1){Qe+=s,s<0&&Ct&&t&&(Ct.hasOnce=!0)}function ur(s){return s.dynamicChildren=Qe>0?Ct||ke:null,rl(),Qe>0&&Ct&&Ct.push(s),s}function P(s,t,e,i,n,r){return ur(y(s,t,e,i,n,r,!0))}function gs(s,t,e,i,n){return ur(Gt(s,t,e,i,n,!0))}function hr(s){return s?s.__v_isVNode===!0:!1}function Be(s,t){return s.type===t.type&&s.key===t.key}const dr=({key:s})=>s??null,ps=({ref:s,ref_key:t,ref_for:e})=>(typeof s=="number"&&(s=""+s),s!=null?st(s)||lt(s)||F(s)?{i:St,r:s,k:t,f:!!e}:s:null);function y(s,t=null,e=null,i=0,n=null,r=s===rt?0:1,o=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:s,props:t,key:t&&dr(t),ref:t&&ps(t),scopeId:Wn,slotScopeIds:null,children:e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:St};return l?(Di(a,e),r&128&&s.normalize(a)):e&&(a.shapeFlag|=st(e)?8:16),Qe>0&&!o&&Ct&&(a.patchFlag>0||r&6)&&a.patchFlag!==32&&Ct.push(a),a}const Gt=ol;function ol(s,t=null,e=null,i=0,n=null,r=!1){if((!s||s===Do)&&(s=ge),hr(s)){const l=He(s,t,!0);return e&&Di(l,e),Qe>0&&!r&&Ct&&(l.shapeFlag&6?Ct[Ct.indexOf(s)]=l:Ct.push(l)),l.patchFlag=-2,l}if(yl(s)&&(s=s.__vccOpts),t){t=ll(t);let{class:l,style:a}=t;l&&!st(l)&&(t.class=nt(l)),Q(a)&&(xi(a)&&!I(a)&&(a=ft({},a)),t.style=Os(a))}const o=st(s)?1:cr(s)?128:po(s)?64:Q(s)?4:F(s)?2:0;return y(s,t,e,i,n,o,r,!0)}function ll(s){return s?xi(s)||er(s)?ft({},s):s:null}function He(s,t,e=!1,i=!1){const{props:n,ref:r,patchFlag:o,children:l,transition:a}=s,u=t?cl(n||{},t):n,c={__v_isVNode:!0,__v_skip:!0,type:s.type,props:u,key:u&&dr(u),ref:t&&t.ref?e&&r?I(r)?r.concat(ps(t)):[r,ps(t)]:ps(t):r,scopeId:s.scopeId,slotScopeIds:s.slotScopeIds,children:l,target:s.target,targetStart:s.targetStart,targetAnchor:s.targetAnchor,staticCount:s.staticCount,shapeFlag:s.shapeFlag,patchFlag:t&&s.type!==rt?o===-1?16:o|16:o,dynamicProps:s.dynamicProps,dynamicChildren:s.dynamicChildren,appContext:s.appContext,dirs:s.dirs,transition:a,component:s.component,suspense:s.suspense,ssContent:s.ssContent&&He(s.ssContent),ssFallback:s.ssFallback&&He(s.ssFallback),placeholder:s.placeholder,el:s.el,anchor:s.anchor,ctx:s.ctx,ce:s.ce};return a&&i&&Ci(c,a.clone(c)),c}function he(s=" ",t=0){return Gt(Bs,null,s,t)}function al(s,t){const e=Gt(fs,null,s);return e.staticCount=t,e}function Et(s="",t=!1){return t?(O(),gs(ge,null,s)):Gt(ge,null,s)}function $t(s){return s==null||typeof s=="boolean"?Gt(ge):I(s)?Gt(rt,null,s.slice()):hr(s)?ue(s):Gt(Bs,null,String(s))}function ue(s){return s.el===null&&s.patchFlag!==-1||s.memo?s:He(s)}function Di(s,t){let e=0;const{shapeFlag:i}=s;if(t==null)t=null;else if(I(t))e=16;else if(typeof t=="object")if(i&65){const n=t.default;n&&(n._c&&(n._d=!1),Di(s,n()),n._c&&(n._d=!0));return}else{e=32;const n=t._;!n&&!er(t)?t._ctx=St:n===3&&St&&(St.slots._===1?t._=1:(t._=2,s.patchFlag|=1024))}else F(t)?(t={default:t,_ctx:St},e=32):(t=String(t),i&64?(e=16,t=[he(t)]):e=8);s.children=t,s.shapeFlag|=e}function cl(...s){const t={};for(let e=0;e<s.length;e++){const i=s[e];for(const n in i)if(n==="class")t.class!==i.class&&(t.class=nt([t.class,i.class]));else if(n==="style")t.style=Os([t.style,i.style]);else if(ks(n)){const r=t[n],o=i[n];o&&r!==o&&!(I(r)&&r.includes(o))&&(t[n]=r?[].concat(r,o):o)}else n!==""&&(t[n]=i[n])}return t}function Bt(s,t,e,i=null){Vt(s,t,7,[e,i])}const ul=qn();let hl=0;function dl(s,t,e){const i=s.type,n=(t?t.appContext:s.appContext)||ul,r={uid:hl++,vnode:s,type:i,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Or(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ir(i,n),emitsOptions:Zn(i,n),emit:null,emitted:null,propsDefaults:J,inheritAttrs:i.inheritAttrs,ctx:J,data:J,props:J,attrs:J,slots:J,refs:J,setupState:J,setupContext:null,suspense:e,suspenseId:e?e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=Wo.bind(null,r),s.ce&&s.ce(r),r}let dt=null;const fl=()=>dt||St;let xs,ci;{const s=As(),t=(e,i)=>{let n;return(n=s[e])||(n=s[e]=[]),n.push(i),r=>{n.length>1?n.forEach(o=>o(r)):n[0](r)}};xs=t("__VUE_INSTANCE_SETTERS__",e=>dt=e),ci=t("__VUE_SSR_SETTERS__",e=>ts=e)}const rs=s=>{const t=dt;return xs(s),s.scope.on(),()=>{s.scope.off(),xs(t)}},qi=()=>{dt&&dt.scope.off(),xs(null)};function fr(s){return s.vnode.shapeFlag&4}let ts=!1;function gl(s,t=!1,e=!1){t&&ci(t);const{props:i,children:n}=s.vnode,r=fr(s);Yo(s,i,r,t),Zo(s,n,e||t);const o=r?pl(s,t):void 0;return t&&ci(!1),o}function pl(s,t){const e=s.type;s.accessCache=Object.create(null),s.proxy=new Proxy(s.ctx,ko);const{setup:i}=e;if(i){Qt();const n=s.setupContext=i.length>1?_l(s):null,r=rs(s),o=ns(i,s,0,[s.props,n]),l=gn(o);if(te(),r(),(l||s.sp)&&!Ke(s)&&Un(s),l){if(o.then(qi,qi),t)return o.then(a=>{Xi(s,a)}).catch(a=>{Ps(a,s,0)});s.asyncDep=o}else Xi(s,o)}else gr(s)}function Xi(s,t,e){F(t)?s.type.__ssrInlineRender?s.ssrRender=t:s.render=t:Q(t)&&(s.setupState=Ln(t)),gr(s)}function gr(s,t,e){const i=s.type;s.render||(s.render=i.render||Ut);{const n=rs(s);Qt();try{No(s)}finally{te(),n()}}}const ml={get(s,t){return ot(s,"get",""),s[t]}};function _l(s){const t=e=>{s.exposed=e||{}};return{attrs:new Proxy(s.attrs,ml),slots:s.slots,emit:s.emit,expose:t}}function Fs(s){return s.exposed?s.exposeProxy||(s.exposeProxy=new Proxy(Ln(to(s.exposed)),{get(t,e){if(e in t)return t[e];if(e in Ye)return Ye[e](s)},has(t,e){return e in t||e in Ye}})):s.proxy}function yl(s){return F(s)&&"__vccOpts"in s}const pr=(s,t)=>oo(s,t,ts),vl="3.5.25";/**
* @vue/runtime-dom v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ui;const Ji=typeof window<"u"&&window.trustedTypes;if(Ji)try{ui=Ji.createPolicy("vue",{createHTML:s=>s})}catch{}const mr=ui?s=>ui.createHTML(s):s=>s,bl="http://www.w3.org/2000/svg",wl="http://www.w3.org/1998/Math/MathML",qt=typeof document<"u"?document:null,Zi=qt&&qt.createElement("template"),xl={insert:(s,t,e)=>{t.insertBefore(s,e||null)},remove:s=>{const t=s.parentNode;t&&t.removeChild(s)},createElement:(s,t,e,i)=>{const n=t==="svg"?qt.createElementNS(bl,s):t==="mathml"?qt.createElementNS(wl,s):e?qt.createElement(s,{is:e}):qt.createElement(s);return s==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:s=>qt.createTextNode(s),createComment:s=>qt.createComment(s),setText:(s,t)=>{s.nodeValue=t},setElementText:(s,t)=>{s.textContent=t},parentNode:s=>s.parentNode,nextSibling:s=>s.nextSibling,querySelector:s=>qt.querySelector(s),setScopeId(s,t){s.setAttribute(t,"")},insertStaticContent(s,t,e,i,n,r){const o=e?e.previousSibling:t.lastChild;if(n&&(n===r||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),e),!(n===r||!(n=n.nextSibling)););else{Zi.innerHTML=mr(i==="svg"?`<svg>${s}</svg>`:i==="mathml"?`<math>${s}</math>`:s);const l=Zi.content;if(i==="svg"||i==="mathml"){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}t.insertBefore(l,e)}return[o?o.nextSibling:t.firstChild,e?e.previousSibling:t.lastChild]}},El=Symbol("_vtc");function Cl(s,t,e){const i=s[El];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?s.removeAttribute("class"):e?s.setAttribute("class",t):s.className=t}const Es=Symbol("_vod"),_r=Symbol("_vsh"),Fe={name:"show",beforeMount(s,{value:t},{transition:e}){s[Es]=s.style.display==="none"?"":s.style.display,e&&t?e.beforeEnter(s):$e(s,t)},mounted(s,{value:t},{transition:e}){e&&t&&e.enter(s)},updated(s,{value:t,oldValue:e},{transition:i}){!t!=!e&&(i?t?(i.beforeEnter(s),$e(s,!0),i.enter(s)):i.leave(s,()=>{$e(s,!1)}):$e(s,t))},beforeUnmount(s,{value:t}){$e(s,t)}};function $e(s,t){s.style.display=t?s[Es]:"none",s[_r]=!t}const Rl=Symbol(""),Tl=/(?:^|;)\s*display\s*:/;function Sl(s,t,e){const i=s.style,n=st(e);let r=!1;if(e&&!n){if(t)if(st(t))for(const o of t.split(";")){const l=o.slice(0,o.indexOf(":")).trim();e[l]==null&&ms(i,l,"")}else for(const o in t)e[o]==null&&ms(i,o,"");for(const o in e)o==="display"&&(r=!0),ms(i,o,e[o])}else if(n){if(t!==e){const o=i[Rl];o&&(e+=";"+o),i.cssText=e,r=Tl.test(e)}}else t&&s.removeAttribute("style");Es in s&&(s[Es]=r?i.display:"",s[_r]&&(i.display="none"))}const Qi=/\s*!important$/;function ms(s,t,e){if(I(e))e.forEach(i=>ms(s,t,i));else if(e==null&&(e=""),t.startsWith("--"))s.setProperty(t,e);else{const i=Dl(s,t);Qi.test(e)?s.setProperty(we(i),e.replace(Qi,""),"important"):s[i]=e}}const tn=["Webkit","Moz","ms"],Xs={};function Dl(s,t){const e=Xs[t];if(e)return e;let i=fe(t);if(i!=="filter"&&i in s)return Xs[t]=i;i=_n(i);for(let n=0;n<tn.length;n++){const r=tn[n]+i;if(r in s)return Xs[t]=r}return t}const en="http://www.w3.org/1999/xlink";function sn(s,t,e,i,n,r=Mr(t)){i&&t.startsWith("xlink:")?e==null?s.removeAttributeNS(en,t.slice(6,t.length)):s.setAttributeNS(en,t,e):e==null||r&&!vn(e)?s.removeAttribute(t):s.setAttribute(t,r?"":jt(e)?String(e):e)}function nn(s,t,e,i,n){if(t==="innerHTML"||t==="textContent"){e!=null&&(s[t]=t==="innerHTML"?mr(e):e);return}const r=s.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const l=r==="OPTION"?s.getAttribute("value")||"":s.value,a=e==null?s.type==="checkbox"?"on":"":String(e);(l!==a||!("_value"in s))&&(s.value=a),e==null&&s.removeAttribute(t),s._value=e;return}let o=!1;if(e===""||e==null){const l=typeof s[t];l==="boolean"?e=vn(e):e==null&&l==="string"?(e="",o=!0):l==="number"&&(e=0,o=!0)}try{s[t]=e}catch{}o&&s.removeAttribute(n||t)}function yr(s,t,e,i){s.addEventListener(t,e,i)}function kl(s,t,e,i){s.removeEventListener(t,e,i)}const rn=Symbol("_vei");function Nl(s,t,e,i,n=null){const r=s[rn]||(s[rn]={}),o=r[t];if(i&&o)o.value=i;else{const[l,a]=Ml(t);if(i){const u=r[t]=Hl(i,n);yr(s,l,u,a)}else o&&(kl(s,l,o,a),r[t]=void 0)}}const on=/(?:Once|Passive|Capture)$/;function Ml(s){let t;if(on.test(s)){t={};let i;for(;i=s.match(on);)s=s.slice(0,s.length-i[0].length),t[i[0].toLowerCase()]=!0}return[s[2]===":"?s.slice(3):we(s.slice(2)),t]}let Js=0;const Al=Promise.resolve(),Ol=()=>Js||(Al.then(()=>Js=0),Js=Date.now());function Hl(s,t){const e=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=e.attached)return;Vt(zl(i,e.value),t,5,[i])};return e.value=s,e.attached=Ol(),e}function zl(s,t){if(I(t)){const e=s.stopImmediatePropagation;return s.stopImmediatePropagation=()=>{e.call(s),s._stopped=!0},t.map(i=>n=>!n._stopped&&i&&i(n))}else return t}const ln=s=>s.charCodeAt(0)===111&&s.charCodeAt(1)===110&&s.charCodeAt(2)>96&&s.charCodeAt(2)<123,Pl=(s,t,e,i,n,r)=>{const o=n==="svg";t==="class"?Cl(s,i,o):t==="style"?Sl(s,e,i):ks(t)?di(t)||Nl(s,t,e,i,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Ll(s,t,i,o))?(nn(s,t,i),!s.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&sn(s,t,i,o,r,t!=="value")):s._isVueCE&&(/[A-Z]/.test(t)||!st(i))?nn(s,fe(t),i,r,t):(t==="true-value"?s._trueValue=i:t==="false-value"&&(s._falseValue=i),sn(s,t,i,o))};function Ll(s,t,e,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in s&&ln(t)&&F(e));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&s.tagName==="IFRAME"||t==="form"||t==="list"&&s.tagName==="INPUT"||t==="type"&&s.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=s.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return ln(t)&&st(e)?!1:t in s}const an=s=>{const t=s.props["onUpdate:modelValue"]||!1;return I(t)?e=>us(t,e):t},Zs=Symbol("_assign"),Il={deep:!0,created(s,t,e){s[Zs]=an(e),yr(s,"change",()=>{const i=s._modelValue,n=Bl(s),r=s.checked,o=s[Zs];if(I(i)){const l=bn(i,n),a=l!==-1;if(r&&!a)o(i.concat(n));else if(!r&&a){const u=[...i];u.splice(l,1),o(u)}}else if(Ns(i)){const l=new Set(i);r?l.add(n):l.delete(n),o(l)}else o(vr(s,r))})},mounted:cn,beforeUpdate(s,t,e){s[Zs]=an(e),cn(s,t,e)}};function cn(s,{value:t,oldValue:e},i){s._modelValue=t;let n;if(I(t))n=bn(t,i.props.value)>-1;else if(Ns(t))n=t.has(i.props.value);else{if(t===e)return;n=Hs(t,vr(s,!0))}s.checked!==n&&(s.checked=n)}function Bl(s){return"_value"in s?s._value:s.value}function vr(s,t){const e=t?"_trueValue":"_falseValue";return e in s?s[e]:t}const Fl=["ctrl","shift","alt","meta"],$l={stop:s=>s.stopPropagation(),prevent:s=>s.preventDefault(),self:s=>s.target!==s.currentTarget,ctrl:s=>!s.ctrlKey,shift:s=>!s.shiftKey,alt:s=>!s.altKey,meta:s=>!s.metaKey,left:s=>"button"in s&&s.button!==0,middle:s=>"button"in s&&s.button!==1,right:s=>"button"in s&&s.button!==2,exact:(s,t)=>Fl.some(e=>s[`${e}Key`]&&!t.includes(e))},Wl=(s,t)=>{const e=s._withMods||(s._withMods={}),i=t.join(".");return e[i]||(e[i]=(n,...r)=>{for(let o=0;o<t.length;o++){const l=$l[t[o]];if(l&&l(n,t))return}return s(n,...r)})},Ul=ft({patchProp:Pl},xl);let un;function Gl(){return un||(un=tl(Ul))}const jl=(...s)=>{const t=Gl().createApp(...s),{mount:e}=t;return t.mount=i=>{const n=Kl(i);if(!n)return;const r=t._component;!F(r)&&!r.render&&!r.template&&(r.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=e(n,!1,Vl(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},t};function Vl(s){if(s instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&s instanceof MathMLElement)return"mathml"}function Kl(s){return st(s)?document.querySelector(s):s}function Yl(s,t,e,i,n){const r=(...o)=>(console.warn("gridstack.js: Function `"+e+"` is deprecated in "+n+" and has been replaced with `"+i+"`. It will be **removed** in a future release"),t.apply(s,o));return r.prototype=t.prototype,r}class p{static getElements(t,e=document){if(typeof t=="string"){const i="getElementById"in e?e:void 0;if(i&&!isNaN(+t[0])){const r=i.getElementById(t);return r?[r]:[]}let n=e.querySelectorAll(t);return!n.length&&t[0]!=="."&&t[0]!=="#"&&(n=e.querySelectorAll("."+t),n.length||(n=e.querySelectorAll("#"+t))),Array.from(n)}return[t]}static getElement(t,e=document){if(typeof t=="string"){const i="getElementById"in e?e:void 0;if(!t.length)return null;if(i&&t[0]==="#")return i.getElementById(t.substring(1));if(t[0]==="#"||t[0]==="."||t[0]==="[")return e.querySelector(t);if(i&&!isNaN(+t[0]))return i.getElementById(t);let n=e.querySelector(t);return i&&!n&&(n=i.getElementById(t)),n||(n=e.querySelector("."+t)),n}return t}static lazyLoad(t){var e,i;return t.lazyLoad||((i=(e=t.grid)==null?void 0:e.opts)==null?void 0:i.lazyLoad)&&t.lazyLoad!==!1}static createDiv(t,e){const i=document.createElement("div");return t.forEach(n=>{n&&i.classList.add(n)}),e==null||e.appendChild(i),i}static shouldSizeToContent(t,e=!1){return(t==null?void 0:t.grid)&&(e?t.sizeToContent===!0||t.grid.opts.sizeToContent===!0&&t.sizeToContent===void 0:!!t.sizeToContent||t.grid.opts.sizeToContent&&t.sizeToContent!==!1)}static isIntercepted(t,e){return!(t.y>=e.y+e.h||t.y+t.h<=e.y||t.x+t.w<=e.x||t.x>=e.x+e.w)}static isTouching(t,e){return p.isIntercepted(t,{x:e.x-.5,y:e.y-.5,w:e.w+1,h:e.h+1})}static areaIntercept(t,e){const i=t.x>e.x?t.x:e.x,n=t.x+t.w<e.x+e.w?t.x+t.w:e.x+e.w;if(n<=i)return 0;const r=t.y>e.y?t.y:e.y,o=t.y+t.h<e.y+e.h?t.y+t.h:e.y+e.h;return o<=r?0:(n-i)*(o-r)}static area(t){return t.w*t.h}static sort(t,e=1){return t.sort((n,r)=>{const o=e*((n.y??1e4)-(r.y??1e4));return o===0?e*((n.x??1e4)-(r.x??1e4)):o})}static find(t,e){return e?t.find(i=>i.id===e):void 0}static toBool(t){return typeof t=="boolean"?t:typeof t=="string"?(t=t.toLowerCase(),!(t===""||t==="no"||t==="false"||t==="0")):!!t}static toNumber(t){return t===null||t.length===0?void 0:Number(t)}static parseHeight(t){let e,i="px";if(typeof t=="string")if(t==="auto"||t==="")e=0;else{const n=t.match(/^(-[0-9]+\.[0-9]+|[0-9]*\.[0-9]+|-[0-9]+|[0-9]+)(px|em|rem|vh|vw|%|cm|mm)?$/);if(!n)throw new Error(`Invalid height val = ${t}`);i=n[2]||"px",e=parseFloat(n[1])}else e=t;return{h:e,unit:i}}static defaults(t,...e){return e.forEach(i=>{for(const n in i){if(!i.hasOwnProperty(n))return;t[n]===null||t[n]===void 0?t[n]=i[n]:typeof i[n]=="object"&&typeof t[n]=="object"&&p.defaults(t[n],i[n])}}),t}static same(t,e){if(typeof t!="object")return t==e;if(typeof t!=typeof e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const i in t)if(t[i]!==e[i])return!1;return!0}static copyPos(t,e,i=!1){return e.x!==void 0&&(t.x=e.x),e.y!==void 0&&(t.y=e.y),e.w!==void 0&&(t.w=e.w),e.h!==void 0&&(t.h=e.h),i&&(e.minW&&(t.minW=e.minW),e.minH&&(t.minH=e.minH),e.maxW&&(t.maxW=e.maxW),e.maxH&&(t.maxH=e.maxH)),t}static samePos(t,e){return t&&e&&t.x===e.x&&t.y===e.y&&(t.w||1)===(e.w||1)&&(t.h||1)===(e.h||1)}static sanitizeMinMax(t){t.minW||delete t.minW,t.minH||delete t.minH,t.maxW||delete t.maxW,t.maxH||delete t.maxH}static removeInternalAndSame(t,e){if(!(typeof t!="object"||typeof e!="object"))for(let i in t){const n=t[i],r=e[i];i[0]==="_"||n===r?delete t[i]:n&&typeof n=="object"&&r!==void 0&&(p.removeInternalAndSame(n,r),Object.keys(n).length||delete t[i])}}static removeInternalForSave(t,e=!0){for(let i in t)(i[0]==="_"||t[i]===null||t[i]===void 0)&&delete t[i];delete t.grid,e&&delete t.el,t.autoPosition||delete t.autoPosition,t.noResize||delete t.noResize,t.noMove||delete t.noMove,t.locked||delete t.locked,(t.w===1||t.w===t.minW)&&delete t.w,(t.h===1||t.h===t.minH)&&delete t.h}static throttle(t,e){let i=!1;return(...n)=>{i||(i=!0,setTimeout(()=>{t(...n),i=!1},e))}}static removePositioningStyles(t){const e=t.style;e.position&&e.removeProperty("position"),e.left&&e.removeProperty("left"),e.top&&e.removeProperty("top"),e.width&&e.removeProperty("width"),e.height&&e.removeProperty("height")}static getScrollElement(t){if(!t)return document.scrollingElement||document.documentElement;const e=getComputedStyle(t);return/(auto|scroll)/.test(e.overflow+e.overflowY)?t:p.getScrollElement(t.parentElement)}static updateScrollPosition(t,e,i){const n=p.getScrollElement(t);if(!n)return;const r=t.getBoundingClientRect(),o=n.getBoundingClientRect(),l=window.innerHeight||document.documentElement.clientHeight,a=r.bottom-Math.min(o.bottom,l),u=r.top-Math.max(o.top,0),c=n.scrollTop;u<0&&i<0?t.offsetHeight>o.height?n.scrollTop+=i:n.scrollTop+=Math.abs(u)>Math.abs(i)?i:u:a>0&&i>0&&(t.offsetHeight>o.height?n.scrollTop+=i:n.scrollTop+=a>i?i:a),e.top+=n.scrollTop-c}static updateScrollResize(t,e,i){const n=p.getScrollElement(e),r=n.clientHeight,o=n===p.getScrollElement()?0:n.getBoundingClientRect().top,l=t.clientY-o,a=l<i,u=l>r-i;a?n.scrollBy({behavior:"smooth",top:l-i}):u&&n.scrollBy({behavior:"smooth",top:i-(r-l)})}static clone(t){return t==null||typeof t!="object"?t:t instanceof Array?[...t]:{...t}}static cloneDeep(t){const e=["parentGrid","el","grid","subGrid","engine"],i=p.clone(t);for(const n in i)i.hasOwnProperty(n)&&typeof i[n]=="object"&&n.substring(0,2)!=="__"&&!e.find(r=>r===n)&&(i[n]=p.cloneDeep(t[n]));return i}static cloneNode(t){const e=t.cloneNode(!0);return e.removeAttribute("id"),e}static appendTo(t,e){let i;typeof e=="string"?i=p.getElement(e):i=e,i&&i.appendChild(t)}static addElStyles(t,e){if(e instanceof Object)for(const i in e)e.hasOwnProperty(i)&&(Array.isArray(e[i])?e[i].forEach(n=>{t.style[i]=n}):t.style[i]=e[i])}static initEvent(t,e){const i={type:e.type},n={button:0,which:0,buttons:1,bubbles:!0,cancelable:!0,target:e.target?e.target:t.target};return["altKey","ctrlKey","metaKey","shiftKey"].forEach(r=>i[r]=t[r]),["pageX","pageY","clientX","clientY","screenX","screenY"].forEach(r=>i[r]=t[r]),{...i,...n}}static simulateMouseEvent(t,e,i){const n=t,r=new MouseEvent(e,{bubbles:!0,composed:!0,cancelable:!0,view:window,detail:1,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY,ctrlKey:n.ctrlKey??!1,altKey:n.altKey??!1,shiftKey:n.shiftKey??!1,metaKey:n.metaKey??!1,button:0,relatedTarget:t.target});(i||t.target).dispatchEvent(r)}static getValuesFromTransformedElement(t){const e=document.createElement("div");p.addElStyles(e,{opacity:"0",position:"fixed",top:"0px",left:"0px",width:"1px",height:"1px",zIndex:"-999999"}),t.appendChild(e);const i=e.getBoundingClientRect();return t.removeChild(e),e.remove(),{xScale:1/i.width,yScale:1/i.height,xOffset:i.left,yOffset:i.top}}static swap(t,e,i){if(!t)return;const n=t[e];t[e]=t[i],t[i]=n}static canBeRotated(t){var e;return!(!t||t.w===t.h||t.locked||t.noResize||(e=t.grid)!=null&&e.opts.disableResize||t.minW&&t.minW===t.maxW||t.minH&&t.minH===t.maxH)}}class Zt{constructor(t={}){this.addedNodes=[],this.removedNodes=[],this.defaultColumn=12,this.column=t.column||this.defaultColumn,this.column>this.defaultColumn&&(this.defaultColumn=this.column),this.maxRow=t.maxRow,this._float=t.float,this.nodes=t.nodes||[],this.onChange=t.onChange}batchUpdate(t=!0,e=!0){return!!this.batchMode===t?this:(this.batchMode=t,t?(this._prevFloat=this._float,this._float=!0,this.cleanNodes(),this.saveInitial()):(this._float=this._prevFloat,delete this._prevFloat,e&&this._packNodes(),this._notify()),this)}_useEntireRowArea(t,e){return(!this.float||this.batchMode&&!this._prevFloat)&&!this._hasLocked&&(!t._moving||t._skipDown||e.y<=t.y)}_fixCollisions(t,e=t,i,n={}){if(this.sortNodes(-1),i=i||this.collide(t,e),!i)return!1;if(t._moving&&!n.nested&&!this.float&&this.swap(t,i))return!0;let r=e;!this._loading&&this._useEntireRowArea(t,e)&&(r={x:0,w:this.column,y:e.y,h:e.h},i=this.collide(t,r,n.skip));let o=!1;const l={nested:!0,pack:!1};let a=0;for(;i=i||this.collide(t,r,n.skip);){if(a++>this.nodes.length*2)throw new Error("Infinite collide check");let u;if(i.locked||this._loading||t._moving&&!t._skipDown&&e.y>t.y&&!this.float&&(!this.collide(i,{...i,y:t.y},t)||!this.collide(i,{...i,y:e.y-i.h},t))){t._skipDown=t._skipDown||e.y>t.y;const c={...e,y:i.y+i.h,...l};u=this._loading&&p.samePos(t,c)?!0:this.moveNode(t,c),(i.locked||this._loading)&&u?p.copyPos(e,t):!i.locked&&u&&n.pack&&(this._packNodes(),e.y=i.y+i.h,p.copyPos(t,e)),o=o||u}else u=this.moveNode(i,{...i,y:e.y+e.h,skip:t,...l});if(!u)return o;i=void 0}return o}collide(t,e=t,i){const n=t._id,r=i==null?void 0:i._id;return this.nodes.find(o=>o._id!==n&&o._id!==r&&p.isIntercepted(o,e))}collideAll(t,e=t,i){const n=t._id,r=i==null?void 0:i._id;return this.nodes.filter(o=>o._id!==n&&o._id!==r&&p.isIntercepted(o,e))}directionCollideCoverage(t,e,i){if(!e.rect||!t._rect)return;const n=t._rect,r={...e.rect};r.y>n.y?(r.h+=r.y-n.y,r.y=n.y):r.h+=n.y-r.y,r.x>n.x?(r.w+=r.x-n.x,r.x=n.x):r.w+=n.x-r.x;let o,l=.5;for(let a of i){if(a.locked||!a._rect)break;const u=a._rect;let c=Number.MAX_VALUE,d=Number.MAX_VALUE;n.y<u.y?c=(r.y+r.h-u.y)/u.h:n.y+n.h>u.y+u.h&&(c=(u.y+u.h-r.y)/u.h),n.x<u.x?d=(r.x+r.w-u.x)/u.w:n.x+n.w>u.x+u.w&&(d=(u.x+u.w-r.x)/u.w);const _=Math.min(d,c);_>l&&(l=_,o=a)}return e.collide=o,o}cacheRects(t,e,i,n,r,o){return this.nodes.forEach(l=>l._rect={y:l.y*e+i,x:l.x*t+o,w:l.w*t-o-n,h:l.h*e-i-r}),this}swap(t,e){if(!e||e.locked||!t||t.locked)return!1;function i(){const r=e.x,o=e.y;return e.x=t.x,e.y=t.y,t.h!=e.h?(t.x=r,t.y=e.y+e.h):t.w!=e.w?(t.x=e.x+e.w,t.y=o):(t.x=r,t.y=o),t._dirty=e._dirty=!0,!0}let n;if(t.w===e.w&&t.h===e.h&&(t.x===e.x||t.y===e.y)&&(n=p.isTouching(t,e)))return i();if(n!==!1){if(t.w===e.w&&t.x===e.x&&(n||(n=p.isTouching(t,e)))){if(e.y<t.y){const r=t;t=e,e=r}return i()}if(n!==!1){if(t.h===e.h&&t.y===e.y&&(n||(n=p.isTouching(t,e)))){if(e.x<t.x){const r=t;t=e,e=r}return i()}return!1}}}isAreaEmpty(t,e,i,n){const r={x:t||0,y:e||0,w:i||1,h:n||1};return!this.collide(r)}compact(t="compact",e=!0){if(this.nodes.length===0)return this;e&&this.sortNodes();const i=this.batchMode;i||this.batchUpdate();const n=this._inColumnResize;n||(this._inColumnResize=!0);const r=this.nodes;return this.nodes=[],r.forEach((o,l,a)=>{let u;o.locked||(o.autoPosition=!0,t==="list"&&l&&(u=a[l-1])),this.addNode(o,!1,u)}),n||delete this._inColumnResize,i||this.batchUpdate(!1),this}set float(t){this._float!==t&&(this._float=t||!1,t||this._packNodes()._notify())}get float(){return this._float||!1}sortNodes(t=1){return this.nodes=p.sort(this.nodes,t),this}_packNodes(){return this.batchMode?this:(this.sortNodes(),this.float?this.nodes.forEach(t=>{if(t._updating||t._orig===void 0||t.y===t._orig.y)return;let e=t.y;for(;e>t._orig.y;)--e,this.collide(t,{x:t.x,y:e,w:t.w,h:t.h})||(t._dirty=!0,t.y=e)}):this.nodes.forEach((t,e)=>{if(!t.locked)for(;t.y>0;){const i=e===0?0:t.y-1;if(!(e===0||!this.collide(t,{x:t.x,y:i,w:t.w,h:t.h})))break;t._dirty=t.y!==i,t.y=i}}),this)}prepareNode(t,e){t._id=t._id??Zt._idSeq++;const i=t.id;if(i){let r=1;for(;this.nodes.find(o=>o.id===t.id&&o!==t);)t.id=i+"_"+r++}(t.x===void 0||t.y===void 0||t.x===null||t.y===null)&&(t.autoPosition=!0);const n={x:0,y:0,w:1,h:1};return p.defaults(t,n),t.autoPosition||delete t.autoPosition,t.noResize||delete t.noResize,t.noMove||delete t.noMove,p.sanitizeMinMax(t),typeof t.x=="string"&&(t.x=Number(t.x)),typeof t.y=="string"&&(t.y=Number(t.y)),typeof t.w=="string"&&(t.w=Number(t.w)),typeof t.h=="string"&&(t.h=Number(t.h)),isNaN(t.x)&&(t.x=n.x,t.autoPosition=!0),isNaN(t.y)&&(t.y=n.y,t.autoPosition=!0),isNaN(t.w)&&(t.w=n.w),isNaN(t.h)&&(t.h=n.h),this.nodeBoundFix(t,e),t}nodeBoundFix(t,e){const i=t._orig||p.copyPos({},t);if(t.maxW&&(t.w=Math.min(t.w||1,t.maxW)),t.maxH&&(t.h=Math.min(t.h||1,t.maxH)),t.minW&&(t.w=Math.max(t.w||1,t.minW)),t.minH&&(t.h=Math.max(t.h||1,t.minH)),(t.x||0)+(t.w||1)>this.column&&this.column<this.defaultColumn&&!this._inColumnResize&&!this.skipCacheUpdate&&t._id!=null&&this.findCacheLayout(t,this.defaultColumn)===-1){const r={...t};r.autoPosition||r.x===void 0?(delete r.x,delete r.y):r.x=Math.min(this.defaultColumn-1,r.x),r.w=Math.min(this.defaultColumn,r.w||1),this.cacheOneLayout(r,this.defaultColumn)}return t.w>this.column?t.w=this.column:t.w<1&&(t.w=1),this.maxRow&&t.h>this.maxRow?t.h=this.maxRow:t.h<1&&(t.h=1),t.x<0&&(t.x=0),t.y<0&&(t.y=0),t.x+t.w>this.column&&(e?t.w=this.column-t.x:t.x=this.column-t.w),this.maxRow&&t.y+t.h>this.maxRow&&(e?t.h=this.maxRow-t.y:t.y=this.maxRow-t.h),p.samePos(t,i)||(t._dirty=!0),this}getDirtyNodes(t){return t?this.nodes.filter(e=>e._dirty&&!p.samePos(e,e._orig)):this.nodes.filter(e=>e._dirty)}_notify(t){if(this.batchMode||!this.onChange)return this;const e=(t||[]).concat(this.getDirtyNodes());return this.onChange(e),this}cleanNodes(){return this.batchMode?this:(this.nodes.forEach(t=>{delete t._dirty,delete t._lastTried}),this)}saveInitial(){return this.nodes.forEach(t=>{t._orig=p.copyPos({},t),delete t._dirty}),this._hasLocked=this.nodes.some(t=>t.locked),this}restoreInitial(){return this.nodes.forEach(t=>{!t._orig||p.samePos(t,t._orig)||(p.copyPos(t,t._orig),t._dirty=!0)}),this._notify(),this}findEmptyPosition(t,e=this.nodes,i=this.column,n){const r=n?n.y*i+(n.x+n.w):0;let o=!1;for(let l=r;!o;++l){const a=l%i,u=Math.floor(l/i);if(a+t.w>i)continue;const c={x:a,y:u,w:t.w,h:t.h};e.find(d=>p.isIntercepted(c,d))||((t.x!==a||t.y!==u)&&(t._dirty=!0),t.x=a,t.y=u,delete t.autoPosition,o=!0)}return o}addNode(t,e=!1,i){const n=this.nodes.find(o=>o._id===t._id);if(n)return n;this._inColumnResize?this.nodeBoundFix(t):this.prepareNode(t),delete t._temporaryRemoved,delete t._removeDOM;let r;return t.autoPosition&&this.findEmptyPosition(t,this.nodes,this.column,i)&&(delete t.autoPosition,r=!0),this.nodes.push(t),e&&this.addedNodes.push(t),r||this._fixCollisions(t),this.batchMode||this._packNodes()._notify(),t}removeNode(t,e=!0,i=!1){return this.nodes.find(n=>n._id===t._id)?(i&&this.removedNodes.push(t),e&&(t._removeDOM=!0),this.nodes=this.nodes.filter(n=>n._id!==t._id),t._isAboutToRemove||this._packNodes(),this._notify([t]),this):this}removeAll(t=!0,e=!0){if(delete this._layouts,!this.nodes.length)return this;t&&this.nodes.forEach(n=>n._removeDOM=!0);const i=this.nodes;return this.removedNodes=e?i:[],this.nodes=[],this._notify(i)}moveNodeCheck(t,e){if(!this.changedPosConstrain(t,e))return!1;if(e.pack=!0,!this.maxRow)return this.moveNode(t,e);let i;const n=new Zt({column:this.column,float:this.float,nodes:this.nodes.map(o=>o._id===t._id?(i={...o},i):{...o})});if(!i)return!1;const r=n.moveNode(i,e)&&n.getRow()<=Math.max(this.getRow(),this.maxRow);if(!r&&!e.resizing&&e.collide){const o=e.collide.el.gridstackNode;if(this.swap(t,o))return this._notify(),!0}return r?(n.nodes.filter(o=>o._dirty).forEach(o=>{const l=this.nodes.find(a=>a._id===o._id);l&&(p.copyPos(l,o),l._dirty=!0)}),this._notify(),!0):!1}willItFit(t){if(delete t._willFitPos,!this.maxRow)return!0;const e=new Zt({column:this.column,float:this.float,nodes:this.nodes.map(n=>({...n}))}),i={...t};return this.cleanupNode(i),delete i.el,delete i._id,delete i.content,delete i.grid,e.addNode(i),e.getRow()<=this.maxRow?(t._willFitPos=p.copyPos({},i),!0):!1}changedPosConstrain(t,e){return e.w=e.w||t.w,e.h=e.h||t.h,t.x!==e.x||t.y!==e.y?!0:(t.maxW&&(e.w=Math.min(e.w,t.maxW)),t.maxH&&(e.h=Math.min(e.h,t.maxH)),t.minW&&(e.w=Math.max(e.w,t.minW)),t.minH&&(e.h=Math.max(e.h,t.minH)),t.w!==e.w||t.h!==e.h)}moveNode(t,e){var u,c;if(!t||!e)return!1;let i;e.pack===void 0&&!this.batchMode&&(i=e.pack=!0),typeof e.x!="number"&&(e.x=t.x),typeof e.y!="number"&&(e.y=t.y),typeof e.w!="number"&&(e.w=t.w),typeof e.h!="number"&&(e.h=t.h);const n=t.w!==e.w||t.h!==e.h,r=p.copyPos({},t,!0);if(p.copyPos(r,e),this.nodeBoundFix(r,n),p.copyPos(e,r),!e.forceCollide&&p.samePos(t,e))return!1;const o=p.copyPos({},t),l=this.collideAll(t,r,e.skip);let a=!0;if(l.length){const d=t._moving&&!e.nested;let _=d?this.directionCollideCoverage(t,e,l):l[0];if(d&&_&&((c=(u=t.grid)==null?void 0:u.opts)!=null&&c.subGridDynamic)&&!t.grid._isTemp){const T=p.areaIntercept(e.rect,_._rect),D=p.area(e.rect),k=p.area(_._rect);T/(D<k?D:k)>.8&&(_.grid.makeSubGrid(_.el,void 0,t),_=void 0)}_?a=!this._fixCollisions(t,r,_,e):(a=!1,i&&delete e.pack)}return a&&!p.samePos(t,r)&&(t._dirty=!0,p.copyPos(t,r)),e.pack&&this._packNodes()._notify(),!p.samePos(t,o)}getRow(){return this.nodes.reduce((t,e)=>Math.max(t,e.y+e.h),0)}beginUpdate(t){return t._updating||(t._updating=!0,delete t._skipDown,this.batchMode||this.saveInitial()),this}endUpdate(){const t=this.nodes.find(e=>e._updating);return t&&(delete t._updating,delete t._skipDown),this}save(t=!0,e,i){var l;const n=((l=this._layouts)==null?void 0:l.length)||0;let r;n&&(i?i!==this.column&&(r=this._layouts[i]):this.column!==n-1&&(r=this._layouts[n-1]));const o=[];return this.sortNodes(),this.nodes.forEach(a=>{const u=r==null?void 0:r.find(d=>d._id===a._id),c={...a,...u||{}};p.removeInternalForSave(c,!t),e&&e(a,c),o.push(c)}),o}layoutsNodesChange(t){return!this._layouts||this._inColumnResize?this:(this._layouts.forEach((e,i)=>{if(!e||i===this.column)return this;if(i<this.column)this._layouts[i]=void 0;else{const n=i/this.column;t.forEach(r=>{if(!r._orig)return;const o=e.find(l=>l._id===r._id);o&&(o.y>=0&&r.y!==r._orig.y&&(o.y+=r.y-r._orig.y),r.x!==r._orig.x&&(o.x=Math.round(r.x*n)),r.w!==r._orig.w&&(o.w=Math.round(r.w*n)))})}}),this)}columnChanged(t,e,i="moveScale"){var l;if(!this.nodes.length||!e||t===e)return this;const n=i==="compact"||i==="list";n&&this.sortNodes(1),e<t&&this.cacheLayout(this.nodes,t),this.batchUpdate();let r=[],o=n?this.nodes:p.sort(this.nodes,-1);if(e>t&&this._layouts){const a=this._layouts[e]||[],u=this._layouts.length-1;!a.length&&t!==u&&((l=this._layouts[u])!=null&&l.length)&&(t=u,this._layouts[u].forEach(c=>{const d=o.find(_=>_._id===c._id);d&&(!n&&!c.autoPosition&&(d.x=c.x??d.x,d.y=c.y??d.y),d.w=c.w??d.w,(c.x==null||c.y===void 0)&&(d.autoPosition=!0))})),a.forEach(c=>{const d=o.findIndex(_=>_._id===c._id);if(d!==-1){const _=o[d];if(n){_.w=c.w;return}(c.autoPosition||isNaN(c.x)||isNaN(c.y))&&this.findEmptyPosition(c,r),c.autoPosition||(_.x=c.x??_.x,_.y=c.y??_.y,_.w=c.w??_.w,r.push(_)),o.splice(d,1)}})}if(n)this.compact(i,!1);else{if(o.length)if(typeof i=="function")i(e,t,r,o);else{const a=n||i==="none"?1:e/t,u=i==="move"||i==="moveScale",c=i==="scale"||i==="moveScale";o.forEach(d=>{d.x=e===1?0:u?Math.round(d.x*a):Math.min(d.x,e-1),d.w=e===1||t===1?1:c?Math.round(d.w*a)||1:Math.min(d.w,e),r.push(d)}),o=[]}r=p.sort(r,-1),this._inColumnResize=!0,this.nodes=[],r.forEach(a=>{this.addNode(a,!1),delete a._orig})}return this.nodes.forEach(a=>delete a._orig),this.batchUpdate(!1,!n),delete this._inColumnResize,this}cacheLayout(t,e,i=!1){const n=[];return t.forEach((r,o)=>{if(r._id===void 0){const l=r.id?this.nodes.find(a=>a.id===r.id):void 0;r._id=(l==null?void 0:l._id)??Zt._idSeq++}n[o]={x:r.x,y:r.y,w:r.w,_id:r._id}}),this._layouts=i?[]:this._layouts||[],this._layouts[e]=n,this}cacheOneLayout(t,e){t._id=t._id??Zt._idSeq++;const i={x:t.x,y:t.y,w:t.w,_id:t._id};(t.autoPosition||t.x===void 0)&&(delete i.x,delete i.y,t.autoPosition&&(i.autoPosition=!0)),this._layouts=this._layouts||[],this._layouts[e]=this._layouts[e]||[];const n=this.findCacheLayout(t,e);return n===-1?this._layouts[e].push(i):this._layouts[e][n]=i,this}findCacheLayout(t,e){var i,n;return((n=(i=this._layouts)==null?void 0:i[e])==null?void 0:n.findIndex(r=>r._id===t._id))??-1}removeNodeFromLayoutCache(t){if(this._layouts)for(let e=0;e<this._layouts.length;e++){const i=this.findCacheLayout(t,e);i!==-1&&this._layouts[e].splice(i,1)}}cleanupNode(t){for(const e in t)e[0]==="_"&&e!=="_id"&&delete t[e];return this}}Zt._idSeq=0;const wt={alwaysShowResizeHandle:"mobile",animate:!0,auto:!0,cellHeight:"auto",cellHeightThrottle:100,cellHeightUnit:"px",column:12,draggable:{handle:".grid-stack-item-content",appendTo:"body",scroll:!0},handle:".grid-stack-item-content",itemClass:"grid-stack-item",margin:10,marginUnit:"px",maxRow:0,minRow:0,placeholderClass:"grid-stack-placeholder",placeholderText:"",removableOptions:{accept:"grid-stack-item",decline:"grid-stack-non-removable"},resizable:{handles:"se"},rtl:"auto"};class z{}const Mt=typeof window<"u"&&typeof document<"u"&&("ontouchstart"in document||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);class Wt{}function Cs(s,t){s.touches.length>1||(s.cancelable&&s.preventDefault(),p.simulateMouseEvent(s.changedTouches[0],t))}function br(s,t){s.cancelable&&s.preventDefault(),p.simulateMouseEvent(s,t)}function Rs(s){Wt.touchHandled||(Wt.touchHandled=!0,Cs(s,"mousedown"))}function Ts(s){Wt.touchHandled&&Cs(s,"mousemove")}function Ss(s){if(!Wt.touchHandled)return;Wt.pointerLeaveTimeout&&(window.clearTimeout(Wt.pointerLeaveTimeout),delete Wt.pointerLeaveTimeout);const t=!!z.dragElement;Cs(s,"mouseup"),t||Cs(s,"click"),Wt.touchHandled=!1}function Ds(s){s.pointerType!=="mouse"&&s.target.releasePointerCapture(s.pointerId)}function hn(s){z.dragElement&&s.pointerType!=="mouse"&&br(s,"mouseenter")}function dn(s){z.dragElement&&s.pointerType!=="mouse"&&(Wt.pointerLeaveTimeout=window.setTimeout(()=>{delete Wt.pointerLeaveTimeout,br(s,"mouseleave")},10))}class $s{constructor(t,e,i){this.host=t,this.dir=e,this.option=i,this.moving=!1,this._mouseDown=this._mouseDown.bind(this),this._mouseMove=this._mouseMove.bind(this),this._mouseUp=this._mouseUp.bind(this),this._keyEvent=this._keyEvent.bind(this),this._init()}_init(){const t=this.el=document.createElement("div");return t.classList.add("ui-resizable-handle"),t.classList.add(`${$s.prefix}${this.dir}`),t.style.zIndex="100",t.style.userSelect="none",this.host.appendChild(this.el),this.el.addEventListener("mousedown",this._mouseDown),Mt&&(this.el.addEventListener("touchstart",Rs),this.el.addEventListener("pointerdown",Ds)),this}destroy(){return this.moving&&this._mouseUp(this.mouseDownEvent),this.el.removeEventListener("mousedown",this._mouseDown),Mt&&(this.el.removeEventListener("touchstart",Rs),this.el.removeEventListener("pointerdown",Ds)),this.host.removeChild(this.el),delete this.el,delete this.host,this}_mouseDown(t){this.mouseDownEvent=t,document.addEventListener("mousemove",this._mouseMove,{capture:!0,passive:!0}),document.addEventListener("mouseup",this._mouseUp,!0),Mt&&(this.el.addEventListener("touchmove",Ts),this.el.addEventListener("touchend",Ss)),t.stopPropagation(),t.preventDefault()}_mouseMove(t){const e=this.mouseDownEvent;this.moving?this._triggerEvent("move",t):Math.abs(t.x-e.x)+Math.abs(t.y-e.y)>2&&(this.moving=!0,this._triggerEvent("start",this.mouseDownEvent),this._triggerEvent("move",t),document.addEventListener("keydown",this._keyEvent)),t.stopPropagation()}_mouseUp(t){this.moving&&(this._triggerEvent("stop",t),document.removeEventListener("keydown",this._keyEvent)),document.removeEventListener("mousemove",this._mouseMove,!0),document.removeEventListener("mouseup",this._mouseUp,!0),Mt&&(this.el.removeEventListener("touchmove",Ts),this.el.removeEventListener("touchend",Ss)),delete this.moving,delete this.mouseDownEvent,t.stopPropagation(),t.preventDefault()}_keyEvent(t){var e,i;t.key==="Escape"&&((i=(e=this.host.gridstackNode)==null?void 0:e.grid)==null||i.engine.restoreInitial(),this._mouseUp(this.mouseDownEvent))}_triggerEvent(t,e){return this.option[t]&&this.option[t](e),this}}$s.prefix="ui-resizable-";class ki{constructor(){this._eventRegister={}}get disabled(){return this._disabled}on(t,e){this._eventRegister[t]=e}off(t){delete this._eventRegister[t]}enable(){this._disabled=!1}disable(){this._disabled=!0}destroy(){delete this._eventRegister}triggerEvent(t,e){if(!this.disabled&&this._eventRegister&&this._eventRegister[t])return this._eventRegister[t](e)}}class es extends ki{constructor(t,e={}){super(),this.el=t,this.option=e,this.rectScale={x:1,y:1},this._ui=()=>{const n=this.el.parentElement.getBoundingClientRect(),r={width:this.originalRect.width,height:this.originalRect.height+this.scrolled,left:this.originalRect.left,top:this.originalRect.top-this.scrolled},o=this.temporalRect||r;return{position:{left:(o.left-n.left)*this.rectScale.x,top:(o.top-n.top)*this.rectScale.y},size:{width:o.width*this.rectScale.x,height:o.height*this.rectScale.y}}},this._mouseOver=this._mouseOver.bind(this),this._mouseOut=this._mouseOut.bind(this),this.enable(),this._setupAutoHide(this.option.autoHide),this._setupHandlers()}on(t,e){super.on(t,e)}off(t){super.off(t)}enable(){super.enable(),this.el.classList.remove("ui-resizable-disabled"),this._setupAutoHide(this.option.autoHide)}disable(){super.disable(),this.el.classList.add("ui-resizable-disabled"),this._setupAutoHide(!1)}destroy(){this._removeHandlers(),this._setupAutoHide(!1),delete this.el,super.destroy()}updateOption(t){const e=t.handles&&t.handles!==this.option.handles,i=t.autoHide&&t.autoHide!==this.option.autoHide;return Object.keys(t).forEach(n=>this.option[n]=t[n]),e&&(this._removeHandlers(),this._setupHandlers()),i&&this._setupAutoHide(this.option.autoHide),this}_setupAutoHide(t){return t?(this.el.classList.add("ui-resizable-autohide"),this.el.addEventListener("mouseover",this._mouseOver),this.el.addEventListener("mouseout",this._mouseOut)):(this.el.classList.remove("ui-resizable-autohide"),this.el.removeEventListener("mouseover",this._mouseOver),this.el.removeEventListener("mouseout",this._mouseOut),z.overResizeElement===this&&delete z.overResizeElement),this}_mouseOver(t){z.overResizeElement||z.dragElement||(z.overResizeElement=this,this.el.classList.remove("ui-resizable-autohide"))}_mouseOut(t){z.overResizeElement===this&&(delete z.overResizeElement,this.el.classList.add("ui-resizable-autohide"))}_setupHandlers(){return this.handlers=this.option.handles.split(",").map(t=>t.trim()).map(t=>new $s(this.el,t,{start:e=>{this._resizeStart(e)},stop:e=>{this._resizeStop(e)},move:e=>{this._resizing(e,t)}})),this}_resizeStart(t){this.sizeToContent=p.shouldSizeToContent(this.el.gridstackNode,!0),this.originalRect=this.el.getBoundingClientRect(),this.scrollEl=p.getScrollElement(this.el),this.scrollY=this.scrollEl.scrollTop,this.scrolled=0,this.startEvent=t,this._setupHelper(),this._applyChange();const e=p.initEvent(t,{type:"resizestart",target:this.el});return this.option.start&&this.option.start(e,this._ui()),this.el.classList.add("ui-resizable-resizing"),this.triggerEvent("resizestart",e),this}_resizing(t,e){this.scrolled=this.scrollEl.scrollTop-this.scrollY,this.temporalRect=this._getChange(t,e),this._applyChange();const i=p.initEvent(t,{type:"resize",target:this.el});return this.option.resize&&this.option.resize(i,this._ui()),this.triggerEvent("resize",i),this}_resizeStop(t){const e=p.initEvent(t,{type:"resizestop",target:this.el});return this._cleanHelper(),this.option.stop&&this.option.stop(e),this.el.classList.remove("ui-resizable-resizing"),this.triggerEvent("resizestop",e),delete this.startEvent,delete this.originalRect,delete this.temporalRect,delete this.scrollY,delete this.scrolled,this}_setupHelper(){this.elOriginStyleVal=es._originStyleProp.map(i=>this.el.style[i]),this.parentOriginStylePosition=this.el.parentElement.style.position;const t=this.el.parentElement,e=p.getValuesFromTransformedElement(t);return this.rectScale={x:e.xScale,y:e.yScale},getComputedStyle(this.el.parentElement).position.match(/static/)&&(this.el.parentElement.style.position="relative"),this.el.style.position="absolute",this.el.style.opacity="0.8",this}_cleanHelper(){return es._originStyleProp.forEach((t,e)=>{this.el.style[t]=this.elOriginStyleVal[e]||null}),this.el.parentElement.style.position=this.parentOriginStylePosition||null,this}_getChange(t,e){const i=this.startEvent,n={width:this.originalRect.width,height:this.originalRect.height+this.scrolled,left:this.originalRect.left,top:this.originalRect.top-this.scrolled},r=t.clientX-i.clientX,o=this.sizeToContent?0:t.clientY-i.clientY;let l,a;e.indexOf("e")>-1?n.width+=r:e.indexOf("w")>-1&&(n.width-=r,n.left+=r,l=!0),e.indexOf("s")>-1?n.height+=o:e.indexOf("n")>-1&&(n.height-=o,n.top+=o,a=!0);const u=this._constrainSize(n.width,n.height,l,a);return Math.round(n.width)!==Math.round(u.width)&&(e.indexOf("w")>-1&&(n.left+=n.width-u.width),n.width=u.width),Math.round(n.height)!==Math.round(u.height)&&(e.indexOf("n")>-1&&(n.top+=n.height-u.height),n.height=u.height),n}_constrainSize(t,e,i,n){const r=this.option,o=(i?r.maxWidthMoveLeft:r.maxWidth)||Number.MAX_SAFE_INTEGER,l=r.minWidth/this.rectScale.x||t,a=(n?r.maxHeightMoveUp:r.maxHeight)||Number.MAX_SAFE_INTEGER,u=r.minHeight/this.rectScale.y||e,c=Math.min(o,Math.max(l,t)),d=Math.min(a,Math.max(u,e));return{width:c,height:d}}_applyChange(){let t={left:0,top:0,width:0,height:0};if(this.el.style.position==="absolute"){const e=this.el.parentElement,{left:i,top:n}=e.getBoundingClientRect();t={left:i,top:n,width:0,height:0}}return this.temporalRect?(Object.keys(this.temporalRect).forEach(e=>{const i=this.temporalRect[e],n=e==="width"||e==="left"?this.rectScale.x:e==="height"||e==="top"?this.rectScale.y:1;this.el.style[e]=(i-t[e])*n+"px"}),this):this}_removeHandlers(){return this.handlers.forEach(t=>t.destroy()),delete this.handlers,this}}es._originStyleProp=["width","height","position","left","top","opacity","zIndex"];const ql='input,textarea,button,select,option,[contenteditable="true"],.ui-resizable-handle';class ss extends ki{constructor(t,e={}){var r;super(),this.el=t,this.option=e,this.dragTransform={xScale:1,yScale:1,xOffset:0,yOffset:0};const i=(r=e==null?void 0:e.handle)==null?void 0:r.substring(1),n=t.gridstackNode;this.dragEls=!i||t.classList.contains(i)?[t]:n!=null&&n.subGrid?[t.querySelector(e.handle)||t]:Array.from(t.querySelectorAll(e.handle)),this.dragEls.length===0&&(this.dragEls=[t]),this._mouseDown=this._mouseDown.bind(this),this._mouseMove=this._mouseMove.bind(this),this._mouseUp=this._mouseUp.bind(this),this._keyEvent=this._keyEvent.bind(this),this.enable()}on(t,e){super.on(t,e)}off(t){super.off(t)}enable(){this.disabled!==!1&&(super.enable(),this.dragEls.forEach(t=>{t.addEventListener("mousedown",this._mouseDown),Mt&&(t.addEventListener("touchstart",Rs),t.addEventListener("pointerdown",Ds))}),this.el.classList.remove("ui-draggable-disabled"))}disable(t=!1){this.disabled!==!0&&(super.disable(),this.dragEls.forEach(e=>{e.removeEventListener("mousedown",this._mouseDown),Mt&&(e.removeEventListener("touchstart",Rs),e.removeEventListener("pointerdown",Ds))}),t||this.el.classList.add("ui-draggable-disabled"))}destroy(){this.dragTimeout&&window.clearTimeout(this.dragTimeout),delete this.dragTimeout,this.mouseDownEvent&&this._mouseUp(this.mouseDownEvent),this.disable(!0),delete this.el,delete this.helper,delete this.option,super.destroy()}updateOption(t){return Object.keys(t).forEach(e=>this.option[e]=t[e]),this}_mouseDown(t){if(!z.mouseHandled)return t.button!==0||!this.dragEls.find(e=>e===t.target)&&t.target.closest(ql)||this.option.cancel&&t.target.closest(this.option.cancel)||(this.mouseDownEvent=t,delete this.dragging,delete z.dragElement,delete z.dropElement,document.addEventListener("mousemove",this._mouseMove,{capture:!0,passive:!0}),document.addEventListener("mouseup",this._mouseUp,!0),Mt&&(t.currentTarget.addEventListener("touchmove",Ts),t.currentTarget.addEventListener("touchend",Ss)),t.preventDefault(),document.activeElement&&document.activeElement.blur(),z.mouseHandled=!0),!0}_callDrag(t){if(!this.dragging)return;const e=p.initEvent(t,{target:this.el,type:"drag"});this.option.drag&&this.option.drag(e,this.ui()),this.triggerEvent("drag",e)}_mouseMove(t){var i;const e=this.mouseDownEvent;if(this.lastDrag=t,this.dragging)if(this._dragFollow(t),z.pauseDrag){const n=Number.isInteger(z.pauseDrag)?z.pauseDrag:100;this.dragTimeout&&window.clearTimeout(this.dragTimeout),this.dragTimeout=window.setTimeout(()=>this._callDrag(t),n)}else this._callDrag(t);else if(Math.abs(t.x-e.x)+Math.abs(t.y-e.y)>3){this.dragging=!0,z.dragElement=this;const n=(i=this.el.gridstackNode)==null?void 0:i.grid;n?z.dropElement=n.el.ddElement.ddDroppable:delete z.dropElement,this.helper=this._createHelper(),this._setupHelperContainmentStyle(),this.dragTransform=p.getValuesFromTransformedElement(this.helperContainment),this.dragOffset=this._getDragOffset(t,this.el,this.helperContainment),this._setupHelperStyle(t);const r=p.initEvent(t,{target:this.el,type:"dragstart"});this.option.start&&this.option.start(r,this.ui()),this.triggerEvent("dragstart",r),document.addEventListener("keydown",this._keyEvent)}return!0}_mouseUp(t){var e,i;if(document.removeEventListener("mousemove",this._mouseMove,!0),document.removeEventListener("mouseup",this._mouseUp,!0),Mt&&t.currentTarget&&(t.currentTarget.removeEventListener("touchmove",Ts,!0),t.currentTarget.removeEventListener("touchend",Ss,!0)),this.dragging){delete this.dragging,(e=this.el.gridstackNode)==null||delete e._origRotate,document.removeEventListener("keydown",this._keyEvent),((i=z.dropElement)==null?void 0:i.el)===this.el.parentElement&&delete z.dropElement,this.helperContainment.style.position=this.parentOriginStylePosition||null,this.helper!==this.el&&this.helper.remove(),this._removeHelperStyle();const n=p.initEvent(t,{target:this.el,type:"dragstop"});this.option.stop&&this.option.stop(n),this.triggerEvent("dragstop",n),z.dropElement&&z.dropElement.drop(t)}delete this.helper,delete this.mouseDownEvent,delete z.dragElement,delete z.dropElement,delete z.mouseHandled,t.preventDefault()}_keyEvent(t){var n,r;const e=this.el.gridstackNode,i=(e==null?void 0:e.grid)||((r=(n=z.dropElement)==null?void 0:n.el)==null?void 0:r.gridstack);if(t.key==="Escape")e&&e._origRotate&&(e._orig=e._origRotate,delete e._origRotate),i==null||i.cancelDrag(),this._mouseUp(this.mouseDownEvent);else if(e&&i&&(t.key==="r"||t.key==="R")){if(!p.canBeRotated(e))return;e._origRotate=e._origRotate||{...e._orig},delete e._moving,i.setAnimation(!1).rotate(e.el,{top:-this.dragOffset.offsetTop,left:-this.dragOffset.offsetLeft}).setAnimation(),e._moving=!0,this.dragOffset=this._getDragOffset(this.lastDrag,e.el,this.helperContainment),this.helper.style.width=this.dragOffset.width+"px",this.helper.style.height=this.dragOffset.height+"px",p.swap(e._orig,"w","h"),delete e._rect,this._mouseMove(this.lastDrag)}}_createHelper(){let t=this.el;return typeof this.option.helper=="function"?t=this.option.helper(this.el):this.option.helper==="clone"&&(t=p.cloneNode(this.el)),t.parentElement||p.appendTo(t,this.option.appendTo==="parent"?this.el.parentElement:this.option.appendTo),this.dragElementOriginStyle=ss.originStyleProp.map(e=>this.el.style[e]),t}_setupHelperStyle(t){var i,n;this.helper.classList.add("ui-draggable-dragging"),(n=(i=this.el.gridstackNode)==null?void 0:i.grid)==null||n.el.classList.add("grid-stack-dragging");const e=this.helper.style;return e.pointerEvents="none",e.width=this.dragOffset.width+"px",e.height=this.dragOffset.height+"px",e.willChange="left, top",e.position="fixed",this._dragFollow(t),e.transition="none",setTimeout(()=>{this.helper&&(e.transition=null)},0),this}_removeHelperStyle(){var e,i,n;this.helper.classList.remove("ui-draggable-dragging"),(i=(e=this.el.gridstackNode)==null?void 0:e.grid)==null||i.el.classList.remove("grid-stack-dragging");const t=(n=this.helper)==null?void 0:n.gridstackNode;if(!(t!=null&&t._isAboutToRemove)&&this.dragElementOriginStyle){const r=this.helper,o=this.dragElementOriginStyle.transition||null;r.style.transition=this.dragElementOriginStyle.transition="none",ss.originStyleProp.forEach(l=>r.style[l]=this.dragElementOriginStyle[l]||null),setTimeout(()=>r.style.transition=o,50)}return delete this.dragElementOriginStyle,this}_dragFollow(t){const e={left:0,top:0},i=this.helper.style,n=this.dragOffset;i.left=(t.clientX+n.offsetLeft-e.left)*this.dragTransform.xScale+"px",i.top=(t.clientY+n.offsetTop-e.top)*this.dragTransform.yScale+"px"}_setupHelperContainmentStyle(){return this.helperContainment=this.helper.parentElement,this.helper.style.position!=="fixed"&&(this.parentOriginStylePosition=this.helperContainment.style.position,getComputedStyle(this.helperContainment).position.match(/static/)&&(this.helperContainment.style.position="relative")),this}_getDragOffset(t,e,i){let n=0,r=0;i&&(n=this.dragTransform.xOffset,r=this.dragTransform.yOffset);const o=e.getBoundingClientRect();return{left:o.left,top:o.top,offsetLeft:-t.clientX+o.left-n,offsetTop:-t.clientY+o.top-r,width:o.width*this.dragTransform.xScale,height:o.height*this.dragTransform.yScale}}ui(){const e=this.el.parentElement.getBoundingClientRect(),i=this.helper.getBoundingClientRect();return{position:{top:(i.top-e.top)*this.dragTransform.yScale,left:(i.left-e.left)*this.dragTransform.xScale}}}}ss.originStyleProp=["width","height","transform","transform-origin","transition","pointerEvents","position","left","top","minWidth","willChange"];class Xl extends ki{constructor(t,e={}){super(),this.el=t,this.option=e,this._mouseEnter=this._mouseEnter.bind(this),this._mouseLeave=this._mouseLeave.bind(this),this.enable(),this._setupAccept()}on(t,e){super.on(t,e)}off(t){super.off(t)}enable(){this.disabled!==!1&&(super.enable(),this.el.classList.add("ui-droppable"),this.el.classList.remove("ui-droppable-disabled"),this.el.addEventListener("mouseenter",this._mouseEnter),this.el.addEventListener("mouseleave",this._mouseLeave),Mt&&(this.el.addEventListener("pointerenter",hn),this.el.addEventListener("pointerleave",dn)))}disable(t=!1){this.disabled!==!0&&(super.disable(),this.el.classList.remove("ui-droppable"),t||this.el.classList.add("ui-droppable-disabled"),this.el.removeEventListener("mouseenter",this._mouseEnter),this.el.removeEventListener("mouseleave",this._mouseLeave),Mt&&(this.el.removeEventListener("pointerenter",hn),this.el.removeEventListener("pointerleave",dn)))}destroy(){this.disable(!0),this.el.classList.remove("ui-droppable"),this.el.classList.remove("ui-droppable-disabled"),super.destroy()}updateOption(t){return Object.keys(t).forEach(e=>this.option[e]=t[e]),this._setupAccept(),this}_mouseEnter(t){if(!z.dragElement||!this._canDrop(z.dragElement.el))return;t.preventDefault(),t.stopPropagation(),z.dropElement&&z.dropElement!==this&&z.dropElement._mouseLeave(t,!0),z.dropElement=this;const e=p.initEvent(t,{target:this.el,type:"dropover"});this.option.over&&this.option.over(e,this._ui(z.dragElement)),this.triggerEvent("dropover",e),this.el.classList.add("ui-droppable-over")}_mouseLeave(t,e=!1){var n;if(!z.dragElement||z.dropElement!==this)return;t.preventDefault(),t.stopPropagation();const i=p.initEvent(t,{target:this.el,type:"dropout"});if(this.option.out&&this.option.out(i,this._ui(z.dragElement)),this.triggerEvent("dropout",i),z.dropElement===this&&(delete z.dropElement,!e)){let r,o=this.el.parentElement;for(;!r&&o;)r=(n=o.ddElement)==null?void 0:n.ddDroppable,o=o.parentElement;r&&r._mouseEnter(t)}}drop(t){t.preventDefault();const e=p.initEvent(t,{target:this.el,type:"drop"});this.option.drop&&this.option.drop(e,this._ui(z.dragElement)),this.triggerEvent("drop",e)}_canDrop(t){return t&&(!this.accept||this.accept(t))}_setupAccept(){return this.option.accept?(typeof this.option.accept=="string"?this.accept=t=>t.classList.contains(this.option.accept)||t.matches(this.option.accept):this.accept=this.option.accept,this):this}_ui(t){return{draggable:t.el,...t.ui()}}}class Ni{static init(t){return t.ddElement||(t.ddElement=new Ni(t)),t.ddElement}constructor(t){this.el=t}on(t,e){return this.ddDraggable&&["drag","dragstart","dragstop"].indexOf(t)>-1?this.ddDraggable.on(t,e):this.ddDroppable&&["drop","dropover","dropout"].indexOf(t)>-1?this.ddDroppable.on(t,e):this.ddResizable&&["resizestart","resize","resizestop"].indexOf(t)>-1&&this.ddResizable.on(t,e),this}off(t){return this.ddDraggable&&["drag","dragstart","dragstop"].indexOf(t)>-1?this.ddDraggable.off(t):this.ddDroppable&&["drop","dropover","dropout"].indexOf(t)>-1?this.ddDroppable.off(t):this.ddResizable&&["resizestart","resize","resizestop"].indexOf(t)>-1&&this.ddResizable.off(t),this}setupDraggable(t){return this.ddDraggable?this.ddDraggable.updateOption(t):this.ddDraggable=new ss(this.el,t),this}cleanDraggable(){return this.ddDraggable&&(this.ddDraggable.destroy(),delete this.ddDraggable),this}setupResizable(t){return this.ddResizable?this.ddResizable.updateOption(t):this.ddResizable=new es(this.el,t),this}cleanResizable(){return this.ddResizable&&(this.ddResizable.destroy(),delete this.ddResizable),this}setupDroppable(t){return this.ddDroppable?this.ddDroppable.updateOption(t):this.ddDroppable=new Xl(this.el,t),this}cleanDroppable(){return this.ddDroppable&&(this.ddDroppable.destroy(),delete this.ddDroppable),this}}class Jl{resizable(t,e,i,n){return this._getDDElements(t,e).forEach(r=>{if(e==="disable"||e==="enable")r.ddResizable&&r.ddResizable[e]();else if(e==="destroy")r.ddResizable&&r.cleanResizable();else if(e==="option")r.setupResizable({[i]:n});else{const l=r.el.gridstackNode.grid;let a=r.el.getAttribute("gs-resize-handles")||l.opts.resizable.handles||"e,s,se";a==="all"&&(a="n,e,s,w,se,sw,ne,nw");const u=!l.opts.alwaysShowResizeHandle;r.setupResizable({...l.opts.resizable,handles:a,autoHide:u,start:e.start,stop:e.stop,resize:e.resize})}}),this}draggable(t,e,i,n){return this._getDDElements(t,e).forEach(r=>{if(e==="disable"||e==="enable")r.ddDraggable&&r.ddDraggable[e]();else if(e==="destroy")r.ddDraggable&&r.cleanDraggable();else if(e==="option")r.setupDraggable({[i]:n});else{const o=r.el.gridstackNode.grid;r.setupDraggable({...o.opts.draggable,start:e.start,stop:e.stop,drag:e.drag})}}),this}dragIn(t,e){return this._getDDElements(t).forEach(i=>i.setupDraggable(e)),this}droppable(t,e,i,n){return typeof e.accept=="function"&&!e._accept&&(e._accept=e.accept,e.accept=r=>e._accept(r)),this._getDDElements(t,e).forEach(r=>{e==="disable"||e==="enable"?r.ddDroppable&&r.ddDroppable[e]():e==="destroy"?r.ddDroppable&&r.cleanDroppable():e==="option"?r.setupDroppable({[i]:n}):r.setupDroppable(e)}),this}isDroppable(t){var e;return!!((e=t==null?void 0:t.ddElement)!=null&&e.ddDroppable&&!t.ddElement.ddDroppable.disabled)}isDraggable(t){var e;return!!((e=t==null?void 0:t.ddElement)!=null&&e.ddDraggable&&!t.ddElement.ddDraggable.disabled)}isResizable(t){var e;return!!((e=t==null?void 0:t.ddElement)!=null&&e.ddResizable&&!t.ddElement.ddResizable.disabled)}on(t,e,i){return this._getDDElements(t).forEach(n=>n.on(e,r=>{i(r,z.dragElement?z.dragElement.el:r.target,z.dragElement?z.dragElement.helper:null)})),this}off(t,e){return this._getDDElements(t).forEach(i=>i.off(e)),this}_getDDElements(t,e){const i=t.gridstack||e!=="destroy"&&e!=="disable",n=p.getElements(t);return n.length?n.map(o=>o.ddElement||(i?Ni.init(o):null)).filter(o=>o):[]}}/*!
 * GridStack 12.3.2
 * https://gridstackjs.com/
 *
 * Copyright (c) 2021-2025  Alain Dumesny
 * see root license https://github.com/gridstack/gridstack.js/tree/master/LICENSE
 */const ct=new Jl;class N{static init(t={},e=".grid-stack"){if(typeof document>"u")return null;const i=N.getGridElement(e);return i?(i.gridstack||(i.gridstack=new N(i,p.cloneDeep(t))),i.gridstack):(console.error(typeof e=="string"?'GridStack.initAll() no grid was found with selector "'+e+`" - element missing or wrong selector ?
Note: ".grid-stack" is required for proper CSS styling and drag/drop, and is the default selector.`:"GridStack.init() no grid element was passed."),null)}static initAll(t={},e=".grid-stack"){const i=[];return typeof document>"u"||(N.getGridElements(e).forEach(n=>{n.gridstack||(n.gridstack=new N(n,p.cloneDeep(t))),i.push(n.gridstack)}),i.length===0&&console.error('GridStack.initAll() no grid was found with selector "'+e+`" - element missing or wrong selector ?
Note: ".grid-stack" is required for proper CSS styling and drag/drop, and is the default selector.`)),i}static addGrid(t,e={}){if(!t)return null;let i=t;if(i.gridstack){const o=i.gridstack;return e&&(o.opts={...o.opts,...e}),e.children!==void 0&&o.load(e.children),o}return(!t.classList.contains("grid-stack")||N.addRemoveCB)&&(N.addRemoveCB?i=N.addRemoveCB(t,e,!0,!0):i=p.createDiv(["grid-stack",e.class],t)),N.init(e,i)}static registerEngine(t){N.engineClass=t}get placeholder(){if(!this._placeholder){this._placeholder=p.createDiv([this.opts.placeholderClass,wt.itemClass,this.opts.itemClass]);const t=p.createDiv(["placeholder-content"],this._placeholder);this.opts.placeholderText&&(t.textContent=this.opts.placeholderText)}return this._placeholder}constructor(t,e={}){var u;this.el=t,this.opts=e,this.animationDelay=310,this._gsEventHandler={},this._extraDragRow=0,this.dragTransform={xScale:1,yScale:1,xOffset:0,yOffset:0},t.gridstack=this,this.opts=e=e||{},t.classList.contains("grid-stack")||this.el.classList.add("grid-stack"),e.row&&(e.minRow=e.maxRow=e.row,delete e.row);const i=p.toNumber(t.getAttribute("gs-row"));e.column==="auto"&&delete e.column,e.alwaysShowResizeHandle!==void 0&&(e._alwaysShowResizeHandle=e.alwaysShowResizeHandle);const n=e.columnOpts;if(n){const c=n.breakpoints;!n.columnWidth&&!(c!=null&&c.length)?delete e.columnOpts:(n.columnMax=n.columnMax||12,(c==null?void 0:c.length)>1&&c.sort((d,_)=>(_.w||0)-(d.w||0)))}const r={...p.cloneDeep(wt),column:p.toNumber(t.getAttribute("gs-column"))||wt.column,minRow:i||p.toNumber(t.getAttribute("gs-min-row"))||wt.minRow,maxRow:i||p.toNumber(t.getAttribute("gs-max-row"))||wt.maxRow,staticGrid:p.toBool(t.getAttribute("gs-static"))||wt.staticGrid,sizeToContent:p.toBool(t.getAttribute("gs-size-to-content"))||void 0,draggable:{handle:(e.handleClass?"."+e.handleClass:e.handle?e.handle:"")||wt.draggable.handle},removableOptions:{accept:e.itemClass||wt.removableOptions.accept,decline:wt.removableOptions.decline}};t.getAttribute("gs-animate")&&(r.animate=p.toBool(t.getAttribute("gs-animate"))),e=p.defaults(e,r),this._initMargin(),this.checkDynamicColumn(),this._updateColumnVar(e),e.rtl==="auto"&&(e.rtl=t.style.direction==="rtl"),e.rtl&&this.el.classList.add("grid-stack-rtl");const o=this.el.closest("."+wt.itemClass),l=o==null?void 0:o.gridstackNode;if(l&&(l.subGrid=this,this.parentGridNode=l,this.el.classList.add("grid-stack-nested"),l.el.classList.add("grid-stack-sub-grid")),this._isAutoCellHeight=e.cellHeight==="auto",this._isAutoCellHeight||e.cellHeight==="initial")this.cellHeight(void 0);else{typeof e.cellHeight=="number"&&e.cellHeightUnit&&e.cellHeightUnit!==wt.cellHeightUnit&&(e.cellHeight=e.cellHeight+e.cellHeightUnit,delete e.cellHeightUnit);const c=e.cellHeight;delete e.cellHeight,this.cellHeight(c)}e.alwaysShowResizeHandle==="mobile"&&(e.alwaysShowResizeHandle=Mt),this._setStaticClass();const a=e.engineClass||N.engineClass||Zt;if(this.engine=new a({column:this.getColumn(),float:e.float,maxRow:e.maxRow,onChange:c=>{c.forEach(d=>{const _=d.el;_&&(d._removeDOM?(_&&_.remove(),delete d._removeDOM):this._writePosAttr(_,d))}),this._updateContainerHeight()}}),e.auto&&(this.batchUpdate(),this.engine._loading=!0,this.getGridItems().forEach(c=>this._prepareElement(c)),delete this.engine._loading,this.batchUpdate(!1)),e.children){const c=e.children;delete e.children,c.length&&this.load(c)}this.setAnimation(),e.subGridDynamic&&!z.pauseDrag&&(z.pauseDrag=!0),((u=e.draggable)==null?void 0:u.pause)!==void 0&&(z.pauseDrag=e.draggable.pause),this._setupRemoveDrop(),this._setupAcceptWidget(),this._updateResizeEvent()}_updateColumnVar(t=this.opts){this.el.classList.add("gs-"+t.column),typeof t.column=="number"&&this.el.style.setProperty("--gs-column-width",`${100/t.column}%`)}addWidget(t){if(!t)return;if(typeof t=="string"){console.error("V11: GridStack.addWidget() does not support string anymore. see #2736");return}if(t.ELEMENT_NODE)return console.error("V11: GridStack.addWidget() does not support HTMLElement anymore. use makeWidget()"),this.makeWidget(t);let e,i=t;if(i.grid=this,i.el?e=i.el:N.addRemoveCB?e=N.addRemoveCB(this.el,t,!0,!1):e=this.createWidgetDivs(i),!e)return;if(i=e.gridstackNode,i&&e.parentElement===this.el&&this.engine.nodes.find(r=>r._id===i._id))return e;const n=this._readAttr(e);return p.defaults(t,n),this.engine.prepareNode(t),this.el.appendChild(e),this.makeWidget(e,t),e}createWidgetDivs(t){const e=p.createDiv(["grid-stack-item",this.opts.itemClass]),i=p.createDiv(["grid-stack-item-content"],e);return p.lazyLoad(t)?t.visibleObservable||(t.visibleObservable=new IntersectionObserver(([n])=>{var r,o;n.isIntersecting&&((r=t.visibleObservable)==null||r.disconnect(),delete t.visibleObservable,N.renderCB(i,t),(o=t.grid)==null||o.prepareDragDrop(t.el))}),window.setTimeout(()=>{var n;return(n=t.visibleObservable)==null?void 0:n.observe(e)})):N.renderCB(i,t),e}makeSubGrid(t,e,i,n=!0){var T,D,k;let r=t.gridstackNode;if(r||(r=this.makeWidget(t).gridstackNode),(T=r.subGrid)!=null&&T.el)return r.subGrid;let o,l=this;for(;l&&!o;)o=(D=l.opts)==null?void 0:D.subGridOpts,l=(k=l.parentGridNode)==null?void 0:k.grid;e=p.cloneDeep({...this.opts,id:void 0,children:void 0,column:"auto",columnOpts:void 0,layout:"list",subGridOpts:void 0,...o||{},...e||r.subGridOpts||{}}),r.subGridOpts=e;let a;e.column==="auto"&&(a=!0,e.column=Math.max(r.w||1,(i==null?void 0:i.w)||1),delete e.columnOpts);let u=r.el.querySelector(".grid-stack-item-content"),c,d;if(n&&(this._removeDD(r.el),d={...r,x:0,y:0},p.removeInternalForSave(d),delete d.subGridOpts,r.content&&(d.content=r.content,delete r.content),N.addRemoveCB?c=N.addRemoveCB(this.el,d,!0,!1):(c=p.createDiv(["grid-stack-item"]),c.appendChild(u),u=p.createDiv(["grid-stack-item-content"],r.el)),this.prepareDragDrop(r.el)),i){const V=a?e.column:r.w,B=r.h+i.h,W=r.el.style;W.transition="none",this.update(r.el,{w:V,h:B}),setTimeout(()=>W.transition=null)}const _=r.subGrid=N.addGrid(u,e);return i!=null&&i._moving&&(_._isTemp=!0),a&&(_._autoColumn=!0),n&&_.makeWidget(c,d),i&&(i._moving?window.setTimeout(()=>p.simulateMouseEvent(i._event,"mouseenter",_.el),0):_.makeWidget(r.el,r)),this.resizeToContentCheck(!1,r),_}removeAsSubGrid(t){var i;const e=(i=this.parentGridNode)==null?void 0:i.grid;e&&(e.batchUpdate(),e.removeWidget(this.parentGridNode.el,!0,!0),this.engine.nodes.forEach(n=>{n.x+=this.parentGridNode.x,n.y+=this.parentGridNode.y,e.makeWidget(n.el,n)}),e.batchUpdate(!1),this.parentGridNode&&delete this.parentGridNode.subGrid,delete this.parentGridNode,t&&window.setTimeout(()=>p.simulateMouseEvent(t._event,"mouseenter",e.el),0))}save(t=!0,e=!1,i=N.saveCB,n){const r=this.engine.save(t,i,n);if(r.forEach(o=>{var l;if(t&&o.el&&!o.subGrid&&!i){const a=o.el.querySelector(".grid-stack-item-content");o.content=a==null?void 0:a.innerHTML,o.content||delete o.content}else if(!t&&!i&&delete o.content,(l=o.subGrid)!=null&&l.el){const a=o.w||o.subGrid.getColumn(),u=o.subGrid.save(t,e,i,a);o.subGridOpts=e?u:{children:u},delete o.subGrid}delete o.el}),e){const o=p.cloneDeep(this.opts);o.marginBottom===o.marginTop&&o.marginRight===o.marginLeft&&o.marginTop===o.marginRight&&(o.margin=o.marginTop,delete o.marginTop,delete o.marginRight,delete o.marginBottom,delete o.marginLeft),o.rtl===(this.el.style.direction==="rtl")&&(o.rtl="auto"),this._isAutoCellHeight&&(o.cellHeight="auto"),this._autoColumn&&(o.column="auto");const l=o._alwaysShowResizeHandle;return delete o._alwaysShowResizeHandle,l!==void 0?o.alwaysShowResizeHandle=l:delete o.alwaysShowResizeHandle,p.removeInternalAndSame(o,wt),o.children=r,o}return r}load(t,e=N.addRemoveCB||!0){t=p.cloneDeep(t);const i=this.getColumn();t.forEach(c=>{c.w=c.w||c.minW||1,c.h=c.h||c.minH||1}),t=p.sort(t),this.engine.skipCacheUpdate=this._ignoreLayoutsNodeChange=!0;let n=0;t.forEach(c=>{n=Math.max(n,(c.x||0)+c.w)}),n>this.engine.defaultColumn&&(this.engine.defaultColumn=n),n>i&&(this.engine.nodes.length===0&&this.responseLayout?(this.engine.nodes=t,this.engine.columnChanged(n,i,this.responseLayout),t=this.engine.nodes,this.engine.nodes=[],delete this.responseLayout):this.engine.cacheLayout(t,n,!0));const r=N.addRemoveCB;typeof e=="function"&&(N.addRemoveCB=e);const o=[];this.batchUpdate();const l=!this.engine.nodes.length,a=l&&this.opts.animate;a&&this.setAnimation(!1),!l&&e&&[...this.engine.nodes].forEach(d=>{if(!d.id)return;p.find(t,d.id)||(N.addRemoveCB&&N.addRemoveCB(this.el,d,!1,!1),o.push(d),this.removeWidget(d.el,!0,!1))}),this.engine._loading=!0;const u=[];return this.engine.nodes=this.engine.nodes.filter(c=>p.find(t,c.id)?(u.push(c),!1):!0),t.forEach(c=>{var _;const d=p.find(u,c.id);if(d){if(p.shouldSizeToContent(d)&&(c.h=d.h),this.engine.nodeBoundFix(c),(c.autoPosition||c.x===void 0||c.y===void 0)&&(c.w=c.w||d.w,c.h=c.h||d.h,this.engine.findEmptyPosition(c)),this.engine.nodes.push(d),p.samePos(d,c)&&this.engine.nodes.length>1&&(this.moveNode(d,{...c,forceCollide:!0}),p.copyPos(c,d)),this.update(d.el,c),(_=c.subGridOpts)!=null&&_.children){const T=d.el.querySelector(".grid-stack");T&&T.gridstack&&T.gridstack.load(c.subGridOpts.children)}}else e&&this.addWidget(c)}),delete this.engine._loading,this.engine.removedNodes=o,this.batchUpdate(!1),delete this._ignoreLayoutsNodeChange,delete this.engine.skipCacheUpdate,r?N.addRemoveCB=r:delete N.addRemoveCB,a&&this.setAnimation(!0,!0),this}batchUpdate(t=!0){return this.engine.batchUpdate(t),t||(this._updateContainerHeight(),this._triggerRemoveEvent(),this._triggerAddEvent(),this._triggerChangeEvent()),this}getCellHeight(t=!1){if(this.opts.cellHeight&&this.opts.cellHeight!=="auto"&&(!t||!this.opts.cellHeightUnit||this.opts.cellHeightUnit==="px"))return this.opts.cellHeight;if(this.opts.cellHeightUnit==="rem")return this.opts.cellHeight*parseFloat(getComputedStyle(document.documentElement).fontSize);if(this.opts.cellHeightUnit==="em")return this.opts.cellHeight*parseFloat(getComputedStyle(this.el).fontSize);if(this.opts.cellHeightUnit==="cm")return this.opts.cellHeight*(96/2.54);if(this.opts.cellHeightUnit==="mm")return this.opts.cellHeight*(96/2.54)/10;const e=this.el.querySelector("."+this.opts.itemClass);if(e){const n=p.toNumber(e.getAttribute("gs-h"))||1;return Math.round(e.offsetHeight/n)}const i=parseInt(this.el.getAttribute("gs-current-row"));return i?Math.round(this.el.getBoundingClientRect().height/i):this.opts.cellHeight}cellHeight(t){if(t!==void 0&&this._isAutoCellHeight!==(t==="auto")&&(this._isAutoCellHeight=t==="auto",this._updateResizeEvent()),(t==="initial"||t==="auto")&&(t=void 0),t===void 0){const i=-this.opts.marginRight-this.opts.marginLeft+this.opts.marginTop+this.opts.marginBottom;t=this.cellWidth()+i}const e=p.parseHeight(t);return this.opts.cellHeightUnit===e.unit&&this.opts.cellHeight===e.h?this:(this.opts.cellHeightUnit=e.unit,this.opts.cellHeight=e.h,this.el.style.setProperty("--gs-cell-height",`${this.opts.cellHeight}${this.opts.cellHeightUnit}`),this._updateContainerHeight(),this.resizeToContentCheck(),this)}cellWidth(){return this._widthOrContainer()/this.getColumn()}_widthOrContainer(t=!1){var e;return t&&((e=this.opts.columnOpts)!=null&&e.breakpointForWindow)?window.innerWidth:this.el.clientWidth||this.el.parentElement.clientWidth||window.innerWidth}checkDynamicColumn(){var r,o;const t=this.opts.columnOpts;if(!t||!t.columnWidth&&!((r=t.breakpoints)!=null&&r.length))return!1;const e=this.getColumn();let i=e;const n=this._widthOrContainer(!0);if(t.columnWidth)i=Math.min(Math.round(n/t.columnWidth)||1,t.columnMax);else{i=t.columnMax;let l=0;for(;l<t.breakpoints.length&&n<=t.breakpoints[l].w;)i=t.breakpoints[l++].c||e}if(i!==e){const l=(o=t.breakpoints)==null?void 0:o.find(a=>a.c===i);return this.column(i,(l==null?void 0:l.layout)||t.layout),!0}return!1}compact(t="compact",e=!0){return this.engine.compact(t,e),this._triggerChangeEvent(),this}column(t,e="moveScale"){if(!t||t<1||this.opts.column===t)return this;const i=this.getColumn();return this.opts.column=t,this.engine?(this.engine.column=t,this.el.classList.remove("gs-"+i),this._updateColumnVar(),this.engine.columnChanged(i,t,e),this._isAutoCellHeight&&this.cellHeight(),this.resizeToContentCheck(!0),this._ignoreLayoutsNodeChange=!0,this._triggerChangeEvent(),delete this._ignoreLayoutsNodeChange,this):(this.responseLayout=e,this)}getColumn(){return this.opts.column}getGridItems(){return Array.from(this.el.children).filter(t=>t.matches("."+this.opts.itemClass)&&!t.matches("."+this.opts.placeholderClass))}isIgnoreChangeCB(){return this._ignoreLayoutsNodeChange}destroy(t=!0){var e;if(this.el)return this.offAll(),this._updateResizeEvent(!0),this.setStatic(!0,!1),this.setAnimation(!1),t?this.el.parentNode.removeChild(this.el):(this.removeAll(t),this.el.removeAttribute("gs-current-row")),this.parentGridNode&&delete this.parentGridNode.subGrid,delete this.parentGridNode,delete this.opts,(e=this._placeholder)==null||delete e.gridstackNode,delete this._placeholder,delete this.engine,delete this.el.gridstack,delete this.el,this}float(t){return this.opts.float!==t&&(this.opts.float=this.engine.float=t,this._triggerChangeEvent()),this}getFloat(){return this.engine.float}getCellFromPixel(t,e=!1){const i=this.el.getBoundingClientRect();let n;e?n={top:i.top+document.documentElement.scrollTop,left:i.left}:n={top:this.el.offsetTop,left:this.el.offsetLeft};const r=t.left-n.left,o=t.top-n.top,l=i.width/this.getColumn(),a=i.height/parseInt(this.el.getAttribute("gs-current-row"));return{x:Math.floor(r/l),y:Math.floor(o/a)}}getRow(){return Math.max(this.engine.getRow(),this.opts.minRow||0)}isAreaEmpty(t,e,i,n){return this.engine.isAreaEmpty(t,e,i,n)}makeWidget(t,e){const i=N.getElement(t);if(!i||i.gridstackNode)return i;i.parentElement||this.el.appendChild(i),this._prepareElement(i,!0,e);const n=i.gridstackNode;this._updateContainerHeight(),n.subGridOpts&&this.makeSubGrid(i,n.subGridOpts,void 0,!1);let r;return this.opts.column===1&&!this._ignoreLayoutsNodeChange&&(r=this._ignoreLayoutsNodeChange=!0),this._triggerAddEvent(),this._triggerChangeEvent(),r&&delete this._ignoreLayoutsNodeChange,i}on(t,e){return t.indexOf(" ")!==-1?(t.split(" ").forEach(n=>this.on(n,e)),this):(t==="change"||t==="added"||t==="removed"||t==="enable"||t==="disable"?(t==="enable"||t==="disable"?this._gsEventHandler[t]=n=>e(n):this._gsEventHandler[t]=n=>{n.detail&&e(n,n.detail)},this.el.addEventListener(t,this._gsEventHandler[t])):t==="drag"||t==="dragstart"||t==="dragstop"||t==="resizestart"||t==="resize"||t==="resizestop"||t==="dropped"||t==="resizecontent"?this._gsEventHandler[t]=e:console.error("GridStack.on("+t+") event not supported"),this)}off(t){return t.indexOf(" ")!==-1?(t.split(" ").forEach(i=>this.off(i)),this):((t==="change"||t==="added"||t==="removed"||t==="enable"||t==="disable")&&this._gsEventHandler[t]&&this.el.removeEventListener(t,this._gsEventHandler[t]),delete this._gsEventHandler[t],this)}offAll(){return Object.keys(this._gsEventHandler).forEach(t=>this.off(t)),this}removeWidget(t,e=!0,i=!0){return t?(N.getElements(t).forEach(n=>{if(n.parentElement&&n.parentElement!==this.el)return;let r=n.gridstackNode;r||(r=this.engine.nodes.find(o=>n===o.el)),r&&(e&&N.addRemoveCB&&N.addRemoveCB(this.el,r,!1,!1),delete n.gridstackNode,this._removeDD(n),this.engine.removeNode(r,e,i),e&&n.parentElement&&n.remove())}),i&&(this._triggerRemoveEvent(),this._triggerChangeEvent()),this):(console.error("Error: GridStack.removeWidget(undefined) called"),this)}removeAll(t=!0,e=!0){return this.engine.nodes.forEach(i=>{t&&N.addRemoveCB&&N.addRemoveCB(this.el,i,!1,!1),delete i.el.gridstackNode,this.opts.staticGrid||this._removeDD(i.el)}),this.engine.removeAll(t,e),e&&this._triggerRemoveEvent(),this}setAnimation(t=this.opts.animate,e){return e?setTimeout(()=>{this.opts&&this.setAnimation(t)}):t?this.el.classList.add("grid-stack-animate"):this.el.classList.remove("grid-stack-animate"),this.opts.animate=t,this}hasAnimationCSS(){return this.el.classList.contains("grid-stack-animate")}setStatic(t,e=!0,i=!0){return!!this.opts.staticGrid===t?this:(t?this.opts.staticGrid=!0:delete this.opts.staticGrid,this._setupRemoveDrop(),this._setupAcceptWidget(),this.engine.nodes.forEach(n=>{this.prepareDragDrop(n.el),n.subGrid&&i&&n.subGrid.setStatic(t,e,i)}),e&&this._setStaticClass(),this)}updateOptions(t){var i;const e=this.opts;return t===e?this:(t.acceptWidgets!==void 0&&(e.acceptWidgets=t.acceptWidgets,this._setupAcceptWidget()),t.animate!==void 0&&this.setAnimation(t.animate),t.cellHeight&&this.cellHeight(t.cellHeight),t.class!==void 0&&t.class!==e.class&&(e.class&&this.el.classList.remove(e.class),t.class&&this.el.classList.add(t.class)),t.columnOpts?(this.opts.columnOpts=t.columnOpts,this.checkDynamicColumn()):t.columnOpts===null&&this.opts.columnOpts?(delete this.opts.columnOpts,this._updateResizeEvent()):typeof t.column=="number"&&this.column(t.column),t.margin!==void 0&&this.margin(t.margin),t.staticGrid!==void 0&&this.setStatic(t.staticGrid),t.disableDrag!==void 0&&!t.staticGrid&&this.enableMove(!t.disableDrag),t.disableResize!==void 0&&!t.staticGrid&&this.enableResize(!t.disableResize),t.float!==void 0&&this.float(t.float),t.row!==void 0?(e.minRow=e.maxRow=e.row=t.row,this._updateContainerHeight()):(t.minRow!==void 0&&(e.minRow=t.minRow,this._updateContainerHeight()),t.maxRow!==void 0&&(e.maxRow=t.maxRow)),(i=t.children)!=null&&i.length&&this.load(t.children),this)}update(t,e){return N.getElements(t).forEach(i=>{var c;const n=i==null?void 0:i.gridstackNode;if(!n)return;const r={...p.copyPos({},n),...p.cloneDeep(e)};this.engine.nodeBoundFix(r),delete r.autoPosition;const o=["x","y","w","h"];let l;if(o.some(d=>r[d]!==void 0&&r[d]!==n[d])&&(l={},o.forEach(d=>{l[d]=r[d]!==void 0?r[d]:n[d],delete r[d]})),!l&&(r.minW||r.minH||r.maxW||r.maxH)&&(l={}),r.content!==void 0){const d=i.querySelector(".grid-stack-item-content");d&&d.textContent!==r.content&&(n.content=r.content,N.renderCB(d,r),(c=n.subGrid)!=null&&c.el&&(d.appendChild(n.subGrid.el),n.subGrid._updateContainerHeight())),delete r.content}let a=!1,u=!1;for(const d in r)d[0]!=="_"&&n[d]!==r[d]&&(n[d]=r[d],a=!0,u=u||!this.opts.staticGrid&&(d==="noResize"||d==="noMove"||d==="locked"));if(p.sanitizeMinMax(n),l){const d=l.w!==void 0&&l.w!==n.w;this.moveNode(n,l),d&&n.subGrid?n.subGrid.onResize(this.hasAnimationCSS()?n.w:void 0):this.resizeToContentCheck(d,n),delete n._orig}(l||a)&&this._writeAttr(i,n),u&&this.prepareDragDrop(n.el),N.updateCB&&N.updateCB(n)}),this}moveNode(t,e){const i=t._updating;i||this.engine.cleanNodes().beginUpdate(t),this.engine.moveNode(t,e),this._updateContainerHeight(),i||(this._triggerChangeEvent(),this.engine.endUpdate())}resizeToContent(t){var _,T;if(!t||(t.classList.remove("size-to-content-max"),!t.clientHeight))return;const e=t.gridstackNode;if(!e)return;const i=e.grid;if(!i||t.parentElement!==i.el)return;const n=i.getCellHeight(!0);if(!n)return;let r=e.h?e.h*n:t.clientHeight,o;if(e.resizeToContentParent&&(o=t.querySelector(e.resizeToContentParent)),o||(o=t.querySelector(N.resizeToContentParent)),!o)return;const l=t.clientHeight-o.clientHeight,a=e.h?e.h*n-l:o.clientHeight;let u;if(e.subGrid){u=e.subGrid.getRow()*e.subGrid.getCellHeight(!0);const D=e.subGrid.el.getBoundingClientRect(),k=t.getBoundingClientRect();u+=D.top-k.top}else{if((T=(_=e.subGridOpts)==null?void 0:_.children)!=null&&T.length)return;{const D=o.firstElementChild;if(!D){console.error(`Error: GridStack.resizeToContent() widget id:${e.id} '${N.resizeToContentParent}'.firstElementChild is null, make sure to have a div like container. Skipping sizing.`);return}u=D.getBoundingClientRect().height||a}}if(a===u)return;r+=u-a;let c=Math.ceil(r/n);const d=Number.isInteger(e.sizeToContent)?e.sizeToContent:0;d&&c>d&&(c=d,t.classList.add("size-to-content-max")),e.minH&&c<e.minH?c=e.minH:e.maxH&&c>e.maxH&&(c=e.maxH),c!==e.h&&(i._ignoreLayoutsNodeChange=!0,i.moveNode(e,{h:c}),delete i._ignoreLayoutsNodeChange)}resizeToContentCBCheck(t){N.resizeToContentCB?N.resizeToContentCB(t):this.resizeToContent(t)}rotate(t,e){return N.getElements(t).forEach(i=>{const n=i.gridstackNode;if(!p.canBeRotated(n))return;const r={w:n.h,h:n.w,minH:n.minW,minW:n.minH,maxH:n.maxW,maxW:n.maxH};if(e){const l=e.left>0?Math.floor(e.left/this.cellWidth()):0,a=e.top>0?Math.floor(e.top/this.opts.cellHeight):0;r.x=n.x+l-(n.h-(a+1)),r.y=n.y+a-l}Object.keys(r).forEach(l=>{r[l]===void 0&&delete r[l]});const o=n._orig;this.update(i,r),n._orig=o}),this}margin(t){if(!(typeof t=="string"&&t.split(" ").length>1)){const i=p.parseHeight(t);if(this.opts.marginUnit===i.unit&&this.opts.margin===i.h)return}return this.opts.margin=t,this.opts.marginTop=this.opts.marginBottom=this.opts.marginLeft=this.opts.marginRight=void 0,this._initMargin(),this}getMargin(){return this.opts.margin}willItFit(t){if(arguments.length>1){console.warn("gridstack.ts: `willItFit(x,y,w,h,autoPosition)` is deprecated. Use `willItFit({x, y,...})`. It will be removed soon");const e=arguments;let i=0,n={x:e[i++],y:e[i++],w:e[i++],h:e[i++],autoPosition:e[i++]};return this.willItFit(n)}return this.engine.willItFit(t)}_triggerChangeEvent(){if(this.engine.batchMode)return this;const t=this.engine.getDirtyNodes(!0);return t&&t.length&&(this._ignoreLayoutsNodeChange||this.engine.layoutsNodesChange(t),this._triggerEvent("change",t)),this.engine.saveInitial(),this}_triggerAddEvent(){var t;if(this.engine.batchMode)return this;if((t=this.engine.addedNodes)!=null&&t.length){this._ignoreLayoutsNodeChange||this.engine.layoutsNodesChange(this.engine.addedNodes),this.engine.addedNodes.forEach(i=>{delete i._dirty});const e=[...this.engine.addedNodes];this.engine.addedNodes=[],this._triggerEvent("added",e)}return this}_triggerRemoveEvent(){var t;if(this.engine.batchMode)return this;if((t=this.engine.removedNodes)!=null&&t.length){const e=[...this.engine.removedNodes];this.engine.removedNodes=[],this._triggerEvent("removed",e)}return this}_triggerEvent(t,e){const i=e?new CustomEvent(t,{bubbles:!1,detail:e}):new Event(t);let n=this;for(;n.parentGridNode;)n=n.parentGridNode.grid;return n.el.dispatchEvent(i),this}_updateContainerHeight(){if(!this.engine||this.engine.batchMode)return this;const t=this.parentGridNode;let e=this.getRow()+this._extraDragRow;const i=this.opts.cellHeight,n=this.opts.cellHeightUnit;if(!i)return this;if(!t&&!this.opts.minRow){const r=p.parseHeight(getComputedStyle(this.el).minHeight);if(r.h>0&&r.unit===n){const o=Math.floor(r.h/i);e<o&&(e=o)}}return this.el.setAttribute("gs-current-row",String(e)),this.el.style.removeProperty("min-height"),this.el.style.removeProperty("height"),e&&(this.el.style[t?"minHeight":"height"]=e*i+n),t&&p.shouldSizeToContent(t)&&t.grid.resizeToContentCBCheck(t.el),this}_prepareElement(t,e=!1,i){i=i||this._readAttr(t),t.gridstackNode=i,i.el=t,i.grid=this,i=this.engine.addNode(i,e),this._writeAttr(t,i),t.classList.add(wt.itemClass,this.opts.itemClass);const n=p.shouldSizeToContent(i);return n?t.classList.add("size-to-content"):t.classList.remove("size-to-content"),n&&this.resizeToContentCheck(!1,i),p.lazyLoad(i)||this.prepareDragDrop(i.el),this}_writePosAttr(t,e){return(!e._moving&&!e._resizing||this._placeholder===t)&&(t.style.top=e.y?e.y===1?"var(--gs-cell-height)":`calc(${e.y} * var(--gs-cell-height))`:null,t.style.left=e.x?e.x===1?"var(--gs-column-width)":`calc(${e.x} * var(--gs-column-width))`:null,t.style.width=e.w>1?`calc(${e.w} * var(--gs-column-width))`:null,t.style.height=e.h>1?`calc(${e.h} * var(--gs-cell-height))`:null),e.x>0?t.setAttribute("gs-x",String(e.x)):t.removeAttribute("gs-x"),e.y>0?t.setAttribute("gs-y",String(e.y)):t.removeAttribute("gs-y"),e.w>1?t.setAttribute("gs-w",String(e.w)):t.removeAttribute("gs-w"),e.h>1?t.setAttribute("gs-h",String(e.h)):t.removeAttribute("gs-h"),this}_writeAttr(t,e){if(!e)return this;this._writePosAttr(t,e);const i={noResize:"gs-no-resize",noMove:"gs-no-move",locked:"gs-locked",id:"gs-id",sizeToContent:"gs-size-to-content"};for(const n in i)e[n]?t.setAttribute(i[n],String(e[n])):t.removeAttribute(i[n]);return this}_readAttr(t,e=!0){const i={};i.x=p.toNumber(t.getAttribute("gs-x")),i.y=p.toNumber(t.getAttribute("gs-y")),i.w=p.toNumber(t.getAttribute("gs-w")),i.h=p.toNumber(t.getAttribute("gs-h")),i.autoPosition=p.toBool(t.getAttribute("gs-auto-position")),i.noResize=p.toBool(t.getAttribute("gs-no-resize")),i.noMove=p.toBool(t.getAttribute("gs-no-move")),i.locked=p.toBool(t.getAttribute("gs-locked"));const n=t.getAttribute("gs-size-to-content");n&&(n==="true"||n==="false"?i.sizeToContent=p.toBool(n):i.sizeToContent=parseInt(n,10)),i.id=t.getAttribute("gs-id"),i.maxW=p.toNumber(t.getAttribute("gs-max-w")),i.minW=p.toNumber(t.getAttribute("gs-min-w")),i.maxH=p.toNumber(t.getAttribute("gs-max-h")),i.minH=p.toNumber(t.getAttribute("gs-min-h")),e&&(i.w===1&&t.removeAttribute("gs-w"),i.h===1&&t.removeAttribute("gs-h"),i.maxW&&t.removeAttribute("gs-max-w"),i.minW&&t.removeAttribute("gs-min-w"),i.maxH&&t.removeAttribute("gs-max-h"),i.minH&&t.removeAttribute("gs-min-h"));for(const r in i){if(!i.hasOwnProperty(r))return;!i[r]&&i[r]!==0&&r!=="sizeToContent"&&delete i[r]}return i}_setStaticClass(){const t=["grid-stack-static"];return this.opts.staticGrid?(this.el.classList.add(...t),this.el.setAttribute("gs-static","true")):(this.el.classList.remove(...t),this.el.removeAttribute("gs-static")),this}onResize(t=(e=>(e=this.el)==null?void 0:e.clientWidth)()){if(!t||this.prevWidth===t)return;this.prevWidth=t,this.batchUpdate();let i=!1;return this._autoColumn&&this.parentGridNode?this.opts.column!==this.parentGridNode.w&&(this.column(this.parentGridNode.w,this.opts.layout||"list"),i=!0):i=this.checkDynamicColumn(),this._isAutoCellHeight&&this.cellHeight(),this.engine.nodes.forEach(n=>{n.subGrid&&n.subGrid.onResize()}),this._skipInitialResize||this.resizeToContentCheck(i),delete this._skipInitialResize,this.batchUpdate(!1),this}resizeToContentCheck(t=!1,e=void 0){if(this.engine){if(t&&this.hasAnimationCSS())return setTimeout(()=>this.resizeToContentCheck(!1,e),this.animationDelay);if(e)p.shouldSizeToContent(e)&&this.resizeToContentCBCheck(e.el);else if(this.engine.nodes.some(i=>p.shouldSizeToContent(i))){const i=[...this.engine.nodes];this.batchUpdate(),i.forEach(n=>{p.shouldSizeToContent(n)&&this.resizeToContentCBCheck(n.el)}),this._ignoreLayoutsNodeChange=!0,this.batchUpdate(!1),this._ignoreLayoutsNodeChange=!1}this._gsEventHandler.resizecontent&&this._gsEventHandler.resizecontent(null,e?[e]:this.engine.nodes)}}_updateResizeEvent(t=!1){const e=!this.parentGridNode&&(this._isAutoCellHeight||this.opts.sizeToContent||this.opts.columnOpts||this.engine.nodes.find(i=>i.sizeToContent));return!t&&e&&!this.resizeObserver?(this._sizeThrottle=p.throttle(()=>this.onResize(),this.opts.cellHeightThrottle),this.resizeObserver=new ResizeObserver(()=>this._sizeThrottle()),this.resizeObserver.observe(this.el),this._skipInitialResize=!0):(t||!e)&&this.resizeObserver&&(this.resizeObserver.disconnect(),delete this.resizeObserver,delete this._sizeThrottle),this}static getElement(t=".grid-stack-item"){return p.getElement(t)}static getElements(t=".grid-stack-item"){return p.getElements(t)}static getGridElement(t){return N.getElement(t)}static getGridElements(t){return p.getElements(t)}_initMargin(){let t,e=0,i=[];typeof this.opts.margin=="string"&&(i=this.opts.margin.split(" ")),i.length===2?(this.opts.marginTop=this.opts.marginBottom=i[0],this.opts.marginLeft=this.opts.marginRight=i[1]):i.length===4?(this.opts.marginTop=i[0],this.opts.marginRight=i[1],this.opts.marginBottom=i[2],this.opts.marginLeft=i[3]):(t=p.parseHeight(this.opts.margin),this.opts.marginUnit=t.unit,e=this.opts.margin=t.h),["marginTop","marginRight","marginBottom","marginLeft"].forEach(o=>{this.opts[o]===void 0?this.opts[o]=e:(t=p.parseHeight(this.opts[o]),this.opts[o]=t.h,delete this.opts.margin)}),this.opts.marginUnit=t.unit,this.opts.marginTop===this.opts.marginBottom&&this.opts.marginLeft===this.opts.marginRight&&this.opts.marginTop===this.opts.marginRight&&(this.opts.margin=this.opts.marginTop);const r=this.el.style;return r.setProperty("--gs-item-margin-top",`${this.opts.marginTop}${this.opts.marginUnit}`),r.setProperty("--gs-item-margin-bottom",`${this.opts.marginBottom}${this.opts.marginUnit}`),r.setProperty("--gs-item-margin-right",`${this.opts.marginRight}${this.opts.marginUnit}`),r.setProperty("--gs-item-margin-left",`${this.opts.marginLeft}${this.opts.marginUnit}`),this}static getDD(){return ct}static setupDragIn(t,e,i,n=document){(e==null?void 0:e.pause)!==void 0&&(z.pauseDrag=e.pause),e={appendTo:"body",helper:"clone",...e||{}},(typeof t=="string"?p.getElements(t,n):t).forEach((o,l)=>{ct.isDraggable(o)||ct.dragIn(o,e),i!=null&&i[l]&&(o.gridstackNode=i[l])})}movable(t,e){return this.opts.staticGrid?this:(N.getElements(t).forEach(i=>{const n=i.gridstackNode;n&&(e?delete n.noMove:n.noMove=!0,this.prepareDragDrop(n.el))}),this)}resizable(t,e){return this.opts.staticGrid?this:(N.getElements(t).forEach(i=>{const n=i.gridstackNode;n&&(e?delete n.noResize:n.noResize=!0,this.prepareDragDrop(n.el))}),this)}disable(t=!0){if(!this.opts.staticGrid)return this.enableMove(!1,t),this.enableResize(!1,t),this._triggerEvent("disable"),this}enable(t=!0){if(!this.opts.staticGrid)return this.enableMove(!0,t),this.enableResize(!0,t),this._triggerEvent("enable"),this}enableMove(t,e=!0){return this.opts.staticGrid?this:(t?delete this.opts.disableDrag:this.opts.disableDrag=!0,this.engine.nodes.forEach(i=>{this.prepareDragDrop(i.el),i.subGrid&&e&&i.subGrid.enableMove(t,e)}),this)}enableResize(t,e=!0){return this.opts.staticGrid?this:(t?delete this.opts.disableResize:this.opts.disableResize=!0,this.engine.nodes.forEach(i=>{this.prepareDragDrop(i.el),i.subGrid&&e&&i.subGrid.enableResize(t,e)}),this)}cancelDrag(){var e;const t=(e=this._placeholder)==null?void 0:e.gridstackNode;t&&(t._isExternal?(t._isAboutToRemove=!0,this.engine.removeNode(t)):t._isAboutToRemove&&N._itemRemoving(t.el,!1),this.engine.restoreInitial())}_removeDD(t){return ct.draggable(t,"destroy").resizable(t,"destroy"),t.gridstackNode&&delete t.gridstackNode._initDD,delete t.ddElement,this}_setupAcceptWidget(){if(this.opts.staticGrid||!this.opts.acceptWidgets&&!this.opts.removable)return ct.droppable(this.el,"destroy"),this;let t,e;const i=(n,r,o)=>{var _;o=o||r;const l=o.gridstackNode;if(!l)return;if(!((_=l.grid)!=null&&_.el)){o.style.transform=`scale(${1/this.dragTransform.xScale},${1/this.dragTransform.yScale})`;const T=o.getBoundingClientRect();o.style.left=T.x+(this.dragTransform.xScale-1)*(n.clientX-T.x)/this.dragTransform.xScale+"px",o.style.top=T.y+(this.dragTransform.yScale-1)*(n.clientY-T.y)/this.dragTransform.yScale+"px",o.style.transformOrigin="0px 0px"}let{top:a,left:u}=o.getBoundingClientRect();const c=this.el.getBoundingClientRect();u-=c.left,a-=c.top;const d={position:{top:a*this.dragTransform.xScale,left:u*this.dragTransform.yScale}};if(l._temporaryRemoved){if(l.x=Math.max(0,Math.round(u/e)),l.y=Math.max(0,Math.round(a/t)),delete l.autoPosition,this.engine.nodeBoundFix(l),!this.engine.willItFit(l)){if(l.autoPosition=!0,!this.engine.willItFit(l)){ct.off(r,"drag");return}l._willFitPos&&(p.copyPos(l,l._willFitPos),delete l._willFitPos)}this._onStartMoving(o,n,d,l,e,t)}else this._dragOrResize(o,n,d,l,e,t)};return ct.droppable(this.el,{accept:n=>{const r=n.gridstackNode||this._readAttr(n,!1);if((r==null?void 0:r.grid)===this)return!0;if(!this.opts.acceptWidgets)return!1;let o=!0;if(typeof this.opts.acceptWidgets=="function")o=this.opts.acceptWidgets(n);else{const l=this.opts.acceptWidgets===!0?".grid-stack-item":this.opts.acceptWidgets;o=n.matches(l)}if(o&&r&&this.opts.maxRow){const l={w:r.w,h:r.h,minW:r.minW,minH:r.minH};o=this.engine.willItFit(l)}return o}}).on(this.el,"dropover",(n,r,o)=>{let l=(o==null?void 0:o.gridstackNode)||r.gridstackNode;if((l==null?void 0:l.grid)===this&&!l._temporaryRemoved)return!1;if(l!=null&&l._sidebarOrig&&(l.w=l._sidebarOrig.w,l.h=l._sidebarOrig.h),l!=null&&l.grid&&l.grid!==this&&!l._temporaryRemoved&&l.grid._leave(r,o),o=o||r,e=this.cellWidth(),t=this.getCellHeight(!0),!l){const c=o.getAttribute("data-gs-widget")||o.getAttribute("gridstacknode");if(c){try{l=JSON.parse(c)}catch{console.error("Gridstack dropover: Bad JSON format: ",c)}o.removeAttribute("data-gs-widget"),o.removeAttribute("gridstacknode")}l||(l=this._readAttr(o)),l._sidebarOrig={w:l.w,h:l.h}}l.grid||(l.el||(l={...l}),l._isExternal=!0,o.gridstackNode=l);const a=l.w||Math.round(o.offsetWidth/e)||1,u=l.h||Math.round(o.offsetHeight/t)||1;return l.grid&&l.grid!==this?(r._gridstackNodeOrig||(r._gridstackNodeOrig=l),r.gridstackNode=l={...l,w:a,h:u,grid:this},delete l.x,delete l.y,this.engine.cleanupNode(l).nodeBoundFix(l),l._initDD=l._isExternal=l._temporaryRemoved=!0):(l.w=a,l.h=u,l._temporaryRemoved=!0),N._itemRemoving(l.el,!1),ct.on(r,"drag",i),i(n,r,o),!1}).on(this.el,"dropout",(n,r,o)=>{const l=(o==null?void 0:o.gridstackNode)||r.gridstackNode;return l&&(!l.grid||l.grid===this)&&(this._leave(r,o),this._isTemp&&this.removeAsSubGrid(l)),!1}).on(this.el,"drop",(n,r,o)=>{var _,T,D;const l=(o==null?void 0:o.gridstackNode)||r.gridstackNode;if((l==null?void 0:l.grid)===this&&!l._isExternal)return!1;const a=!!this.placeholder.parentElement,u=r!==o;this.placeholder.remove(),delete this.placeholder.gridstackNode,a&&this.opts.animate&&(this.setAnimation(!1),this.setAnimation(!0,!0));const c=r._gridstackNodeOrig;if(delete r._gridstackNodeOrig,a&&(c!=null&&c.grid)&&c.grid!==this){const k=c.grid;k.engine.removeNodeFromLayoutCache(c),k.engine.removedNodes.push(c),k._triggerRemoveEvent()._triggerChangeEvent(),k.parentGridNode&&!k.engine.nodes.length&&k.opts.subGridDynamic&&k.removeAsSubGrid()}if(!l||(a&&(this.engine.cleanupNode(l),l.grid=this),(_=l.grid)==null||delete _._isTemp,ct.off(r,"drag"),o!==r?(o.remove(),r=o):r.remove(),this._removeDD(r),!a))return!1;const d=(D=(T=l.subGrid)==null?void 0:T.el)==null?void 0:D.gridstack;return p.copyPos(l,this._readAttr(this.placeholder)),p.removePositioningStyles(r),u&&(l.content||l.subGridOpts||N.addRemoveCB)?(delete l.el,r=this.addWidget(l)):(this._prepareElement(r,!0,l),this.el.appendChild(r),this.resizeToContentCheck(!1,l),d&&(d.parentGridNode=l),this._updateContainerHeight()),this.engine.addedNodes.push(l),this._triggerAddEvent(),this._triggerChangeEvent(),this.engine.endUpdate(),this._gsEventHandler.dropped&&this._gsEventHandler.dropped({...n,type:"dropped"},c&&c.grid?c:void 0,l),!1}),this}static _itemRemoving(t,e){if(!t)return;const i=t?t.gridstackNode:void 0;!(i!=null&&i.grid)||t.classList.contains(i.grid.opts.removableOptions.decline)||(e?i._isAboutToRemove=!0:delete i._isAboutToRemove,e?t.classList.add("grid-stack-item-removing"):t.classList.remove("grid-stack-item-removing"))}_setupRemoveDrop(){if(typeof this.opts.removable!="string")return this;const t=document.querySelector(this.opts.removable);return t?(!this.opts.staticGrid&&!ct.isDroppable(t)&&ct.droppable(t,this.opts.removableOptions).on(t,"dropover",(e,i)=>N._itemRemoving(i,!0)).on(t,"dropout",(e,i)=>N._itemRemoving(i,!1)),this):this}prepareDragDrop(t,e=!1){const i=t==null?void 0:t.gridstackNode;if(!i)return;const n=i.noMove||this.opts.disableDrag,r=i.noResize||this.opts.disableResize,o=this.opts.staticGrid||n&&r;if((e||o)&&(i._initDD&&(this._removeDD(t),delete i._initDD),o&&t.classList.add("ui-draggable-disabled","ui-resizable-disabled"),!e))return this;if(!i._initDD){let l,a;const u=(_,T)=>{this.triggerEvent(_,_.target),l=this.cellWidth(),a=this.getCellHeight(!0),this._onStartMoving(t,_,T,i,l,a)},c=(_,T)=>{this._dragOrResize(t,_,T,i,l,a)},d=_=>{this.placeholder.remove(),delete this.placeholder.gridstackNode,delete i._moving,delete i._resizing,delete i._event,delete i._lastTried;const T=i.w!==i._orig.w,D=_.target;if(!(!D.gridstackNode||D.gridstackNode.grid!==this)){if(i.el=D,i._isAboutToRemove){const k=t.gridstackNode.grid;k._gsEventHandler[_.type]&&k._gsEventHandler[_.type](_,D),k.engine.nodes.push(i),k.removeWidget(t,!0,!0)}else p.removePositioningStyles(D),i._temporaryRemoved?(this._writePosAttr(D,i),this.engine.addNode(i)):this._writePosAttr(D,i),this.triggerEvent(_,D);this._extraDragRow=0,this._updateContainerHeight(),this._triggerChangeEvent(),this.engine.endUpdate(),_.type==="resizestop"&&(Number.isInteger(i.sizeToContent)&&(i.sizeToContent=i.h),this.resizeToContentCheck(T,i))}};ct.draggable(t,{start:u,stop:d,drag:c}).resizable(t,{start:u,stop:d,resize:c}),i._initDD=!0}return ct.draggable(t,n?"disable":"enable").resizable(t,r?"disable":"enable"),this}_onStartMoving(t,e,i,n,r,o){var l;if(this.engine.cleanNodes().beginUpdate(n),this._writePosAttr(this.placeholder,n),this.el.appendChild(this.placeholder),this.placeholder.gridstackNode=n,(l=n.grid)!=null&&l.el)this.dragTransform=p.getValuesFromTransformedElement(t);else if(this.placeholder&&this.placeholder.closest(".grid-stack")){const a=this.placeholder.closest(".grid-stack");this.dragTransform=p.getValuesFromTransformedElement(a)}else this.dragTransform={xScale:1,xOffset:0,yScale:1,yOffset:0};if(n.el=this.placeholder,n._lastUiPosition=i.position,n._prevYPix=i.position.top,n._moving=e.type==="dragstart",n._resizing=e.type==="resizestart",delete n._lastTried,e.type==="dropover"&&n._temporaryRemoved&&(this.engine.addNode(n),n._moving=!0),this.engine.cacheRects(r,o,this.opts.marginTop,this.opts.marginRight,this.opts.marginBottom,this.opts.marginLeft),e.type==="resizestart"){const a=this.getColumn()-n.x,u=(this.opts.maxRow||Number.MAX_SAFE_INTEGER)-n.y;ct.resizable(t,"option","minWidth",r*Math.min(n.minW||1,a)).resizable(t,"option","minHeight",o*Math.min(n.minH||1,u)).resizable(t,"option","maxWidth",r*Math.min(n.maxW||Number.MAX_SAFE_INTEGER,a)).resizable(t,"option","maxWidthMoveLeft",r*Math.min(n.maxW||Number.MAX_SAFE_INTEGER,n.x+n.w)).resizable(t,"option","maxHeight",o*Math.min(n.maxH||Number.MAX_SAFE_INTEGER,u)).resizable(t,"option","maxHeightMoveUp",o*Math.min(n.maxH||Number.MAX_SAFE_INTEGER,n.y+n.h))}}_dragOrResize(t,e,i,n,r,o){const l={...n._orig};let a,u=this.opts.marginLeft,c=this.opts.marginRight,d=this.opts.marginTop,_=this.opts.marginBottom;const T=Math.round(o*.1),D=Math.round(r*.1);if(u=Math.min(u,D),c=Math.min(c,D),d=Math.min(d,T),_=Math.min(_,T),e.type==="drag"){if(n._temporaryRemoved)return;const V=i.position.top-n._prevYPix;n._prevYPix=i.position.top,this.opts.draggable.scroll!==!1&&p.updateScrollPosition(t,i.position,V);const B=i.position.left+(i.position.left>n._lastUiPosition.left?-c:u),W=i.position.top+(i.position.top>n._lastUiPosition.top?-_:d);l.x=Math.round(B/r),l.y=Math.round(W/o);const q=this._extraDragRow;if(this.engine.collide(n,l)){const A=this.getRow();let X=Math.max(0,l.y+n.h-A);this.opts.maxRow&&A+X>this.opts.maxRow&&(X=Math.max(0,this.opts.maxRow-A)),this._extraDragRow=X}else this._extraDragRow=0;if(this._extraDragRow!==q&&this._updateContainerHeight(),n.x===l.x&&n.y===l.y)return}else if(e.type==="resize"){if(l.x<0||(p.updateScrollResize(e,t,o),l.w=Math.round((i.size.width-u)/r),l.h=Math.round((i.size.height-d)/o),n.w===l.w&&n.h===l.h)||n._lastTried&&n._lastTried.w===l.w&&n._lastTried.h===l.h)return;const V=i.position.left+u,B=i.position.top+d;l.x=Math.round(V/r),l.y=Math.round(B/o),a=!0}n._event=e,n._lastTried=l;const k={x:i.position.left+u,y:i.position.top+d,w:(i.size?i.size.width:n.w*r)-u-c,h:(i.size?i.size.height:n.h*o)-d-_};if(this.engine.moveNodeCheck(n,{...l,cellWidth:r,cellHeight:o,rect:k,resizing:a})){n._lastUiPosition=i.position,this.engine.cacheRects(r,o,d,c,_,u),delete n._skipDown,a&&n.subGrid&&n.subGrid.onResize(),this._extraDragRow=0,this._updateContainerHeight();const V=e.target;n._sidebarOrig||this._writePosAttr(V,n),this.triggerEvent(e,V)}}triggerEvent(t,e){let i=this;for(;i.parentGridNode;)i=i.parentGridNode.grid;i._gsEventHandler[t.type]&&i._gsEventHandler[t.type](t,e)}_leave(t,e){e=e||t;const i=e.gridstackNode;if(!i||(e.style.transform=e.style.transformOrigin=null,ct.off(t,"drag"),i._temporaryRemoved))return;i._temporaryRemoved=!0,this.engine.removeNode(i),i.el=i._isExternal&&e?e:t;const n=i._sidebarOrig;i._isExternal&&this.engine.cleanupNode(i),i._sidebarOrig=n,this.opts.removable===!0&&N._itemRemoving(t,!0),t._gridstackNodeOrig?(t.gridstackNode=t._gridstackNodeOrig,delete t._gridstackNodeOrig):i._isExternal&&this.engine.restoreInitial()}commit(){return Yl(this,this.batchUpdate(!1),"commit","batchUpdate","5.2"),this}}N.renderCB=(s,t)=>{s&&(t!=null&&t.content)&&(s.textContent=t.content)};N.resizeToContentParent=".grid-stack-item-content";N.Utils=p;N.Engine=Zt;N.GDRev="12.3.2";const Zl={class:"header-main"},Ql={class:"guest-card-name"},ta={key:0,class:"booking-name-sub"},ea={class:"header-info"},sa={class:"room-number"},ia={class:"booking-id"},na={class:"header-right"},ra={class:"expand-icon"},oa={key:0,class:"guest-card-details"},la={class:"detail-row"},aa={class:"value"},ca={class:"detail-row"},ua={class:"value"},ha={class:"detail-row"},da={class:"value"},fa={class:"detail-row"},ga={class:"value"},pa={class:"detail-row"},ma={class:"value"},_a={class:"detail-row"},ya={class:"value"},va={class:"detail-row"},ba={class:"value price"},wa={class:"detail-row"},xa={class:"value price"},Ea={class:"detail-row"},Ca={class:"value price balance-due"},Ra={class:"detail-row"},Ta={key:0,class:"bot-tag"},Sa={class:"detail-row"},Da={class:"value"},Qs={__name:"GuestCard",props:{guest:{type:Object,required:!0},isExpanded:{type:Boolean,default:!1}},emits:["toggle"],setup(s,{emit:t}){const e=t;function i(){e("toggle")}return(n,r)=>{var o;return O(),P("div",{class:nt(["guest-card","card-status-"+s.guest.status_code])},[y("div",{class:"guest-card-header",onClick:Wl(i,["stop"])},[y("div",Zl,[y("span",Ql,[he(L(s.guest.registered_name||s.guest.guest_name)+" ",1),s.guest.registered_name&&s.guest.registered_name!==s.guest.guest_name?(O(),P("span",ta,""+L(s.guest.guest_name)+"",1)):Et("",!0)]),y("div",ea,[y("span",sa,L(((o=s.guest.room_numbers)==null?void 0:o.join(", "))||""),1),y("span",ia,L(s.guest.booking_id),1)])]),y("div",na,[y("span",{class:nt(["guest-card-status","status-"+s.guest.status_code])},L(s.guest.status_name),3),y("span",ra,L(s.isExpanded?"":""),1)])]),s.isExpanded?(O(),P("div",oa,[y("div",la,[r[0]||(r[0]=y("span",{class:"label"},"",-1)),y("span",aa,L(s.guest.contact_phone||"-"),1)]),y("div",ca,[r[1]||(r[1]=y("span",{class:"label"},"",-1)),y("span",ua,L(s.guest.check_in_date)+L(s.guest.nights>=2?` (${s.guest.nights})`:""),1)]),y("div",ha,[r[2]||(r[2]=y("span",{class:"label"},"",-1)),y("span",da,L(s.guest.check_out_date),1)]),y("div",fa,[r[3]||(r[3]=y("span",{class:"label"},"",-1)),y("span",ga,L(s.guest.booking_source||""),1)]),y("div",pa,[r[4]||(r[4]=y("span",{class:"label"},"",-1)),y("span",ma,L(s.guest.room_type_name||""),1)]),y("div",_a,[r[5]||(r[5]=y("span",{class:"label"},"",-1)),y("span",ya,L(s.guest.breakfast||""),1)]),y("div",va,[r[6]||(r[6]=y("span",{class:"label"},"",-1)),y("span",ba,"NT$ "+L((s.guest.deposit_paid||0).toLocaleString()),1)]),y("div",wa,[r[7]||(r[7]=y("span",{class:"label"},"",-1)),y("span",xa,"NT$ "+L((s.guest.room_total||0).toLocaleString()),1)]),y("div",Ea,[r[8]||(r[8]=y("span",{class:"label"},"",-1)),y("span",Ca,"NT$ "+L((s.guest.balance_due||0).toLocaleString()),1)]),y("div",Ra,[r[9]||(r[9]=y("span",{class:"label"},"",-1)),y("span",{class:nt(["value",{"from-bot":s.guest.arrival_time_from_bot}])},[he(L(s.guest.arrival_time_from_bot||"")+" ",1),s.guest.arrival_time_from_bot?(O(),P("span",Ta,"Bot")):Et("",!0)],2)]),y("div",Sa,[r[10]||(r[10]=y("span",{class:"label"},"LINE ",-1)),y("span",Da,L(s.guest.line_name||" AI "),1)])])):Et("",!0)],2)}}},ka={id:"app"},Na={class:"sidebar"},Ma={class:"nav-menu"},Aa=["onClick"],Oa={class:"nav-icon"},Ha={key:0,class:"widget-controls"},za=["onUpdate:modelValue","onChange"],Pa={class:"main-content"},La={class:"header"},Ia={class:"header-right"},Ba={key:0,class:"refresh-group"},Fa={class:"countdown-value"},$a={class:"header-services"},Wa={class:"service-name-small"},Ua={key:0,class:"grid-stack"},Ga={key:0,class:"grid-stack-item","gs-id":"checkin","gs-x":"0","gs-y":"0","gs-w":"25","gs-h":"2","gs-min-w":"15","gs-min-h":"2"},ja={class:"grid-stack-item-content stat-card"},Va={class:"stat-row"},Ka={class:"stat-value"},Ya={key:1,class:"grid-stack-item","gs-id":"checkout","gs-x":"25","gs-y":"0","gs-w":"25","gs-h":"2","gs-min-w":"15","gs-min-h":"2"},qa={class:"grid-stack-item-content stat-card"},Xa={class:"stat-row"},Ja={class:"stat-value"},Za={key:2,class:"grid-stack-item","gs-id":"occupancy","gs-x":"50","gs-y":"0","gs-w":"25","gs-h":"2","gs-min-w":"15","gs-min-h":"2"},Qa={class:"grid-stack-item-content stat-card"},tc={class:"stat-row"},ec={class:"stat-value"},sc={key:3,class:"grid-stack-item","gs-id":"vacant","gs-x":"75","gs-y":"0","gs-w":"25","gs-h":"2","gs-min-w":"15","gs-min-h":"2"},ic={class:"grid-stack-item-content stat-card"},nc={class:"stat-row"},rc={class:"stat-value"},oc={key:4,class:"grid-stack-item","gs-id":"rooms","gs-x":"0","gs-y":"2","gs-w":"100","gs-h":"4","gs-min-w":"12","gs-min-h":"3"},lc={class:"grid-stack-item-content room-status-panel"},ac={class:"room-count"},cc={key:0,class:"loading-text"},uc={key:1,class:"empty-text"},hc=["onMouseenter"],dc={class:"room-number"},fc={class:"tooltip-content"},gc={class:"grid-stack-item-content same-day-panel"},pc={class:"panel-header"},mc={class:"panel-count"},_c={class:"panel-body"},yc={key:0,class:"loading-text"},vc={key:1,class:"error-text"},bc={key:2,class:"empty-text"},wc={key:3,class:"same-day-table-wrapper"},xc={class:"same-day-table"},Ec={class:"order-id"},Cc={class:"guest-name"},Rc={class:"phone"},Tc=["onClick"],Sc={key:1,class:"done-text"},Dc={class:"grid-stack-item-content guest-cards-panel"},kc={class:"panel-header"},Nc={class:"guest-tabs"},Mc={class:"tab-count"},Ac={class:"tab-count"},Oc={class:"tab-count"},Hc={class:"panel-body"},zc={key:0,class:"loading-text"},Pc={key:1,class:"empty-text"},Lc={key:2,class:"guest-cards-list"},Ic={key:0,class:"loading-text"},Bc={key:1,class:"empty-text"},Fc={key:2,class:"guest-cards-list"},$c={key:0,class:"loading-text"},Wc={key:1,class:"empty-text"},Uc={key:2,class:"guest-cards-list"},Gc={key:1,class:"placeholder"},jc={style:{"text-align":"center",color:"#888",padding:"100px"}},Vc={__name:"App",setup(s){const t=`http://${window.location.hostname}:3000`;let e=null;const i=et([{id:"checkin",title:"",x:0,y:0,w:3,h:2,visible:!0,collapsed:!1},{id:"checkout",title:"",x:3,y:0,w:3,h:2,visible:!0,collapsed:!1},{id:"occupancy",title:"",x:6,y:0,w:3,h:2,visible:!0,collapsed:!1},{id:"vacant",title:"",x:9,y:0,w:3,h:2,visible:!0,collapsed:!1},{id:"rooms",title:"",x:0,y:2,w:12,h:5,visible:!0,collapsed:!1},{id:"sameday",title:"LINE ",x:0,y:6,w:12,h:4,visible:!0,collapsed:!1},{id:"guests",title:"",x:0,y:10,w:12,h:4,visible:!0,collapsed:!1}]);function n(m){i.value[m].collapsed=!i.value[m].collapsed}const r=et("today"),o=et({todayCheckin:0,todayCheckout:0,occupiedRooms:0,totalRooms:50,lastUpdate:null}),l=et(!0),a=et(null);async function u(){l.value=!0,a.value=null;try{const m=await fetch(`${t}/api/pms/dashboard`,{signal:AbortSignal.timeout(5e3)});if(m.ok){const f=await m.json();f.success?o.value=f.data:a.value=f.error||"PMS API "}else a.value=`HTTP ${m.status}`}catch(m){a.value=m.message}finally{l.value=!1}}const c={N:0,R:1,I:2,O:3,D:4,C:5,S:6,CO:7};function d(m){return[...m].sort((f,x)=>{const b=c[f.status_code]??99,w=c[x.status_code]??99;return b-w})}const _=et([]),T=et(!0),D=et([]);function k(m){D.value.indexOf(m)>-1?D.value=D.value.filter(x=>x!==m):D.value=[...D.value,m]}function V(m){return D.value.includes(m)}async function B(){T.value=!0;try{const m=await fetch(`${t}/api/pms/today-checkin`,{signal:AbortSignal.timeout(5e3)});if(m.ok){const f=await m.json();f.success&&(_.value=d(f.data||[]))}}catch(m){console.error("Fetch today checkin error:",m)}finally{T.value=!1}}const W=et([]),q=et(!0);async function A(){q.value=!0;try{const m=await fetch(`${t}/api/pms/yesterday-checkin`,{signal:AbortSignal.timeout(5e3)});if(m.ok){const f=await m.json();f.success&&(W.value=d(f.data||[]))}}catch(m){console.error("Fetch yesterday checkin error:",m)}finally{q.value=!1}}const X=et([]),Rt=et(!0);async function gt(){Rt.value=!0;try{const m=await fetch(`${t}/api/pms/tomorrow-checkin`,{signal:AbortSignal.timeout(5e3)});if(m.ok){const f=await m.json();f.success&&(X.value=d(f.data||[]))}}catch(m){console.error("Fetch tomorrow checkin error:",m)}finally{Rt.value=!1}}const vt=et([]),ie=et(!1),pt=et(null);async function Ht(){var m;ie.value=!0,pt.value=null;try{const f=await fetch(`${t}/api/pms/same-day-bookings`,{signal:AbortSignal.timeout(5e3)});if(f.ok){const x=await f.json();x.success?vt.value=((m=x.data)==null?void 0:m.bookings)||[]:pt.value=x.error||""}else pt.value=`HTTP ${f.status}`}catch(f){pt.value=f.message}finally{ie.value=!1}}async function xe(m){try{const f=await fetch(`${t}/api/pms/same-day-bookings/${m}/checkin`,{method:"PATCH",signal:AbortSignal.timeout(5e3)});f.ok&&(await f.json()).success&&await Ht()}catch(f){console.error(":",f)}}async function Ee(){at.value=30,await Promise.all([u(),B(),A(),gt(),Re(),Ht(),Ce()])}const Kt=et([{id:"bot",name:"AI ",icon:"",status:"checking",port:5001},{id:"pms",name:"PMS API",icon:"",status:"checking",port:3e3},{id:"gmail",name:"Gmail",icon:"",status:"checking",port:null},{id:"ngrok",name:"Ngrok",icon:"",status:"checking",port:null}]);async function Ce(){console.log("[DEBUG] Checking service status..."),console.log("[DEBUG] API_BASE:",t);try{const m=await fetch(`${t}/api/status`,{signal:AbortSignal.timeout(3e3)});if(console.log("[DEBUG] Response status:",m.status,m.ok),m.ok){const f=await m.json();console.log("[DEBUG] API Response:",f),f.services.forEach(x=>{const b=Kt.value.find(w=>w.id===x.id);b?(b.status=x.status,b.name=x.name):Kt.value.push({id:x.id,name:x.name,icon:it(x.id),status:x.status})}),console.log("[DEBUG] Updated services:",Kt.value.map(x=>({id:x.id,status:x.status})))}else console.error("[DEBUG] Response not OK:",m.status)}catch(m){console.error("[DEBUG] Fetch error:",m),Kt.value.forEach(f=>f.status="offline")}}function it(m){return{bot:"",core:"",ngrok:"",gmail:"",pms:"",admin:""}[m]||""}function tt(m){hs(()=>{e&&e.destroy(!1),e=N.init({column:100,cellHeight:60,margin:15,animate:!0,float:!1,disableOneColumnMode:!0,minRow:1,resizable:{handles:"all"},handle:".widget-handle",draggable:{handle:".widget-handle"}},".grid-stack")})}let U=null,kt=null,ne=null;const at=et(30);function Tt(){at.value=30,ne&&clearInterval(ne),ne=setInterval(()=>{at.value--,at.value<=0&&(at.value=30)},1e3)}Vn(()=>{Ce(),U=setInterval(Ce,5e3),u(),kt=setInterval(u,15e3),B(),A(),gt(),setInterval(()=>{B(),A(),gt()},3e4),Re(),setInterval(Re,15e3),Ht(),setInterval(Ht,3e4),Tt(),os(),hs(()=>{e=N.init({column:100,cellHeight:60,margin:15,animate:!0,float:!1,disableOneColumnMode:!0,minRow:1,resizable:{handles:"all"},handle:".widget-handle",draggable:{handle:".widget-handle"}},".grid-stack")})});let zt=null;const ze=et([]);function os(){zt=new WebSocket("ws://localhost:3001"),zt.onopen=()=>{console.log(" WebSocket ")},zt.onmessage=m=>{try{const f=JSON.parse(m.data);if(console.log(" :",f),f.type==="new_message"&&(ze.value.unshift(f.data),ze.value.length>20&&ze.value.pop()),f.type==="update_guest"){const{booking_id:x,guest_name:b,phone:w,arrival_time:S,special_request:M}=f.data,H=_.value.find($=>{var K;return $.booking_id===x||((K=$.guest_name)==null?void 0:K.includes(b))||(b==null?void 0:b.includes($.guest_name))});H&&(w&&(H.phone_from_bot=w),S&&(H.arrival_time_from_bot=S),M&&(H.special_request_from_bot=M),console.log(" :",b))}}catch(f){console.error(":",f)}},zt.onclose=()=>{console.log(" WebSocket 5..."),setTimeout(os,5e3)},zt.onerror=m=>{console.error("WebSocket :",m)}}Ri(()=>{U&&clearInterval(U),kt&&clearInterval(kt),zt&&zt.close(),e&&e.destroy()});const re=et([]),oe=et(!1),pe=pr(()=>re.value.filter(m=>{var f,x;return((f=m.clean_status)==null?void 0:f.code)==="D"||((x=m.clean_status)==null?void 0:x.code)==="I"}));async function Re(){var m;oe.value=!0;try{const x=await(await fetch("/api/pms/rooms/status")).json();x.success&&((m=x.data)!=null&&m.rooms)&&(re.value=x.data.rooms.map(b=>{var w,S;return{number:b.room_number,floor:b.floor,room_type:b.room_type_code,status:b.oos_status?"oos":((w=b.clean_status)==null?void 0:w.code)==="D"?"dirty":((S=b.clean_status)==null?void 0:S.code)==="I"?"inspecting":"clean",clean_status:b.clean_status,oos_status:b.oos_status,oos_reason:b.oos_reason,room_status:b.room_status}}))}catch(f){console.error(":",f)}finally{oe.value=!1}}const Nt=et(null),Pe=et({x:0,y:0});function h(m,f){m.oos_reason&&(Nt.value=m,Pe.value={x:f.clientX,y:f.clientY})}function g(m){Nt.value&&(Pe.value={x:m.clientX,y:m.clientY})}function v(){Nt.value=null}const R=et("dashboard");function C(m){R.value=m,m==="dashboard"&&hs(()=>{e&&e.destroy(!1),e=N.init({column:100,cellHeight:60,margin:15,animate:!0,float:!1,disableOneColumnMode:!0,minRow:1,resizable:{handles:"all"},handle:".widget-handle",draggable:{handle:".widget-handle"}},".grid-stack")})}const E=[{id:"dashboard",icon:"",label:""},{id:"rooms",icon:"",label:""},{id:"bookings",icon:"",label:""},{id:"guests",icon:"",label:""},{id:"pos",icon:"",label:"POS "},{id:"reports",icon:"",label:""},{id:"settings",icon:"",label:""}];return(m,f)=>{var x,b;return O(),P("div",ka,[y("aside",Na,[f[6]||(f[6]=y("div",{class:"sidebar-header"},[y("h1",null," KTW Admin"),y("p",null," v2.0")],-1)),y("ul",Ma,[(O(),P(rt,null,le(E,w=>y("li",{key:w.id,class:nt(["nav-item",{active:R.value===w.id}]),onClick:S=>C(w.id)},[y("span",Oa,L(w.icon),1),y("span",null,L(w.label),1)],10,Aa)),64))]),R.value==="dashboard"?(O(),P("div",Ha,[f[5]||(f[5]=y("h4",null," ",-1)),(O(!0),P(rt,null,le(i.value,w=>(O(),P("label",{key:w.id,class:"widget-toggle"},[Se(y("input",{type:"checkbox","onUpdate:modelValue":S=>w.visible=S,onChange:S=>tt(w.id)},null,40,za),[[Il,w.visible]]),y("span",null,L(w.title),1)]))),128))])):Et("",!0)]),y("main",Pa,[y("header",La,[y("h2",null,L((x=E.find(w=>w.id===R.value))==null?void 0:x.label),1),y("div",Ia,[R.value==="dashboard"?(O(),P("div",Ba,[y("div",{class:nt(["countdown-timer",{warning:at.value<=5}])},[y("span",Fa,L(at.value),1),f[7]||(f[7]=y("span",{class:"countdown-unit"},"",-1))],2),y("button",{onClick:Ee,class:"refresh-btn",title:""},"  ")])):Et("",!0),y("div",$a,[(O(!0),P(rt,null,le(Kt.value,w=>(O(),P("div",{key:w.id,class:"header-service-item"},[y("span",Wa,L(w.name),1),y("span",{class:nt(["service-status-dot",w.status])},null,2)]))),128))])])]),R.value==="dashboard"?(O(),P("div",Ua,[i.value[0].visible?(O(),P("div",Ga,[y("div",ja,[f[9]||(f[9]=y("div",{class:"widget-handle"},null,-1)),f[10]||(f[10]=y("h3",null,"",-1)),y("div",Va,[y("span",Ka,L(o.value.todayCheckin),1),f[8]||(f[8]=y("span",{class:"stat-unit"},"",-1))])])])):Et("",!0),i.value[1].visible?(O(),P("div",Ya,[y("div",qa,[f[12]||(f[12]=y("div",{class:"widget-handle"},null,-1)),f[13]||(f[13]=y("h3",null,"",-1)),y("div",Xa,[y("span",Ja,L(o.value.todayCheckout),1),f[11]||(f[11]=y("span",{class:"stat-unit"},"",-1))])])])):Et("",!0),i.value[2].visible?(O(),P("div",Za,[y("div",Qa,[f[15]||(f[15]=y("div",{class:"widget-handle"},null,-1)),f[16]||(f[16]=y("h3",null,"",-1)),y("div",tc,[y("span",ec,L(o.value.totalRooms>0?Math.round(o.value.occupiedRooms/o.value.totalRooms*100):0),1),f[14]||(f[14]=y("span",{class:"stat-unit"},"%",-1))])])])):Et("",!0),i.value[3].visible?(O(),P("div",sc,[y("div",ic,[f[18]||(f[18]=y("div",{class:"widget-handle"},null,-1)),f[19]||(f[19]=y("h3",null,"",-1)),y("div",nc,[y("span",rc,L(o.value.totalRooms-o.value.occupiedRooms),1),f[17]||(f[17]=y("span",{class:"stat-unit"},"",-1))])])])):Et("",!0),i.value[4].visible?(O(),P("div",oc,[y("div",lc,[f[23]||(f[23]=y("div",{class:"widget-handle"},null,-1)),y("h3",null,[f[20]||(f[20]=he("   ",-1)),y("span",ac,"("+L(pe.value.length)+")",1),f[21]||(f[21]=al('<div class="status-legend"><span class="legend-item"><span class="dot dirty"></span></span><span class="legend-item"><span class="dot inspecting"></span></span></div>',1))]),oe.value?(O(),P("div",cc,"...")):pe.value.length===0?(O(),P("div",uc," ")):(O(),P("div",{key:2,class:"room-grid",onMouseleave:v},[(O(!0),P(rt,null,le(pe.value,w=>(O(),P("div",{key:w.number,class:nt(["room-card",w.status]),onMouseenter:S=>h(w,S),onMousemove:g,onMouseleave:v},[y("span",dc,L(w.number),1)],42,hc))),128))],32)),Nt.value?(O(),P("div",{key:3,class:"custom-tooltip",style:Os({top:Pe.value.y+15+"px",left:Pe.value.x+15+"px"})},[f[22]||(f[22]=y("span",{class:"tooltip-title"}," ",-1)),y("div",fc,L(Nt.value.oos_reason),1)],4)):Et("",!0)])])):Et("",!0),i.value[5].visible?(O(),P("div",{key:5,class:nt(["grid-stack-item",{collapsed:i.value[5].collapsed}]),"gs-id":"sameday","gs-x":"0","gs-y":"6","gs-w":"100","gs-h":"4","gs-min-w":"12","gs-min-h":"3"},[y("div",gc,[y("div",pc,[f[25]||(f[25]=y("div",{class:"widget-handle"},null,-1)),y("h3",null,[f[24]||(f[24]=he(" LINE  ",-1)),y("span",mc,"("+L(vt.value.length)+")",1)]),y("button",{class:"collapse-btn",onClick:f[0]||(f[0]=w=>n(5))},L(i.value[5].collapsed?"":""),1)]),Se(y("div",_c,[ie.value?(O(),P("div",yc,"...")):pt.value?(O(),P("div",vc,L(pt.value),1)):vt.value.length===0?(O(),P("div",bc,"  LINE ")):(O(),P("div",wc,[y("table",xc,[f[26]||(f[26]=y("thead",null,[y("tr",null,[y("th",null,""),y("th",null,""),y("th",null,""),y("th",null,""),y("th",null,""),y("th",null,""),y("th",null,"")])],-1)),y("tbody",null,[(O(!0),P(rt,null,le(vt.value,w=>(O(),P("tr",{key:w.order_id,class:nt({"checked-in":w.status==="checked_in"})},[y("td",Ec,L(w.order_id),1),y("td",null,L(w.room_type_name||w.room_type_code)+" x"+L(w.room_count),1),y("td",Cc,L(w.guest_name),1),y("td",Rc,L(w.phone),1),y("td",null,L(w.arrival_time),1),y("td",null,[y("span",{class:nt(["status-badge",w.status])},L(w.status==="checked_in"?"  KEY":" "),3)]),y("td",null,[w.status!=="checked_in"?(O(),P("button",{key:0,class:"key-btn",onClick:S=>xe(w.order_id)},"  KEY ",8,Tc)):(O(),P("span",Sc,""))])],2))),128))])])]))],512),[[Fe,!i.value[5].collapsed]])])],2)):Et("",!0),i.value[6].visible?(O(),P("div",{key:6,class:nt(["grid-stack-item",{collapsed:i.value[6].collapsed}]),"gs-id":"guests","gs-x":"0","gs-y":"10","gs-w":"100","gs-h":"10","gs-min-w":"12","gs-min-h":"4"},[y("div",Dc,[y("div",kc,[f[30]||(f[30]=y("div",{class:"widget-handle"},null,-1)),f[31]||(f[31]=y("h3",null," ",-1)),y("div",Nc,[y("button",{class:nt({active:r.value==="today"}),onClick:f[1]||(f[1]=w=>r.value="today")},[f[27]||(f[27]=he("  ",-1)),y("span",Mc,"("+L(_.value.length)+")",1)],2),y("button",{class:nt({active:r.value==="yesterday"}),onClick:f[2]||(f[2]=w=>r.value="yesterday")},[f[28]||(f[28]=he("  ",-1)),y("span",Ac,"("+L(W.value.length)+")",1)],2),y("button",{class:nt({active:r.value==="tomorrow"}),onClick:f[3]||(f[3]=w=>r.value="tomorrow")},[f[29]||(f[29]=he("  ",-1)),y("span",Oc,"("+L(X.value.length)+")",1)],2)]),y("button",{class:"collapse-btn",onClick:f[4]||(f[4]=w=>n(6))},L(i.value[6].collapsed?"":""),1)]),Se(y("div",Hc,[Se(y("div",null,[T.value?(O(),P("div",zc,"...")):_.value.length===0?(O(),P("div",Pc,"")):(O(),P("div",Lc,[(O(!0),P(rt,null,le(_.value,w=>(O(),gs(Qs,{key:"today-"+w.booking_id,guest:w,isExpanded:V("today-"+w.booking_id),onToggle:S=>k("today-"+w.booking_id)},null,8,["guest","isExpanded","onToggle"]))),128))]))],512),[[Fe,r.value==="today"]]),Se(y("div",null,[q.value?(O(),P("div",Ic,"...")):W.value.length===0?(O(),P("div",Bc,"")):(O(),P("div",Fc,[(O(!0),P(rt,null,le(W.value,w=>(O(),gs(Qs,{key:"yesterday-"+w.booking_id,guest:w,isExpanded:V("yesterday-"+w.booking_id),onToggle:S=>k("yesterday-"+w.booking_id)},null,8,["guest","isExpanded","onToggle"]))),128))]))],512),[[Fe,r.value==="yesterday"]]),Se(y("div",null,[Rt.value?(O(),P("div",$c,"...")):X.value.length===0?(O(),P("div",Wc,"")):(O(),P("div",Uc,[(O(!0),P(rt,null,le(X.value,w=>(O(),gs(Qs,{key:"tomorrow-"+w.booking_id,guest:w,isExpanded:V("tomorrow-"+w.booking_id),onToggle:S=>k("tomorrow-"+w.booking_id)},null,8,["guest","isExpanded","onToggle"]))),128))]))],512),[[Fe,r.value==="tomorrow"]])],512),[[Fe,!i.value[6].collapsed]])])],2)):Et("",!0)])):(O(),P("div",Gc,[y("p",jc,"  "+L((b=E.find(w=>w.id===R.value))==null?void 0:b.label)+" ... ",1)]))])])}}};jl(Vc).mount("#app");
