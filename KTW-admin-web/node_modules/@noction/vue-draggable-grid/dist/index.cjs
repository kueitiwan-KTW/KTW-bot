"use strict";var Wo=Object.defineProperty;var Yo=(e,t,n)=>t in e?Wo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var d=(e,t,n)=>(Yo(e,typeof t!="symbol"?t+"":t,n),n);Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const v=require("vue"),Fn=e=>!!(e&&e.Window)&&e instanceof e.Window;let Bn,wt;function jn(e){Bn=e;const t=e.document.createTextNode("");t.ownerDocument!==e.document&&typeof e.wrap=="function"&&e.wrap(t)===t&&(e=e.wrap(e)),wt=e}typeof window<"u"&&window&&jn(window);function ht(e){return Fn(e)?e:(e.ownerDocument||e).defaultView||wt.window}const Xo=e=>e===wt||Fn(e),Go=e=>ge(e)&&e.nodeType===11,ge=e=>!!e&&typeof e=="object",Wn=e=>typeof e=="function",Uo=e=>typeof e=="number",qo=e=>typeof e=="boolean",Vo=e=>typeof e=="string",Ko=e=>{if(!e||typeof e!="object")return!1;const t=ht(e)||wt;return/object|function/.test(typeof Element)?e instanceof Element||e instanceof t.Element:e.nodeType===1&&typeof e.nodeName=="string"},Jo=e=>ge(e)&&!!e.constructor&&/function Object\b/.test(e.constructor.toString()),Qo=e=>ge(e)&&typeof e.length<"u"&&Wn(e.splice),g={window:Xo,docFrag:Go,object:ge,func:Wn,number:Uo,bool:qo,string:Vo,element:Ko,plainObject:Jo,array:Qo};function Zo(e){const{actions:t,Interactable:n,defaults:o}=e;n.prototype.draggable=se.draggable,t.map.drag=se,t.methodDict.drag="draggable",o.actions.drag=se.defaults}function we({interaction:e}){if(e.prepared.name!=="drag")return;const t=e.prepared.axis;t==="x"?(e.coords.cur.page.y=e.coords.start.page.y,e.coords.cur.client.y=e.coords.start.client.y,e.coords.velocity.client.y=0,e.coords.velocity.page.y=0):t==="y"&&(e.coords.cur.page.x=e.coords.start.page.x,e.coords.cur.client.x=e.coords.start.client.x,e.coords.velocity.client.x=0,e.coords.velocity.page.x=0)}function an({iEvent:e,interaction:t}){if(t.prepared.name!=="drag")return;const n=t.prepared.axis;if(n==="x"||n==="y"){const o=n==="x"?"y":"x";e.page[o]=t.coords.start.page[o],e.client[o]=t.coords.start.client[o],e.delta[o]=0}}const ti=function(t){return g.object(t)?(this.options.drag.enabled=t.enabled!==!1,this.setPerAction("drag",t),this.setOnEvents("drag",t),/^(xy|x|y|start)$/.test(t.lockAxis)&&(this.options.drag.lockAxis=t.lockAxis),/^(xy|x|y)$/.test(t.startAxis)&&(this.options.drag.startAxis=t.startAxis),this):g.bool(t)?(this.options.drag.enabled=t,this):this.options.drag},se={id:"actions/drag",install:Zo,listeners:{"interactions:before-action-move":we,"interactions:action-resume":we,"interactions:action-move":an,"auto-start:check":e=>{const{interaction:t,interactable:n,buttons:o}=e,i=n.options.drag;if(!(!(i&&i.enabled)||t.pointerIsDown&&/mouse|pointer/.test(t.pointerType)&&!(o&n.options.drag.mouseButtons)))return e.action={name:"drag",axis:i.lockAxis==="start"?i.startAxis:i.lockAxis},!1}},draggable:ti,beforeMove:we,move:an,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor(){return"move"}},Yn=se,nt={init:ei,document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function At(){}const J=nt;function ei(e){const t=e;nt.document=t.document,nt.DocumentFragment=t.DocumentFragment||At,nt.SVGElement=t.SVGElement||At,nt.SVGSVGElement=t.SVGSVGElement||At,nt.SVGElementInstance=t.SVGElementInstance||At,nt.Element=t.Element||At,nt.HTMLElement=t.HTMLElement||nt.Element,nt.Event=t.Event,nt.Touch=t.Touch||At,nt.PointerEvent=t.PointerEvent||t.MSPointerEvent}const ot={init:ni,supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null};function ni(e){const t=J.Element,n=e.navigator||{};ot.supportsTouch="ontouchstart"in e||g.func(e.DocumentTouch)&&J.document instanceof e.DocumentTouch,ot.supportsPointerEvent=n.pointerEnabled!==!1&&!!J.PointerEvent,ot.isIOS=/iP(hone|od|ad)/.test(n.platform),ot.isIOS7=/iP(hone|od|ad)/.test(n.platform)&&/OS 7[^\d]/.test(n.appVersion),ot.isIe9=/MSIE 9/.test(n.userAgent),ot.isOperaMobile=n.appName==="Opera"&&ot.supportsTouch&&/Presto/.test(n.userAgent),ot.prefixedMatchesSelector="matches"in t.prototype?"matches":"webkitMatchesSelector"in t.prototype?"webkitMatchesSelector":"mozMatchesSelector"in t.prototype?"mozMatchesSelector":"oMatchesSelector"in t.prototype?"oMatchesSelector":"msMatchesSelector",ot.pEventTypes=ot.supportsPointerEvent?J.PointerEvent===e.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,ot.wheelEvent=J.document&&"onmousewheel"in J.document?"mousewheel":"wheel"}const it=ot;function _t(e,t){if(e.contains)return e.contains(t);for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function Xn(e,t){for(;g.element(e);){if(xt(e,t))return e;e=st(e)}return null}function st(e){let t=e.parentNode;if(g.docFrag(t)){for(;(t=t.host)&&g.docFrag(t););return t}return t}function xt(e,t){return wt!==Bn&&(t=t.replace(/\/deep\//g," ")),e[it.prefixedMatchesSelector](t)}const Pe=e=>e.parentNode||e.host;function oi(e){let t=[],n;for(let o=0;o<e.length;o++){const i=e[o],r=e[n];if(!i||o===n)continue;if(!r){n=o;continue}const s=Pe(i),a=Pe(r);if(s===i.ownerDocument)continue;if(a===i.ownerDocument){n=o;continue}if(s===a){ii(i,r)&&(n=o);continue}t=t.length?t:cn(r);let l;if(r instanceof J.HTMLElement&&i instanceof J.SVGElement&&!(i instanceof J.SVGSVGElement)){if(i===a)continue;l=i.ownerSVGElement}else l=i;const c=cn(l,r.ownerDocument);let u=0;for(;c[u]&&c[u]===t[u];)u++;const f=[c[u-1],c[u],t[u]];if(f[0]){let h=f[0].lastChild;for(;h;){if(h===f[1]){n=o,t=c;break}else if(h===f[2])break;h=h.previousSibling}}}return n}function cn(e,t){const n=[];let o=e,i;for(;(i=Pe(o))&&o!==t&&i!==o.ownerDocument;)n.unshift(o),o=i;return n}function ii(e,t){const n=parseInt(ht(e).getComputedStyle(e).zIndex,10)||0,o=parseInt(ht(t).getComputedStyle(t).zIndex,10)||0;return n>=o}function _e(e,t,n){for(;g.element(e);){if(xt(e,t))return!0;if(e=st(e),e===n)return xt(e,t)}return!1}function ln(e){return e.correspondingUseElement||e}function ri(e){return e=e||wt,{x:e.scrollX||e.document.documentElement.scrollLeft,y:e.scrollY||e.document.documentElement.scrollTop}}function Ge(e){const t=e instanceof J.SVGElement?e.getBoundingClientRect():e.getClientRects()[0];return t&&{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}function Ue(e){const t=Ge(e);if(!it.isIOS7&&t){const n=ri(ht(e));t.left+=n.x,t.right+=n.x,t.top+=n.y,t.bottom+=n.y}return t}function Gn(e){const t=[];for(;e;)t.push(e),e=st(e);return t}function un(e){return g.string(e)?(J.document.querySelector(e),!0):!1}function _(e,t){for(const o in t)e[o]=t[o];return e}function Un(e,t,n){return e==="parent"?st(n):e==="self"?t.getRect(n):Xn(n,e)}function qt(e,t,n,o){let i=e;return g.string(i)?i=Un(i,t,n):g.func(i)&&(i=i(...o)),g.element(i)&&(i=Ue(i)),i}function me(e){return e&&{x:"x"in e?e.x:e.left,y:"y"in e?e.y:e.top}}function si(e){return e&&!("left"in e&&"top"in e)&&(e=_({},e),e.left=e.x||0,e.top=e.y||0,e.right=e.right||e.left+e.width,e.bottom=e.bottom||e.top+e.height),e}function De(e){return e&&!("x"in e&&"y"in e)&&(e=_({},e),e.x=e.left||0,e.y=e.top||0,e.width=e.width||(e.right||0)-e.x,e.height=e.height||(e.bottom||0)-e.y),e}function ve(e,t,n){e.left&&(t.left+=n.x),e.right&&(t.right+=n.x),e.top&&(t.top+=n.y),e.bottom&&(t.bottom+=n.y),t.width=t.right-t.left,t.height=t.bottom-t.top}function Jt(e,t,n){const o=n&&e.options[n],r=o&&o.origin||e.options.origin,s=qt(r,e,t,[e&&t]);return me(s)||{x:0,y:0}}function Dt(e,t,n){if(n=n||{},g.string(e)&&e.search(" ")!==-1&&(e=fn(e)),g.array(e))return e.reduce((o,i)=>_(o,Dt(i,t,n)),n);if(g.object(e)&&(t=e,e=""),g.func(t))n[e]=n[e]||[],n[e].push(t);else if(g.array(t))for(const o of t)Dt(e,o,n);else if(g.object(t))for(const o in t){const i=fn(o).map(r=>`${e}${r}`);Dt(i,t[o],n)}return n}function fn(e){return e.trim().split(/ +/)}const Qt=(e,t)=>Math.sqrt(e*e+t*t),ai=["webkit","moz"];function ce(e,t){e.__set||(e.__set={});for(const n in t)ai.some(o=>n.indexOf(o)===0)||typeof e[n]!="function"&&n!=="__set"&&Object.defineProperty(e,n,{get(){return n in e.__set?e.__set[n]:e.__set[n]=t[n]},set(o){e.__set[n]=o},configurable:!0});return e}function ae(e,t){e.page=e.page||{},e.page.x=t.page.x,e.page.y=t.page.y,e.client=e.client||{},e.client.x=t.client.x,e.client.y=t.client.y,e.timeStamp=t.timeStamp}function ci(e,t,n){e.page.x=n.page.x-t.page.x,e.page.y=n.page.y-t.page.y,e.client.x=n.client.x-t.client.x,e.client.y=n.client.y-t.client.y,e.timeStamp=n.timeStamp-t.timeStamp}function li(e,t){const n=Math.max(t.timeStamp/1e3,.001);e.page.x=t.page.x/n,e.page.y=t.page.y/n,e.client.x=t.client.x/n,e.client.y=t.client.y/n,e.timeStamp=n}function qn(e){e.page.x=0,e.page.y=0,e.client.x=0,e.client.y=0}function Vn(e){return e instanceof J.Event||e instanceof J.Touch}function le(e,t,n){return n=n||{},e=e||"page",n.x=t[e+"X"],n.y=t[e+"Y"],n}function Kn(e,t){return t=t||{x:0,y:0},it.isOperaMobile&&Vn(e)?(le("screen",e,t),t.x+=window.scrollX,t.y+=window.scrollY):le("page",e,t),t}function ui(e,t){return t=t||{},it.isOperaMobile&&Vn(e)?le("screen",e,t):le("client",e,t),t}function Vt(e){return g.number(e.pointerId)?e.pointerId:e.identifier}function fi(e,t,n){const o=t.length>1?Jn(t):t[0];Kn(o,e.page),ui(o,e.client),e.timeStamp=n}function qe(e){const t=[];return g.array(e)?(t[0]=e[0],t[1]=e[1]):e.type==="touchend"?e.touches.length===1?(t[0]=e.touches[0],t[1]=e.changedTouches[0]):e.touches.length===0&&(t[0]=e.changedTouches[0],t[1]=e.changedTouches[1]):(t[0]=e.touches[0],t[1]=e.touches[1]),t}function Jn(e){const t={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0};for(const n of e)for(const o in t)t[o]+=n[o];for(const n in t)t[n]/=e.length;return t}function Oe(e){if(!e.length)return null;const t=qe(e),n=Math.min(t[0].pageX,t[1].pageX),o=Math.min(t[0].pageY,t[1].pageY),i=Math.max(t[0].pageX,t[1].pageX),r=Math.max(t[0].pageY,t[1].pageY);return{x:n,y:o,left:n,top:o,right:i,bottom:r,width:i-n,height:r-o}}function Ce(e,t){const n=t+"X",o=t+"Y",i=qe(e),r=i[0][n]-i[1][n],s=i[0][o]-i[1][o];return Qt(r,s)}function Me(e,t){const n=t+"X",o=t+"Y",i=qe(e),r=i[1][n]-i[0][n],s=i[1][o]-i[0][o];return 180*Math.atan2(s,r)/Math.PI}function Qn(e){return g.string(e.pointerType)?e.pointerType:g.number(e.pointerType)?[void 0,void 0,"touch","pen","mouse"][e.pointerType]:/touch/.test(e.type||"")||e instanceof J.Touch?"touch":"mouse"}function Zn(e){const t=g.func(e.composedPath)?e.composedPath():e.path;return[ln(t?t[0]:e.target),ln(e.currentTarget)]}function Ht(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}}function di(e){return{coords:e,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault(){}}}class ye{constructor(t){d(this,"immediatePropagationStopped",!1);d(this,"propagationStopped",!1);this._interaction=t}preventDefault(){}stopPropagation(){this.propagationStopped=!0}stopImmediatePropagation(){this.immediatePropagationStopped=this.propagationStopped=!0}}Object.defineProperty(ye.prototype,"interaction",{get(){return this._interaction._proxy},set(){}});const pi=(e,t)=>e.indexOf(t)!==-1,hi=(e,t)=>e.splice(e.indexOf(t),1),to=(e,t)=>{for(const n of t)e.push(n);return e},Ve=e=>to([],e),Zt=(e,t)=>{for(let n=0;n<e.length;n++)if(t(e[n],n,e))return n;return-1},ue=(e,t)=>e[Zt(e,t)];class dt extends ye{constructor(n,o,i){super(o._interaction);d(this,"dropzone");d(this,"dragEvent");d(this,"relatedTarget");d(this,"draggable");d(this,"propagationStopped",!1);d(this,"immediatePropagationStopped",!1);const{element:r,dropzone:s}=i==="dragleave"?n.prev:n.cur;this.type=i,this.target=r,this.currentTarget=r,this.dropzone=s,this.dragEvent=o,this.relatedTarget=o.target,this.draggable=o.interactable,this.timeStamp=o.timeStamp}reject(){const{dropState:n}=this._interaction;if(!(this.type!=="dropactivate"&&(!this.dropzone||n.cur.dropzone!==this.dropzone||n.cur.element!==this.target)))if(n.prev.dropzone=this.dropzone,n.prev.element=this.target,n.rejected=!0,n.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){const o=n.activeDrops,i=Zt(o,({dropzone:s,element:a})=>s===this.dropzone&&a===this.target);n.activeDrops.splice(i,1);const r=new dt(n,this.dragEvent,"dropdeactivate");r.dropzone=this.dropzone,r.target=this.target,this.dropzone.fire(r)}else this.dropzone.fire(new dt(n,this.dragEvent,"dragleave"))}preventDefault(){}stopPropagation(){this.propagationStopped=!0}stopImmediatePropagation(){this.immediatePropagationStopped=this.propagationStopped=!0}}function gi(e){const{actions:t,interactStatic:n,Interactable:o,defaults:i}=e;e.usePlugin(Yn),o.prototype.dropzone=function(r){return vi(this,r)},o.prototype.dropCheck=function(r,s,a,l,c,u){return yi(this,r,s,a,l,c,u)},n.dynamicDrop=function(r){return g.bool(r)?(e.dynamicDrop=r,n):e.dynamicDrop},_(t.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),t.methodDict.drop="dropzone",e.dynamicDrop=!1,i.actions.drop=oo.defaults}function mi({interactables:e},t){const n=[];for(const o of e.list){if(!o.options.drop.enabled)continue;const i=o.options.drop.accept;if(g.element(i)&&i!==t||g.string(i)&&!xt(t,i)||g.func(i)&&!i({dropzone:o,draggableElement:t}))continue;const r=g.string(o.target)?o._context.querySelectorAll(o.target):g.array(o.target)?o.target:[o.target];for(const s of r)s!==t&&n.push({dropzone:o,element:s,rect:o.getRect(s)})}return n}function eo(e,t){for(const{dropzone:n,element:o}of e.slice())t.dropzone=n,t.target=o,n.fire(t),t.propagationStopped=t.immediatePropagationStopped=!1}function ke(e,t){const n=mi(e,t);for(const o of n)o.rect=o.dropzone.getRect(o.element);return n}function no({dropState:e,interactable:t,element:n},o,i){const r=[];for(const{dropzone:a,element:l,rect:c}of e.activeDrops)a.dropCheck(o,i,t,n,l,c)&&r.push(l);const s=oi(r);return e.activeDrops[s]||null}function Re(e,t,n){const o=e.dropState,i={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return n.type==="dragstart"&&(i.activate=new dt(o,n,"dropactivate"),i.activate.target=null,i.activate.dropzone=null),n.type==="dragend"&&(i.deactivate=new dt(o,n,"dropdeactivate"),i.deactivate.target=null,i.deactivate.dropzone=null),o.rejected||(o.cur.element!==o.prev.element&&(o.prev.dropzone&&(i.leave=new dt(o,n,"dragleave"),n.dragLeave=i.leave.target=o.prev.element,n.prevDropzone=i.leave.dropzone=o.prev.dropzone),o.cur.dropzone&&(i.enter=new dt(o,n,"dragenter"),n.dragEnter=o.cur.element,n.dropzone=o.cur.dropzone)),n.type==="dragend"&&o.cur.dropzone&&(i.drop=new dt(o,n,"drop"),n.dropzone=o.cur.dropzone,n.relatedTarget=o.cur.element),n.type==="dragmove"&&o.cur.dropzone&&(i.move=new dt(o,n,"dropmove"),n.dropzone=o.cur.dropzone)),i}function Se(e,t){const n=e.dropState,{activeDrops:o,cur:i,prev:r}=n;t.leave&&r.dropzone.fire(t.leave),t.enter&&i.dropzone.fire(t.enter),t.move&&i.dropzone.fire(t.move),t.drop&&i.dropzone.fire(t.drop),t.deactivate&&eo(o,t.deactivate),n.prev.dropzone=i.dropzone,n.prev.element=i.element}function dn({interaction:e,iEvent:t,event:n},o){if(t.type!=="dragmove"&&t.type!=="dragend")return;const i=e.dropState;o.dynamicDrop&&(i.activeDrops=ke(o,e.element));const r=t,s=no(e,r,n);i.rejected=i.rejected&&!!s&&s.dropzone===i.cur.dropzone&&s.element===i.cur.element,i.cur.dropzone=s&&s.dropzone,i.cur.element=s&&s.element,i.events=Re(e,n,r)}function vi(e,t){if(g.object(t)){if(e.options.drop.enabled=t.enabled!==!1,t.listeners){const n=Dt(t.listeners),o=Object.keys(n).reduce((r,s)=>{const a=/^(enter|leave)/.test(s)?`drag${s}`:/^(activate|deactivate|move)/.test(s)?`drop${s}`:s;return r[a]=n[s],r},{}),i=e.options.drop.listeners;i&&e.off(i),e.on(o),e.options.drop.listeners=o}return g.func(t.ondrop)&&e.on("drop",t.ondrop),g.func(t.ondropactivate)&&e.on("dropactivate",t.ondropactivate),g.func(t.ondropdeactivate)&&e.on("dropdeactivate",t.ondropdeactivate),g.func(t.ondragenter)&&e.on("dragenter",t.ondragenter),g.func(t.ondragleave)&&e.on("dragleave",t.ondragleave),g.func(t.ondropmove)&&e.on("dropmove",t.ondropmove),/^(pointer|center)$/.test(t.overlap)?e.options.drop.overlap=t.overlap:g.number(t.overlap)&&(e.options.drop.overlap=Math.max(Math.min(1,t.overlap),0)),"accept"in t&&(e.options.drop.accept=t.accept),"checker"in t&&(e.options.drop.checker=t.checker),e}return g.bool(t)?(e.options.drop.enabled=t,e):e.options.drop}function yi(e,t,n,o,i,r,s){let a=!1;if(!(s=s||e.getRect(r)))return e.options.drop.checker?e.options.drop.checker(t,n,a,e,r,o,i):!1;const l=e.options.drop.overlap;if(l==="pointer"){const u=Jt(o,i,"drag"),f=Kn(t);f.x+=u.x,f.y+=u.y;const h=f.x>s.left&&f.x<s.right,m=f.y>s.top&&f.y<s.bottom;a=h&&m}const c=o.getRect(i);if(c&&l==="center"){const u=c.left+c.width/2,f=c.top+c.height/2;a=u>=s.left&&u<=s.right&&f>=s.top&&f<=s.bottom}return c&&g.number(l)&&(a=Math.max(0,Math.min(s.right,c.right)-Math.max(s.left,c.left))*Math.max(0,Math.min(s.bottom,c.bottom)-Math.max(s.top,c.top))/(c.width*c.height)>=l),e.options.drop.checker&&(a=e.options.drop.checker(t,n,a,e,r,o,i)),a}const oo={id:"actions/drop",install:gi,listeners:{"interactions:before-action-start":({interaction:e})=>{e.prepared.name==="drag"&&(e.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":({interaction:e,event:t,iEvent:n},o)=>{if(e.prepared.name!=="drag")return;const i=e.dropState;i.activeDrops=[],i.events={},i.activeDrops=ke(o,e.element),i.events=Re(e,t,n),i.events.activate&&(eo(i.activeDrops,i.events.activate),o.fire("actions/drop:start",{interaction:e,dragEvent:n}))},"interactions:action-move":dn,"interactions:after-action-move":({interaction:e,iEvent:t},n)=>{if(e.prepared.name!=="drag")return;const o=e.dropState;Se(e,o.events),n.fire("actions/drop:move",{interaction:e,dragEvent:t}),o.events={}},"interactions:action-end":(e,t)=>{if(e.interaction.prepared.name!=="drag")return;const{interaction:n,iEvent:o}=e;dn(e,t),Se(n,n.dropState.events),t.fire("actions/drop:end",{interaction:n,dragEvent:o})},"interactions:stop":({interaction:e})=>{if(e.prepared.name!=="drag")return;const{dropState:t}=e;t&&(t.activeDrops=null,t.events=null,t.cur.dropzone=null,t.cur.element=null,t.prev.dropzone=null,t.prev.element=null,t.rejected=!1)}},getActiveDrops:ke,getDrop:no,getDropEvents:Re,fireDropEvents:Se,defaults:{enabled:!1,accept:null,overlap:"pointer"}},bi=oo;function xi(e){const{actions:t,Interactable:n,defaults:o}=e;n.prototype.gesturable=function(i){return g.object(i)?(this.options.gesture.enabled=i.enabled!==!1,this.setPerAction("gesture",i),this.setOnEvents("gesture",i),this):g.bool(i)?(this.options.gesture.enabled=i,this):this.options.gesture},t.map.gesture=Ae,t.methodDict.gesture="gesturable",o.actions.gesture=Ae.defaults}function Ee({interaction:e,iEvent:t,phase:n}){if(e.prepared.name!=="gesture")return;const o=e.pointers.map(a=>a.pointer),i=n==="start",r=n==="end",s=e.interactable.options.deltaSource;if(t.touches=[o[0],o[1]],i)t.distance=Ce(o,s),t.box=Oe(o),t.scale=1,t.ds=0,t.angle=Me(o,s),t.da=0,e.gesture.startDistance=t.distance,e.gesture.startAngle=t.angle;else if(r){const a=e.prevEvent;t.distance=a.distance,t.box=a.box,t.scale=a.scale,t.ds=0,t.angle=a.angle,t.da=0}else t.distance=Ce(o,s),t.box=Oe(o),t.scale=t.distance/e.gesture.startDistance,t.angle=Me(o,s),t.ds=t.scale-e.gesture.scale,t.da=t.angle-e.gesture.angle;e.gesture.distance=t.distance,e.gesture.angle=t.angle,g.number(t.scale)&&t.scale!==1/0&&!isNaN(t.scale)&&(e.gesture.scale=t.scale)}const Ae={id:"actions/gesture",before:["actions/drag","actions/resize"],install:xi,listeners:{"interactions:action-start":Ee,"interactions:action-move":Ee,"interactions:action-end":Ee,"interactions:new":({interaction:e})=>{e.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":e=>{if(e.interaction.pointers.length<2)return;const t=e.interactable.options.gesture;if(t&&t.enabled)return e.action={name:"gesture"},!1}},defaults:{},getCursor(){return""}},wi=Ae;function Si(e){const{actions:t,browser:n,Interactable:o,defaults:i}=e;pt.cursors=Ti(n),pt.defaultMargin=n.supportsTouch||n.supportsPointerEvent?20:10,o.prototype.resizable=function(r){return Ii(this,r,e)},t.map.resize=pt,t.methodDict.resize="resizable",i.actions.resize=pt.defaults}function Ei(e){const{interaction:t,interactable:n,element:o,rect:i,buttons:r}=e;if(!i)return;const s=_({},t.coords.cur.page),a=n.options.resize;if(!(!(a&&a.enabled)||t.pointerIsDown&&/mouse|pointer/.test(t.pointerType)&&!(r&a.mouseButtons))){if(g.object(a.edges)){const l={left:!1,right:!1,top:!1,bottom:!1};for(const c in l)l[c]=zi(c,a.edges[c],s,t._latestPointer.eventTarget,o,i,a.margin||pt.defaultMargin);l.left=l.left&&!l.right,l.top=l.top&&!l.bottom,(l.left||l.right||l.top||l.bottom)&&(e.action={name:"resize",edges:l})}else{const l=a.axis!=="y"&&s.x>i.right-pt.defaultMargin,c=a.axis!=="x"&&s.y>i.bottom-pt.defaultMargin;(l||c)&&(e.action={name:"resize",axes:(l?"x":"")+(c?"y":"")})}return e.action?!1:void 0}}function Ii(e,t,n){return g.object(t)?(e.options.resize.enabled=t.enabled!==!1,e.setPerAction("resize",t),e.setOnEvents("resize",t),g.string(t.axis)&&/^x$|^y$|^xy$/.test(t.axis)?e.options.resize.axis=t.axis:t.axis===null&&(e.options.resize.axis=n.defaults.actions.resize.axis),g.bool(t.preserveAspectRatio)?e.options.resize.preserveAspectRatio=t.preserveAspectRatio:g.bool(t.square)&&(e.options.resize.square=t.square),e):g.bool(t)?(e.options.resize.enabled=t,e):e.options.resize}function zi(e,t,n,o,i,r,s){if(!t)return!1;if(t===!0){const a=g.number(r.width)?r.width:r.right-r.left,l=g.number(r.height)?r.height:r.bottom-r.top;if(s=Math.min(s,Math.abs((e==="left"||e==="right"?a:l)/2)),a<0&&(e==="left"?e="right":e==="right"&&(e="left")),l<0&&(e==="top"?e="bottom":e==="bottom"&&(e="top")),e==="left"){const c=a>=0?r.left:r.right;return n.x<c+s}if(e==="top"){const c=l>=0?r.top:r.bottom;return n.y<c+s}if(e==="right")return n.x>(a>=0?r.right:r.left)-s;if(e==="bottom")return n.y>(l>=0?r.bottom:r.top)-s}return g.element(o)?g.element(t)?t===o:_e(o,t,i):!1}function Ti(e){return e.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}function Pi({iEvent:e,interaction:t}){if(t.prepared.name!=="resize"||!t.prepared.edges)return;const n=e,o=t.rect;t._rects={start:_({},o),corrected:_({},o),previous:_({},o),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},n.edges=t.prepared.edges,n.rect=t._rects.corrected,n.deltaRect=t._rects.delta}function _i({iEvent:e,interaction:t}){if(t.prepared.name!=="resize"||!t.prepared.edges)return;const n=e,i=t.interactable.options.resize.invert,r=i==="reposition"||i==="negate",s=t.rect,{start:a,corrected:l,delta:c,previous:u}=t._rects;if(_(u,l),r){if(_(l,s),i==="reposition"){if(l.top>l.bottom){const f=l.top;l.top=l.bottom,l.bottom=f}if(l.left>l.right){const f=l.left;l.left=l.right,l.right=f}}}else l.top=Math.min(s.top,a.bottom),l.bottom=Math.max(s.bottom,a.top),l.left=Math.min(s.left,a.right),l.right=Math.max(s.right,a.left);l.width=l.right-l.left,l.height=l.bottom-l.top;for(const f in l)c[f]=l[f]-u[f];n.edges=t.prepared.edges,n.rect=l,n.deltaRect=c}function Di({iEvent:e,interaction:t}){if(t.prepared.name!=="resize"||!t.prepared.edges)return;const n=e;n.edges=t.prepared.edges,n.rect=t._rects.corrected,n.deltaRect=t._rects.delta}function pn({iEvent:e,interaction:t}){if(t.prepared.name!=="resize"||!t.resizeAxes)return;const n=t.interactable.options,o=e;n.resize.square?(t.resizeAxes==="y"?o.delta.x=o.delta.y:o.delta.y=o.delta.x,o.axes="xy"):(o.axes=t.resizeAxes,t.resizeAxes==="x"?o.delta.y=0:t.resizeAxes==="y"&&(o.delta.x=0))}const pt={id:"actions/resize",before:["actions/drag"],install:Si,listeners:{"interactions:new":({interaction:e})=>{e.resizeAxes="xy"},"interactions:action-start":e=>{Pi(e),pn(e)},"interactions:action-move":e=>{_i(e),pn(e)},"interactions:action-end":Di,"auto-start:check":Ei},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor({edges:e,axis:t,name:n}){const o=pt.cursors;let i=null;if(t)i=o[n+t];else if(e){let r="";for(const s of["top","bottom","left","right"])e[s]&&(r+=s);i=o[r]}return i},defaultMargin:null},Oi=pt,Ci={id:"actions",install(e){e.usePlugin(wi),e.usePlugin(Oi),e.usePlugin(Yn),e.usePlugin(bi)}};let hn=0,ft,Tt;function Mi(e){if(ft=e.requestAnimationFrame,Tt=e.cancelAnimationFrame,!ft){const t=["ms","moz","webkit","o"];for(const n of t)ft=e[`${n}RequestAnimationFrame`],Tt=e[`${n}CancelAnimationFrame`]||e[`${n}CancelRequestAnimationFrame`]}ft=ft&&ft.bind(e),Tt=Tt&&Tt.bind(e),ft||(ft=t=>{const n=Date.now(),o=Math.max(0,16-(n-hn)),i=e.setTimeout(()=>{t(n+o)},o);return hn=n+o,i},Tt=t=>clearTimeout(t))}const yt={request:e=>ft(e),cancel:e=>Tt(e),init:Mi};function ki(e){const{defaults:t,actions:n}=e;e.autoScroll=C,C.now=()=>e.now(),n.phaselessTypes.autoscroll=!0,t.perAction.autoScroll=C.defaults}const C={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start(e){C.isScrolling=!0,yt.cancel(C.i),e.autoScroll=C,C.interaction=e,C.prevTime=C.now(),C.i=yt.request(C.scroll)},stop(){C.isScrolling=!1,C.interaction&&(C.interaction.autoScroll=null),yt.cancel(C.i)},scroll(){const{interaction:e}=C,{interactable:t,element:n}=e,o=e.prepared.name,i=t.options[o].autoScroll,r=gn(i.container,t,n),s=C.now(),a=(s-C.prevTime)/1e3,l=i.speed*a;if(l>=1){const c={x:C.x*l,y:C.y*l};if(c.x||c.y){const u=mn(r);g.window(r)?r.scrollBy(c.x,c.y):r&&(r.scrollLeft+=c.x,r.scrollTop+=c.y);const f=mn(r),h={x:f.x-u.x,y:f.y-u.y};(h.x||h.y)&&t.fire({type:"autoscroll",target:n,interactable:t,delta:h,interaction:e,container:r})}C.prevTime=s}C.isScrolling&&(yt.cancel(C.i),C.i=yt.request(C.scroll))},check(e,t){var n;return(n=e.options[t].autoScroll)==null?void 0:n.enabled},onInteractionMove({interaction:e,pointer:t}){if(!(e.interacting()&&C.check(e.interactable,e.prepared.name)))return;if(e.simulation){C.x=C.y=0;return}let n,o,i,r;const{interactable:s,element:a}=e,l=e.prepared.name,c=s.options[l].autoScroll,u=gn(c.container,s,a);if(g.window(u))r=t.clientX<C.margin,n=t.clientY<C.margin,o=t.clientX>u.innerWidth-C.margin,i=t.clientY>u.innerHeight-C.margin;else{const f=Ge(u);r=t.clientX<f.left+C.margin,n=t.clientY<f.top+C.margin,o=t.clientX>f.right-C.margin,i=t.clientY>f.bottom-C.margin}C.x=o?1:r?-1:0,C.y=i?1:n?-1:0,C.isScrolling||(C.margin=c.margin,C.speed=c.speed,C.start(e))}};function gn(e,t,n){return(g.string(e)?Un(e,t,n):e)||ht(n)}function mn(e){return g.window(e)&&(e=window.document.body),{x:e.scrollLeft,y:e.scrollTop}}const Ri={id:"auto-scroll",install:ki,listeners:{"interactions:new":({interaction:e})=>{e.autoScroll=null},"interactions:destroy":({interaction:e})=>{e.autoScroll=null,C.stop(),C.interaction&&(C.interaction=null)},"interactions:stop":C.stop,"interactions:action-move":e=>C.onInteractionMove(e)}},Ai=Ri;function Kt(e,t){let n=!1;return function(){return n||(wt.console.warn(t),n=!0),e.apply(this,arguments)}}function Ke(e,t){return e.name=t.name,e.axis=t.axis,e.edges=t.edges,e}function Ni(e){const{Interactable:t}=e;t.prototype.getAction=function(o,i,r,s){const a=$i(this,i,r,s,e);return this.options.actionChecker?this.options.actionChecker(o,i,a,this,s,r):a},t.prototype.ignoreFrom=Kt(function(n){return this._backCompatOption("ignoreFrom",n)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),t.prototype.allowFrom=Kt(function(n){return this._backCompatOption("allowFrom",n)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),t.prototype.actionChecker=Hi,t.prototype.styleCursor=Li}function $i(e,t,n,o,i){const r=e.getRect(o),s=t.buttons||{0:1,1:4,3:8,4:16}[t.button],a={action:null,interactable:e,interaction:n,element:o,rect:r,buttons:s};return i.fire("auto-start:check",a),a.action}function Li(e){return g.bool(e)?(this.options.styleCursor=e,this):e===null?(delete this.options.styleCursor,this):this.options.styleCursor}function Hi(e){return g.func(e)?(this.options.actionChecker=e,this):e===null?(delete this.options.actionChecker,this):this.options.actionChecker}const Fi={id:"auto-start/interactableMethods",install:Ni};function Bi(e){const{interactStatic:t,defaults:n}=e;e.usePlugin(Fi),n.base.actionChecker=null,n.base.styleCursor=!0,_(n.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),t.maxInteractions=o=>ao(o,e),e.autoStart={maxInteractions:1/0,withinInteractionLimit:be,cursorElement:null}}function ji({interaction:e,pointer:t,event:n,eventTarget:o},i){if(e.interacting())return;const r=ro(e,t,n,o,i);so(e,r,i)}function Wi({interaction:e,pointer:t,event:n,eventTarget:o},i){if(e.pointerType!=="mouse"||e.pointerIsDown||e.interacting())return;const r=ro(e,t,n,o,i);so(e,r,i)}function Yi(e,t){const{interaction:n}=e;if(!n.pointerIsDown||n.interacting()||!n.pointerWasMoved||!n.prepared.name)return;t.fire("autoStart:before-start",e);const{interactable:o}=n,i=n.prepared.name;i&&o&&(o.options[i].manualStart||!be(o,n.element,n.prepared,t)?n.stop():(n.start(n.prepared,o,n.element),co(n,t)))}function Xi({interaction:e},t){const{interactable:n}=e;n&&n.options.styleCursor&&Ne(e.element,"",t)}function io(e,t,n,o,i){return t.testIgnoreAllow(t.options[e.name],n,o)&&t.options[e.name].enabled&&be(t,n,e,i)?e:null}function Gi(e,t,n,o,i,r,s){for(let a=0,l=o.length;a<l;a++){const c=o[a],u=i[a],f=c.getAction(t,n,e,u);if(!f)continue;const h=io(f,c,u,r,s);if(h)return{action:h,interactable:c,element:u}}return{action:null,interactable:null,element:null}}function ro(e,t,n,o,i){let r=[],s=[],a=o;function l(c){r.push(c),s.push(a)}for(;g.element(a);){r=[],s=[],i.interactables.forEachMatch(a,l);const c=Gi(e,t,n,r,s,o,i);if(c.action&&!c.interactable.options[c.action.name].manualStart)return c;a=st(a)}return{action:null,interactable:null,element:null}}function so(e,{action:t,interactable:n,element:o},i){t=t||{name:null},e.interactable=n,e.element=o,Ke(e.prepared,t),e.rect=n&&t.name?n.getRect(o):null,co(e,i),i.fire("autoStart:prepared",{interaction:e})}function be(e,t,n,o){const i=e.options,r=i[n.name].max,s=i[n.name].maxPerElement,a=o.autoStart.maxInteractions;let l=0,c=0,u=0;if(!(r&&s&&a))return!1;for(const f of o.interactions.list){const h=f.prepared.name;if(f.interacting()){if(l++,l>=a)return!1;if(f.interactable===e&&(c+=h===n.name?1:0,c>=r||f.element===t&&(u++,h===n.name&&u>=s)))return!1}}return a>0}function ao(e,t){return g.number(e)?(t.autoStart.maxInteractions=e,this):t.autoStart.maxInteractions}function Ne(e,t,n){const{cursorElement:o}=n.autoStart;o&&o!==e&&(o.style.cursor=""),e.ownerDocument.documentElement.style.cursor=t,e.style.cursor=t,n.autoStart.cursorElement=t?e:null}function co(e,t){const{interactable:n,element:o,prepared:i}=e;if(!(e.pointerType==="mouse"&&n&&n.options.styleCursor)){t.autoStart.cursorElement&&Ne(t.autoStart.cursorElement,"",t);return}let r="";if(i.name){const s=n.options[i.name].cursorChecker;g.func(s)?r=s(i,n,o,e._interacting):r=t.actions.map[i.name].getCursor(i)}Ne(e.element,r||"",t)}const Ui={id:"auto-start/base",before:["actions"],install:Bi,listeners:{"interactions:down":ji,"interactions:move":(e,t)=>{Wi(e,t),Yi(e,t)},"interactions:stop":Xi},maxInteractions:ao,withinInteractionLimit:be,validateAction:io},Je=Ui;function qi({interaction:e,eventTarget:t,dx:n,dy:o},i){if(e.prepared.name!=="drag")return;const r=Math.abs(n),s=Math.abs(o),a=e.interactable.options.drag,l=a.startAxis,c=r>s?"x":r<s?"y":"xy";if(e.prepared.axis=a.lockAxis==="start"?c[0]:a.lockAxis,c!=="xy"&&l!=="xy"&&l!==c){e.prepared.name=null;let u=t;const f=function(h){if(h===e.interactable)return;const m=e.interactable.options.drag;if(!m.manualStart&&h.testIgnoreAllow(m,u,t)){const y=h.getAction(e.downPointer,e.downEvent,e,u);if(y&&y.name==="drag"&&Vi(c,h)&&Je.validateAction(y,h,u,t,i))return h}};for(;g.element(u);){const h=i.interactables.forEachMatch(u,f);if(h){e.prepared.name="drag",e.interactable=h,e.element=u;break}u=st(u)}}}function Vi(e,t){if(!t)return!1;const n=t.options.drag.startAxis;return e==="xy"||n==="xy"||n===e}const Ki={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":qi}};function Ji(e){const{defaults:t}=e;e.usePlugin(Je),t.perAction.hold=0,t.perAction.delay=0}function Ie(e){const t=e.prepared&&e.prepared.name;if(!t)return null;const n=e.interactable.options;return n[t].hold||n[t].delay}const Qi={id:"auto-start/hold",install:Ji,listeners:{"interactions:new":({interaction:e})=>{e.autoStartHoldTimer=null},"autoStart:prepared":({interaction:e})=>{const t=Ie(e);t>0&&(e.autoStartHoldTimer=setTimeout(()=>{e.start(e.prepared,e.interactable,e.element)},t))},"interactions:move":({interaction:e,duplicate:t})=>{e.autoStartHoldTimer&&e.pointerWasMoved&&!t&&(clearTimeout(e.autoStartHoldTimer),e.autoStartHoldTimer=null)},"autoStart:before-start":({interaction:e})=>{Ie(e)>0&&(e.prepared.name=null)}},getHoldDuration:Ie},Zi=Qi,tr={id:"auto-start",install(e){e.usePlugin(Je),e.usePlugin(Zi),e.usePlugin(Ki)}};function er(e){return/^(always|never|auto)$/.test(e)?(this.options.preventDefault=e,this):g.bool(e)?(this.options.preventDefault=e?"always":"never",this):this.options.preventDefault}function nr(e,t,n){const o=e.options.preventDefault;if(o!=="never"){if(o==="always"){n.preventDefault();return}if(t.events.supportsPassive&&/^touch(start|move)$/.test(n.type)){const i=ht(n.target).document,r=t.getDocOptions(i);if(!(r&&r.events)||r.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(n.type)||g.element(n.target)&&xt(n.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||n.preventDefault()}}function or({interaction:e,event:t}){e.interactable&&e.interactable.checkAndPreventDefault(t)}function ir(e){const{Interactable:t}=e;t.prototype.preventDefault=er,t.prototype.checkAndPreventDefault=function(n){return nr(this,e,n)},e.interactions.docEvents.push({type:"dragstart",listener(n){for(const o of e.interactions.list)if(o.element&&(o.element===n.target||_t(o.element,n.target))){o.interactable.checkAndPreventDefault(n);return}}})}const lo={id:"core/interactablePreventDefault",install:ir,listeners:["down","move","up","cancel"].reduce((e,t)=>(e[`interactions:${t}`]=or,e),{})},rr={};var Nt;(function(e){e.touchAction="touchAction",e.boxSizing="boxSizing",e.noListeners="noListeners"})(Nt||(Nt={}));const vn="[interact.js] ",$e={touchAction:"https://developer.mozilla.org/en-US/docs/Web/CSS/touch-action",boxSizing:"https://developer.mozilla.org/en-US/docs/Web/CSS/box-sizing"},sr=!1;function ar(e,{logger:t}={}){const{Interactable:n,defaults:o}=e;e.logger=t||console,o.base.devTools={ignore:{}},n.prototype.devTools=function(i){return i?(_(this.options.devTools,i),this):this.options.devTools},e.usePlugin(rr)}const yn=[{name:Nt.touchAction,perform({element:e}){return!!e&&!cr(e,"touchAction",/pan-|pinch|none/)},getInfo({element:e}){return[e,$e.touchAction]},text:`Consider adding CSS "touch-action: none" to this element
`},{name:Nt.boxSizing,perform(e){const{element:t}=e;return e.prepared.name==="resize"&&t instanceof J.HTMLElement&&!uo(t,"boxSizing",/border-box/)},text:'Consider adding CSS "box-sizing: border-box" to this resizable element',getInfo({element:e}){return[e,$e.boxSizing]}},{name:Nt.noListeners,perform(e){var t;const n=e.prepared.name;return!(((t=e.interactable)==null?void 0:t.events.types[`${n}move`])||[]).length},getInfo(e){return[e.prepared.name,e.interactable]},text:"There are no listeners set for this action"}];function uo(e,t,n){const o=e.style[t]||wt.getComputedStyle(e)[t];return n.test((o||"").toString())}function cr(e,t,n){let o=e;for(;g.element(o);){if(uo(o,t,n))return!0;o=st(o)}return!1}const bn="dev-tools",lr=sr?{id:bn,install:()=>{}}:{id:bn,install:ar,listeners:{"interactions:action-start":({interaction:e},t)=>{for(const n of yn){const o=e.interactable&&e.interactable.options;!(o&&o.devTools&&o.devTools.ignore[n.name])&&n.perform(e)&&t.logger.warn(vn+n.text,...n.getInfo(e))}}},checks:yn,CheckName:Nt,links:$e,prefix:vn},ur=lr;function $t(e){const t={};for(const n in e){const o=e[n];g.plainObject(o)?t[n]=$t(o):g.array(o)?t[n]=Ve(o):t[n]=o}return t}class Qe{constructor(t){d(this,"states",[]);d(this,"startOffset",{left:0,right:0,top:0,bottom:0});d(this,"startDelta");d(this,"result");d(this,"endResult");d(this,"startEdges");d(this,"edges");d(this,"interaction");this.interaction=t,this.result=oe(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}start({phase:t},n){const{interaction:o}=this,i=fr(o);this.prepareStates(i),this.startEdges=_({},o.edges),this.edges=_({},this.startEdges),this.startOffset=dr(o.rect,n),this.startDelta={x:0,y:0};const r=this.fillArg({phase:t,pageCoords:n,preEnd:!1});return this.result=oe(),this.startAll(r),this.result=this.setAll(r)}fillArg(t){const{interaction:n}=this;return t.interaction=n,t.interactable=n.interactable,t.element=n.element,t.rect||(t.rect=n.rect),t.edges||(t.edges=this.startEdges),t.startOffset=this.startOffset,t}startAll(t){for(const n of this.states)n.methods.start&&(t.state=n,n.methods.start(t))}setAll(t){const{phase:n,preEnd:o,skipModifiers:i,rect:r,edges:s}=t;t.coords=_({},t.pageCoords),t.rect=_({},r),t.edges=_({},s);const a=i?this.states.slice(i):this.states,l=oe(t.coords,t.rect);for(const h of a){var c;const{options:m}=h,y=_({},t.coords);let O=null;(c=h.methods)!=null&&c.set&&this.shouldDo(m,o,n)&&(t.state=h,O=h.methods.set(t),ve(t.edges,t.rect,{x:t.coords.x-y.x,y:t.coords.y-y.y})),l.eventProps.push(O)}_(this.edges,t.edges),l.delta.x=t.coords.x-t.pageCoords.x,l.delta.y=t.coords.y-t.pageCoords.y,l.rectDelta.left=t.rect.left-r.left,l.rectDelta.right=t.rect.right-r.right,l.rectDelta.top=t.rect.top-r.top,l.rectDelta.bottom=t.rect.bottom-r.bottom;const u=this.result.coords,f=this.result.rect;if(u&&f){const h=l.rect.left!==f.left||l.rect.right!==f.right||l.rect.top!==f.top||l.rect.bottom!==f.bottom;l.changed=h||u.x!==l.coords.x||u.y!==l.coords.y}return l}applyToInteraction(t){const{interaction:n}=this,{phase:o}=t,i=n.coords.cur,r=n.coords.start,{result:s,startDelta:a}=this,l=s.delta;o==="start"&&_(this.startDelta,s.delta);for(const[f,h]of[[r,a],[i,l]])f.page.x+=h.x,f.page.y+=h.y,f.client.x+=h.x,f.client.y+=h.y;const{rectDelta:c}=this.result,u=t.rect||n.rect;u.left+=c.left,u.right+=c.right,u.top+=c.top,u.bottom+=c.bottom,u.width=u.right-u.left,u.height=u.bottom-u.top}setAndApply(t){const{interaction:n}=this,{phase:o,preEnd:i,skipModifiers:r}=t,s=this.setAll(this.fillArg({preEnd:i,phase:o,pageCoords:t.modifiedCoords||n.coords.cur.page}));if(this.result=s,!s.changed&&(!r||r<this.states.length)&&n.interacting())return!1;if(t.modifiedCoords){const{page:a}=n.coords.cur,l={x:t.modifiedCoords.x-a.x,y:t.modifiedCoords.y-a.y};s.coords.x+=l.x,s.coords.y+=l.y,s.delta.x+=l.x,s.delta.y+=l.y}this.applyToInteraction(t)}beforeEnd(t){const{interaction:n,event:o}=t,i=this.states;if(!i||!i.length)return;let r=!1;for(const s of i){t.state=s;const{options:a,methods:l}=s,c=l.beforeEnd&&l.beforeEnd(t);if(c)return this.endResult=c,!1;r=r||!r&&this.shouldDo(a,!0,t.phase,!0)}r&&n.move({event:o,preEnd:!0})}stop(t){const{interaction:n}=t;if(!this.states||!this.states.length)return;const o=_({states:this.states,interactable:n.interactable,element:n.element,rect:null},t);this.fillArg(o);for(const i of this.states)o.state=i,i.methods.stop&&i.methods.stop(o);this.states=null,this.endResult=null}prepareStates(t){this.states=[];for(let n=0;n<t.length;n++){const{options:o,methods:i,name:r}=t[n];this.states.push({options:o,methods:i,index:n,name:r})}return this.states}restoreInteractionCoords({interaction:{coords:t,rect:n,modification:o}}){if(!o.result)return;const{startDelta:i}=o,{delta:r,rectDelta:s}=o.result,a=[[t.start,i],[t.cur,r]];for(const[l,c]of a)l.page.x-=c.x,l.page.y-=c.y,l.client.x-=c.x,l.client.y-=c.y;n.left-=s.left,n.right-=s.right,n.top-=s.top,n.bottom-=s.bottom}shouldDo(t,n,o,i){return!(!t||t.enabled===!1||i&&!t.endOnly||t.endOnly&&!n||o==="start"&&!t.setStart)}copyFrom(t){this.startOffset=t.startOffset,this.startDelta=t.startDelta,this.startEdges=t.startEdges,this.edges=t.edges,this.states=t.states.map(n=>$t(n)),this.result=oe(_({},t.result.coords),_({},t.result.rect))}destroy(){for(const t in this)this[t]=null}}function oe(e,t){return{rect:t,coords:e,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function fr(e){const t=e.interactable.options[e.prepared.name],n=t.modifiers;return n&&n.length?n:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(o=>{const i=t[o];return i&&i.enabled&&{options:i,methods:i._methods}}).filter(o=>!!o)}function dr(e,t){return e?{left:t.x-e.left,top:t.y-e.top,right:e.right-t.x,bottom:e.bottom-t.y}:{left:0,top:0,right:0,bottom:0}}function St(e,t){const{defaults:n}=e,o={start:e.start,set:e.set,beforeEnd:e.beforeEnd,stop:e.stop},i=r=>{const s=r||{};s.enabled=s.enabled!==!1;for(const l in n)l in s||(s[l]=n[l]);const a={options:s,methods:o,name:t,enable:()=>(s.enabled=!0,a),disable:()=>(s.enabled=!1,a)};return a};return t&&typeof t=="string"&&(i._defaults=n,i._methods=o),i}function Yt({iEvent:e,interaction:t}){const n=t.modification.result;n&&(e.modifiers=n.eventProps)}const pr={id:"modifiers/base",before:["actions"],install:e=>{e.defaults.perAction.modifiers=[]},listeners:{"interactions:new":({interaction:e})=>{e.modification=new Qe(e)},"interactions:before-action-start":e=>{const{interaction:t}=e,n=e.interaction.modification;n.start(e,t.coords.start.page),t.edges=n.edges,n.applyToInteraction(e)},"interactions:before-action-move":e=>{const{interaction:t}=e,{modification:n}=t,o=n.setAndApply(e);return t.edges=n.edges,o},"interactions:before-action-end":e=>{const{interaction:t}=e,{modification:n}=t,o=n.beforeEnd(e);return t.edges=n.startEdges,o},"interactions:action-start":Yt,"interactions:action-move":Yt,"interactions:action-end":Yt,"interactions:after-action-start":e=>e.interaction.modification.restoreInteractionCoords(e),"interactions:after-action-move":e=>e.interaction.modification.restoreInteractionCoords(e),"interactions:stop":e=>e.interaction.modification.stop(e)}},fo=pr,po={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};class Ze extends ye{constructor(n,o,i,r,s,a,l){super(n);d(this,"relatedTarget",null);d(this,"screenX");d(this,"screenY");d(this,"button");d(this,"buttons");d(this,"ctrlKey");d(this,"shiftKey");d(this,"altKey");d(this,"metaKey");d(this,"page");d(this,"client");d(this,"delta");d(this,"rect");d(this,"x0");d(this,"y0");d(this,"t0");d(this,"dt");d(this,"duration");d(this,"clientX0");d(this,"clientY0");d(this,"velocity");d(this,"speed");d(this,"swipe");d(this,"axes");d(this,"preEnd");s=s||n.element;const c=n.interactable,u=(c&&c.options||po).deltaSource,f=Jt(c,s,i),h=r==="start",m=r==="end",y=h?this:n.prevEvent,O=h?n.coords.start:m?{page:y.page,client:y.client,timeStamp:n.coords.cur.timeStamp}:n.coords.cur;this.page=_({},O.page),this.client=_({},O.client),this.rect=_({},n.rect),this.timeStamp=O.timeStamp,m||(this.page.x-=f.x,this.page.y-=f.y,this.client.x-=f.x,this.client.y-=f.y),this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.button=o.button,this.buttons=o.buttons,this.target=s,this.currentTarget=s,this.preEnd=a,this.type=l||i+(r||""),this.interactable=c,this.t0=h?n.pointers[n.pointers.length-1].downTime:y.t0,this.x0=n.coords.start.page.x-f.x,this.y0=n.coords.start.page.y-f.y,this.clientX0=n.coords.start.client.x-f.x,this.clientY0=n.coords.start.client.y-f.y,h||m?this.delta={x:0,y:0}:this.delta={x:this[u].x-y[u].x,y:this[u].y-y[u].y},this.dt=n.coords.delta.timeStamp,this.duration=this.timeStamp-this.t0,this.velocity=_({},n.coords.velocity[u]),this.speed=Qt(this.velocity.x,this.velocity.y),this.swipe=m||r==="inertiastart"?this.getSwipe():null}getSwipe(){const n=this._interaction;if(n.prevEvent.speed<600||this.timeStamp-n.prevEvent.timeStamp>150)return null;let o=180*Math.atan2(n.prevEvent.velocityY,n.prevEvent.velocityX)/Math.PI;const i=22.5;o<0&&(o+=360);const r=135-i<=o&&o<225+i,s=225-i<=o&&o<315+i,a=!r&&(315-i<=o||o<45+i),l=!s&&45-i<=o&&o<135+i;return{up:s,down:l,left:r,right:a,angle:o,speed:n.prevEvent.speed,velocity:{x:n.prevEvent.velocityX,y:n.prevEvent.velocityY}}}preventDefault(){}stopImmediatePropagation(){this.immediatePropagationStopped=this.propagationStopped=!0}stopPropagation(){this.propagationStopped=!0}}Object.defineProperties(Ze.prototype,{pageX:{get(){return this.page.x},set(e){this.page.x=e}},pageY:{get(){return this.page.y},set(e){this.page.y=e}},clientX:{get(){return this.client.x},set(e){this.client.x=e}},clientY:{get(){return this.client.y},set(e){this.client.y=e}},dx:{get(){return this.delta.x},set(e){this.delta.x=e}},dy:{get(){return this.delta.y},set(e){this.delta.y=e}},velocityX:{get(){return this.velocity.x},set(e){this.velocity.x=e}},velocityY:{get(){return this.velocity.y},set(e){this.velocity.y=e}}});class hr{constructor(t,n,o,i,r){d(this,"id");d(this,"pointer");d(this,"event");d(this,"downTime");d(this,"downTarget");this.id=t,this.pointer=n,this.event=o,this.downTime=i,this.downTarget=r}}let Le;(function(e){e.interactable="",e.element="",e.prepared="",e.pointerIsDown="",e.pointerWasMoved="",e._proxy=""})(Le||(Le={}));let fe;(function(e){e.start="",e.move="",e.end="",e.stop="",e.interacting=""})(fe||(fe={}));let gr=0;class mr{constructor({pointerType:t,scopeFire:n}){d(this,"interactable",null);d(this,"element",null);d(this,"rect",null);d(this,"_rects");d(this,"edges",null);d(this,"_scopeFire");d(this,"prepared",{name:null,axis:null,edges:null});d(this,"pointerType");d(this,"pointers",[]);d(this,"downEvent",null);d(this,"downPointer",{});d(this,"_latestPointer",{pointer:null,event:null,eventTarget:null});d(this,"prevEvent",null);d(this,"pointerIsDown",!1);d(this,"pointerWasMoved",!1);d(this,"_interacting",!1);d(this,"_ending",!1);d(this,"_stopped",!0);d(this,"_proxy");d(this,"simulation",null);d(this,"doMove",Kt(function(t){this.move(t)},"The interaction.doMove() method has been renamed to interaction.move()"));d(this,"coords",{start:Ht(),prev:Ht(),cur:Ht(),delta:Ht(),velocity:Ht()});d(this,"_id",gr++);this._scopeFire=n,this.pointerType=t;const o=this;this._proxy={};for(const i in Le)Object.defineProperty(this._proxy,i,{get(){return o[i]}});for(const i in fe)Object.defineProperty(this._proxy,i,{value:(...r)=>o[i](...r)});this._scopeFire("interactions:new",{interaction:this})}get pointerMoveTolerance(){return 1}pointerDown(t,n,o){const i=this.updatePointer(t,n,o,!0),r=this.pointers[i];this._scopeFire("interactions:down",{pointer:t,event:n,eventTarget:o,pointerIndex:i,pointerInfo:r,type:"down",interaction:this})}start(t,n,o){return this.interacting()||!this.pointerIsDown||this.pointers.length<(t.name==="gesture"?2:1)||!n.options[t.name].enabled?!1:(Ke(this.prepared,t),this.interactable=n,this.element=o,this.rect=n.getRect(o),this.edges=this.prepared.edges?_({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}pointerMove(t,n,o){!this.simulation&&!(this.modification&&this.modification.endResult)&&this.updatePointer(t,n,o,!1);const i=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;let r,s;this.pointerIsDown&&!this.pointerWasMoved&&(r=this.coords.cur.client.x-this.coords.start.client.x,s=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=Qt(r,s)>this.pointerMoveTolerance);const a=this.getPointerIndex(t),l={pointer:t,pointerIndex:a,pointerInfo:this.pointers[a],event:n,type:"move",eventTarget:o,dx:r,dy:s,duplicate:i,interaction:this};i||li(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",l),!i&&!this.simulation&&(this.interacting()&&(l.type=null,this.move(l)),this.pointerWasMoved&&ae(this.coords.prev,this.coords.cur))}move(t){(!t||!t.event)&&qn(this.coords.delta),t=_({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},t||{}),t.phase="move",this._doPhase(t)}pointerUp(t,n,o,i){let r=this.getPointerIndex(t);r===-1&&(r=this.updatePointer(t,n,o,!1));const s=/cancel$/i.test(n.type)?"cancel":"up";this._scopeFire(`interactions:${s}`,{pointer:t,pointerIndex:r,pointerInfo:this.pointers[r],event:n,eventTarget:o,type:s,curEventTarget:i,interaction:this}),this.simulation||this.end(n),this.removePointer(t,n)}documentBlur(t){this.end(t),this._scopeFire("interactions:blur",{event:t,type:"blur",interaction:this})}end(t){this._ending=!0,t=t||this._latestPointer.event;let n;this.interacting()&&(n=this._doPhase({event:t,interaction:this,phase:"end"})),this._ending=!1,n===!0&&this.stop()}currentAction(){return this._interacting?this.prepared.name:null}interacting(){return this._interacting}stop(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}getPointerIndex(t){const n=Vt(t);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:Zt(this.pointers,o=>o.id===n)}getPointerInfo(t){return this.pointers[this.getPointerIndex(t)]}updatePointer(t,n,o,i){const r=Vt(t);let s=this.getPointerIndex(t),a=this.pointers[s];return i=i===!1?!1:i||/(down|start)$/i.test(n.type),a?a.pointer=t:(a=new hr(r,t,n,null,null),s=this.pointers.length,this.pointers.push(a)),fi(this.coords.cur,this.pointers.map(l=>l.pointer),this._now()),ci(this.coords.delta,this.coords.prev,this.coords.cur),i&&(this.pointerIsDown=!0,a.downTime=this.coords.cur.timeStamp,a.downTarget=o,ce(this.downPointer,t),this.interacting()||(ae(this.coords.start,this.coords.cur),ae(this.coords.prev,this.coords.cur),this.downEvent=n,this.pointerWasMoved=!1)),this._updateLatestPointer(t,n,o),this._scopeFire("interactions:update-pointer",{pointer:t,event:n,eventTarget:o,down:i,pointerInfo:a,pointerIndex:s,interaction:this}),s}removePointer(t,n){const o=this.getPointerIndex(t);if(o===-1)return;const i=this.pointers[o];this._scopeFire("interactions:remove-pointer",{pointer:t,event:n,eventTarget:null,pointerIndex:o,pointerInfo:i,interaction:this}),this.pointers.splice(o,1),this.pointerIsDown=!1}_updateLatestPointer(t,n,o){this._latestPointer.pointer=t,this._latestPointer.event=n,this._latestPointer.eventTarget=o}destroy(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}_createPreparedEvent(t,n,o,i){return new Ze(this,t,this.prepared.name,n,this.element,o,i)}_fireEvent(t){var n;(n=this.interactable)==null||n.fire(t),(!this.prevEvent||t.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=t)}_doPhase(t){const{event:n,phase:o,preEnd:i,type:r}=t,{rect:s}=this;if(s&&o==="move"&&(ve(this.edges,s,this.coords.delta[this.interactable.options.deltaSource]),s.width=s.right-s.left,s.height=s.bottom-s.top),this._scopeFire(`interactions:before-action-${o}`,t)===!1)return!1;const l=t.iEvent=this._createPreparedEvent(n,o,i,r);return this._scopeFire(`interactions:action-${o}`,t),o==="start"&&(this.prevEvent=l),this._fireEvent(l),this._scopeFire(`interactions:after-action-${o}`,t),!0}_now(){return Date.now()}}fe.offsetBy="";function vr(e){e.pointerIsDown&&(He(e.coords.cur,e.offset.total),e.offset.pending.x=0,e.offset.pending.y=0)}function xn({interaction:e}){ho(e)}function yr({interaction:e}){if(ho(e))return e.move({offset:!0}),e.end(),!1}function br({interaction:e}){e.offset.total.x=0,e.offset.total.y=0,e.offset.pending.x=0,e.offset.pending.y=0}function ho(e){if(!wr(e))return!1;const{pending:t}=e.offset;return He(e.coords.cur,t),He(e.coords.delta,t),ve(e.edges,e.rect,t),t.x=0,t.y=0,!0}function xr({x:e,y:t}){this.offset.pending.x+=e,this.offset.pending.y+=t,this.offset.total.x+=e,this.offset.total.y+=t}function He({page:e,client:t},{x:n,y:o}){e.x+=n,e.y+=o,t.x+=n,t.y+=o}function wr(e){return!!(e.offset.pending.x||e.offset.pending.y)}const Sr={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install(e){e.Interaction.prototype.offsetBy=xr},listeners:{"interactions:new":({interaction:e})=>{e.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":({interaction:e})=>vr(e),"interactions:before-action-start":xn,"interactions:before-action-move":xn,"interactions:before-action-end":yr,"interactions:stop":br}},go=Sr;function Er(e){const{defaults:t}=e;e.usePlugin(go),e.usePlugin(fo),e.actions.phases.inertiastart=!0,e.actions.phases.resume=!0,t.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}}class Ir{constructor(t){d(this,"active",!1);d(this,"isModified",!1);d(this,"smoothEnd",!1);d(this,"allowResume",!1);d(this,"modification");d(this,"modifierCount",0);d(this,"modifierArg");d(this,"startCoords");d(this,"t0",0);d(this,"v0",0);d(this,"te",0);d(this,"targetOffset");d(this,"modifiedOffset");d(this,"currentOffset");d(this,"lambda_v0",0);d(this,"one_ve_v0",0);d(this,"timeout");d(this,"interaction");this.interaction=t}start(t){const{interaction:n}=this,o=ie(n);if(!o||!o.enabled)return!1;const{client:i}=n.coords.velocity,r=Qt(i.x,i.y),s=this.modification||(this.modification=new Qe(n));if(s.copyFrom(n.modification),this.t0=n._now(),this.allowResume=o.allowResume,this.v0=r,this.currentOffset={x:0,y:0},this.startCoords=n.coords.cur.page,this.modifierArg=s.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-n.coords.cur.timeStamp<50&&r>o.minSpeed&&r>o.endSpeed)this.startInertia();else{if(s.result=s.setAll(this.modifierArg),!s.result.changed)return!1;this.startSmoothEnd()}return n.modification.result.rect=null,n.offsetBy(this.targetOffset),n._doPhase({interaction:n,event:t,phase:"inertiastart"}),n.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),n.modification.result.rect=null,this.active=!0,n.simulation=this,!0}startInertia(){const t=this.interaction.coords.velocity.client,n=ie(this.interaction),o=n.resistance,i=-Math.log(n.endSpeed/this.v0)/o;this.targetOffset={x:(t.x-i)/o,y:(t.y-i)/o},this.te=i,this.lambda_v0=o/this.v0,this.one_ve_v0=1-n.endSpeed/this.v0;const{modification:r,modifierArg:s}=this;s.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},r.result=r.setAll(s),r.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+r.result.delta.x,y:this.targetOffset.y+r.result.delta.y}),this.onNextFrame(()=>this.inertiaTick())}startSmoothEnd(){this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(()=>this.smoothEndTick())}onNextFrame(t){this.timeout=yt.request(()=>{this.active&&t()})}inertiaTick(){const{interaction:t}=this,o=ie(t).resistance,i=(t._now()-this.t0)/1e3;if(i<this.te){const r=1-(Math.exp(-o*i)-this.lambda_v0)/this.one_ve_v0;let s;this.isModified?s=Dr(0,0,this.targetOffset.x,this.targetOffset.y,this.modifiedOffset.x,this.modifiedOffset.y,r):s={x:this.targetOffset.x*r,y:this.targetOffset.y*r};const a={x:s.x-this.currentOffset.x,y:s.y-this.currentOffset.y};this.currentOffset.x+=a.x,this.currentOffset.y+=a.y,t.offsetBy(a),t.move(),this.onNextFrame(()=>this.inertiaTick())}else t.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}smoothEndTick(){const{interaction:t}=this,n=t._now()-this.t0,{smoothEndDuration:o}=ie(t);if(n<o){const i={x:Sn(n,0,this.targetOffset.x,o),y:Sn(n,0,this.targetOffset.y,o)},r={x:i.x-this.currentOffset.x,y:i.y-this.currentOffset.y};this.currentOffset.x+=r.x,this.currentOffset.y+=r.y,t.offsetBy(r),t.move({skipModifiers:this.modifierCount}),this.onNextFrame(()=>this.smoothEndTick())}else t.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}resume({pointer:t,event:n,eventTarget:o}){const{interaction:i}=this;i.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),i.updatePointer(t,n,o,!0),i._doPhase({interaction:i,event:n,phase:"resume"}),ae(i.coords.prev,i.coords.cur),this.stop()}end(){this.interaction.move(),this.interaction.end(),this.stop()}stop(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,yt.cancel(this.timeout)}}function zr({interaction:e,event:t}){return!e._interacting||e.simulation?null:e.inertia.start(t)?!1:null}function Tr(e){const{interaction:t,eventTarget:n}=e,o=t.inertia;if(!o.active)return;let i=n;for(;g.element(i);){if(i===t.element){o.resume(e);break}i=st(i)}}function Pr({interaction:e}){const t=e.inertia;t.active&&t.stop()}function ie({interactable:e,prepared:t}){return e&&e.options&&t.name&&e.options[t.name].inertia}const _r={id:"inertia",before:["modifiers","actions"],install:Er,listeners:{"interactions:new":({interaction:e})=>{e.inertia=new Ir(e)},"interactions:before-action-end":zr,"interactions:down":Tr,"interactions:stop":Pr,"interactions:before-action-resume":e=>{const{modification:t}=e.interaction;t.stop(e),t.start(e,e.interaction.coords.cur.page),t.applyToInteraction(e)},"interactions:before-action-inertiastart":e=>e.interaction.modification.setAndApply(e),"interactions:action-resume":Yt,"interactions:action-inertiastart":Yt,"interactions:after-action-inertiastart":e=>e.interaction.modification.restoreInteractionCoords(e),"interactions:after-action-resume":e=>e.interaction.modification.restoreInteractionCoords(e)}};function wn(e,t,n,o){const i=1-e;return i*i*t+2*i*e*n+e*e*o}function Dr(e,t,n,o,i,r,s){return{x:wn(s,e,n,i),y:wn(s,t,o,r)}}function Sn(e,t,n,o){return e/=o,-n*e*(e-2)+t}const Or=_r;function En(e,t){for(const n of t){if(e.immediatePropagationStopped)break;n(e)}}class mo{constructor(t){d(this,"options");d(this,"types",{});d(this,"propagationStopped",!1);d(this,"immediatePropagationStopped",!1);d(this,"global");this.options=_({},t||{})}fire(t){let n;const o=this.global;(n=this.types[t.type])&&En(t,n),!t.propagationStopped&&o&&(n=o[t.type])&&En(t,n)}on(t,n){const o=Dt(t,n);for(t in o)this.types[t]=to(this.types[t]||[],o[t])}off(t,n){const o=Dt(t,n);for(t in o){const i=this.types[t];if(!(!i||!i.length))for(const r of o[t]){const s=i.indexOf(r);s!==-1&&i.splice(s,1)}}}getRect(t){return null}}function Fe(e,t){if(t.phaselessTypes[e])return!0;for(const n in t.map)if(e.indexOf(n)===0&&e.substr(n.length)in t.phases)return!0;return!1}function Cr(e){const t=(n,o)=>{let i=e.interactables.get(n,o);return i||(i=e.interactables.new(n,o),i.events.global=t.globalEvents),i};return t.getPointerAverage=Jn,t.getTouchBBox=Oe,t.getTouchDistance=Ce,t.getTouchAngle=Me,t.getElementRect=Ue,t.getElementClientRect=Ge,t.matchesSelector=xt,t.closest=Xn,t.globalEvents={},t.version="1.10.20",t.scope=e,t.use=function(n,o){return this.scope.usePlugin(n,o),this},t.isSet=function(n,o){return!!this.scope.interactables.get(n,o&&o.context)},t.on=Kt(function(o,i,r){if(g.string(o)&&o.search(" ")!==-1&&(o=o.trim().split(/ +/)),g.array(o)){for(const s of o)this.on(s,i,r);return this}if(g.object(o)){for(const s in o)this.on(s,o[s],i);return this}return Fe(o,this.scope.actions)?this.globalEvents[o]?this.globalEvents[o].push(i):this.globalEvents[o]=[i]:this.scope.events.add(this.scope.document,o,i,{options:r}),this},"The interact.on() method is being deprecated"),t.off=Kt(function(o,i,r){if(g.string(o)&&o.search(" ")!==-1&&(o=o.trim().split(/ +/)),g.array(o)){for(const s of o)this.off(s,i,r);return this}if(g.object(o)){for(const s in o)this.off(s,o[s],i);return this}if(Fe(o,this.scope.actions)){let s;o in this.globalEvents&&(s=this.globalEvents[o].indexOf(i))!==-1&&this.globalEvents[o].splice(s,1)}else this.scope.events.remove(this.scope.document,o,i,r);return this},"The interact.off() method is being deprecated"),t.debug=function(){return this.scope},t.supportsTouch=function(){return it.supportsTouch},t.supportsPointerEvent=function(){return it.supportsPointerEvent},t.stop=function(){for(const n of this.scope.interactions.list)n.stop();return this},t.pointerMoveTolerance=function(n){return g.number(n)?(this.scope.interactions.pointerMoveTolerance=n,this):this.scope.interactions.pointerMoveTolerance},t.addDocument=function(n,o){this.scope.addDocument(n,o)},t.removeDocument=function(n){this.scope.removeDocument(n)},t}class Mr{constructor(t,n,o,i){d(this,"options");d(this,"_actions");d(this,"target");d(this,"events",new mo);d(this,"_context");d(this,"_win");d(this,"_doc");d(this,"_scopeEvents");this._actions=n.actions,this.target=t,this._context=n.context||o,this._win=ht(un(t)?this._context:t),this._doc=this._win.document,this._scopeEvents=i,this.set(n)}get _defaults(){return{base:{},perAction:{},actions:{}}}setOnEvents(t,n){return g.func(n.onstart)&&this.on(`${t}start`,n.onstart),g.func(n.onmove)&&this.on(`${t}move`,n.onmove),g.func(n.onend)&&this.on(`${t}end`,n.onend),g.func(n.oninertiastart)&&this.on(`${t}inertiastart`,n.oninertiastart),this}updatePerActionListeners(t,n,o){(g.array(n)||g.object(n))&&this.off(t,n),(g.array(o)||g.object(o))&&this.on(t,o)}setPerAction(t,n){const o=this._defaults;for(const i in n){const r=i,s=this.options[t],a=n[r];r==="listeners"&&this.updatePerActionListeners(t,s.listeners,a),g.array(a)?s[r]=Ve(a):g.plainObject(a)?(s[r]=_(s[r]||{},$t(a)),g.object(o.perAction[r])&&"enabled"in o.perAction[r]&&(s[r].enabled=a.enabled!==!1)):g.bool(a)&&g.object(o.perAction[r])?s[r].enabled=a:s[r]=a}}getRect(t){return t=t||(g.element(this.target)?this.target:null),g.string(this.target)&&(t=t||this._context.querySelector(this.target)),Ue(t)}rectChecker(t){return g.func(t)?(this.getRect=n=>{const o=_({},t.apply(this,n));return"width"in o||(o.width=o.right-o.left,o.height=o.bottom-o.top),o},this):t===null?(delete this.getRect,this):this.getRect}_backCompatOption(t,n){if(un(n)||g.object(n)){this.options[t]=n;for(const o in this._actions.map)this.options[o][t]=n;return this}return this.options[t]}origin(t){return this._backCompatOption("origin",t)}deltaSource(t){return t==="page"||t==="client"?(this.options.deltaSource=t,this):this.options.deltaSource}context(){return this._context}inContext(t){return this._context===t.ownerDocument||_t(this._context,t)}testIgnoreAllow(t,n,o){return!this.testIgnore(t.ignoreFrom,n,o)&&this.testAllow(t.allowFrom,n,o)}testAllow(t,n,o){return t?g.element(o)?g.string(t)?_e(o,t,n):g.element(t)?_t(t,o):!1:!1:!0}testIgnore(t,n,o){return!t||!g.element(o)?!1:g.string(t)?_e(o,t,n):g.element(t)?_t(t,o):!1}fire(t){return this.events.fire(t),this}_onOff(t,n,o,i){g.object(n)&&!g.array(n)&&(i=o,o=null);const r=t==="on"?"add":"remove",s=Dt(n,o);for(let a in s){a==="wheel"&&(a=it.wheelEvent);for(const l of s[a])Fe(a,this._actions)?this.events[t](a,l):g.string(this.target)?this._scopeEvents[`${r}Delegate`](this.target,this._context,a,l,i):this._scopeEvents[r](this.target,a,l,i)}return this}on(t,n,o){return this._onOff("on",t,n,o)}off(t,n,o){return this._onOff("off",t,n,o)}set(t){const n=this._defaults;g.object(t)||(t={}),this.options=$t(n.base);for(const o in this._actions.methodDict){const i=o,r=this._actions.methodDict[i];this.options[i]={},this.setPerAction(i,_(_({},n.perAction),n.actions[i])),this[r](t[i])}for(const o in t)g.func(this[o])&&this[o](t[o]);return this}unset(){if(g.string(this.target))for(const t in this._scopeEvents.delegatedEvents){const n=this._scopeEvents.delegatedEvents[t];for(let o=n.length-1;o>=0;o--){const{selector:i,context:r,listeners:s}=n[o];i===this.target&&r===this._context&&n.splice(o,1);for(let a=s.length-1;a>=0;a--)this._scopeEvents.removeDelegate(this.target,this._context,t,s[a][0],s[a][1])}}else this._scopeEvents.remove(this.target,"all")}}class kr{constructor(t){d(this,"list",[]);d(this,"selectorMap",{});d(this,"scope");this.scope=t,t.addListeners({"interactable:unset":({interactable:n})=>{const{target:o,_context:i}=n,r=g.string(o)?this.selectorMap[o]:o[this.scope.id],s=Zt(r,a=>a.context===i);r[s]&&(r[s].context=null,r[s].interactable=null),r.splice(s,1)}})}new(t,n){n=_(n||{},{actions:this.scope.actions});const o=new this.scope.Interactable(t,n,this.scope.document,this.scope.events),i={context:o._context,interactable:o};return this.scope.addDocument(o._doc),this.list.push(o),g.string(t)?(this.selectorMap[t]||(this.selectorMap[t]=[]),this.selectorMap[t].push(i)):(o.target[this.scope.id]||Object.defineProperty(t,this.scope.id,{value:[],configurable:!0}),t[this.scope.id].push(i)),this.scope.fire("interactable:new",{target:t,options:n,interactable:o,win:this.scope._win}),o}get(t,n){const o=n&&n.context||this.scope.document,i=g.string(t),r=i?this.selectorMap[t]:t[this.scope.id];if(!r)return null;const s=ue(r,a=>a.context===o&&(i||a.interactable.inContext(t)));return s&&s.interactable}forEachMatch(t,n){for(const o of this.list){let i;if((g.string(o.target)?g.element(t)&&xt(t,o.target):t===o.target)&&o.inContext(t)&&(i=n(o)),i!==void 0)return i}}}function Rr(e){var t;const n=[],o={},i=[],r={add:s,remove:a,addDelegate:l,removeDelegate:c,delegateListener:u,delegateUseCapture:f,delegatedEvents:o,documents:i,targets:n,supportsOptions:!1,supportsPassive:!1};(t=e.document)==null||t.createElement("div").addEventListener("test",null,{get capture(){return r.supportsOptions=!0},get passive(){return r.supportsPassive=!0}}),e.events=r;function s(h,m,y,O){const z=Ft(O);let R=ue(n,D=>D.eventTarget===h);R||(R={eventTarget:h,events:{}},n.push(R)),R.events[m]||(R.events[m]=[]),h.addEventListener&&!pi(R.events[m],y)&&(h.addEventListener(m,y,r.supportsOptions?z:z.capture),R.events[m].push(y))}function a(h,m,y,O){const z=Ft(O),R=Zt(n,p=>p.eventTarget===h),D=n[R];if(!D||!D.events)return;if(m==="all"){for(m in D.events)D.events.hasOwnProperty(m)&&a(h,m,"all");return}let M=!1;const b=D.events[m];if(b){if(y==="all"){for(let p=b.length-1;p>=0;p--)a(h,m,b[p],z);return}else for(let p=0;p<b.length;p++)if(b[p]===y){h.removeEventListener(m,y,r.supportsOptions?z:z.capture),b.splice(p,1),b.length===0&&(delete D.events[m],M=!0);break}}M&&!Object.keys(D.events).length&&n.splice(R,1)}function l(h,m,y,O,z){const R=Ft(z);if(!o[y]){o[y]=[];for(const b of i)s(b,y,u),s(b,y,f,!0)}const D=o[y];let M=ue(D,b=>b.selector===h&&b.context===m);M||(M={selector:h,context:m,listeners:[]},D.push(M)),M.listeners.push([O,R])}function c(h,m,y,O,z){const R=Ft(z),D=o[y];let M=!1,b;if(D)for(b=D.length-1;b>=0;b--){const p=D[b];if(p.selector===h&&p.context===m){const{listeners:k}=p;for(let w=k.length-1;w>=0;w--){const[B,{capture:L,passive:A}]=k[w];if(B===O&&L===R.capture&&A===R.passive){k.splice(w,1),k.length||(D.splice(b,1),a(m,y,u),a(m,y,f,!0)),M=!0;break}}if(M)break}}}function u(h,m){const y=Ft(m),O=new Ar(h),z=o[h.type],[R]=Zn(h);let D=R;for(;g.element(D);){for(let M=0;M<z.length;M++){const b=z[M],{selector:p,context:k}=b;if(xt(D,p)&&_t(k,R)&&_t(k,D)){const{listeners:w}=b;O.currentTarget=D;for(const[B,{capture:L,passive:A}]of w)L===y.capture&&A===y.passive&&B(O)}}D=st(D)}}function f(h){return u.call(this,h,!0)}return r}class Ar{constructor(t){d(this,"currentTarget");d(this,"originalEvent");d(this,"type");this.originalEvent=t,ce(this,t)}preventOriginalDefault(){this.originalEvent.preventDefault()}stopPropagation(){this.originalEvent.stopPropagation()}stopImmediatePropagation(){this.originalEvent.stopImmediatePropagation()}}function Ft(e){if(!g.object(e))return{capture:!!e,passive:!1};const t=_({},e);return t.capture=!!e.capture,t.passive=!!e.passive,t}const Nr={id:"events",install:Rr},Be={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search(e){for(const t of Be.methodOrder){const n=Be[t](e);if(n)return n}return null},simulationResume({pointerType:e,eventType:t,eventTarget:n,scope:o}){if(!/down|start/i.test(t))return null;for(const i of o.interactions.list){let r=n;if(i.simulation&&i.simulation.allowResume&&i.pointerType===e)for(;r;){if(r===i.element)return i;r=st(r)}}return null},mouseOrPen({pointerId:e,pointerType:t,eventType:n,scope:o}){if(t!=="mouse"&&t!=="pen")return null;let i;for(const r of o.interactions.list)if(r.pointerType===t){if(r.simulation&&!In(r,e))continue;if(r.interacting())return r;i||(i=r)}if(i)return i;for(const r of o.interactions.list)if(r.pointerType===t&&!(/down/i.test(n)&&r.simulation))return r;return null},hasPointer({pointerId:e,scope:t}){for(const n of t.interactions.list)if(In(n,e))return n;return null},idle({pointerType:e,scope:t}){for(const n of t.interactions.list){if(n.pointers.length===1){const o=n.interactable;if(o&&!(o.options.gesture&&o.options.gesture.enabled))continue}else if(n.pointers.length>=2)continue;if(!n.interacting()&&e===n.pointerType)return n}return null}};function In(e,t){return e.pointers.some(({id:n})=>n===t)}const $r=Be,vo=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Lr(e){const t={};for(const r of vo)t[r]=yo(r,e);const n=it.pEventTypes;let o;J.PointerEvent?o=[{type:n.down,listener:i},{type:n.down,listener:t.pointerDown},{type:n.move,listener:t.pointerMove},{type:n.up,listener:t.pointerUp},{type:n.cancel,listener:t.pointerUp}]:o=[{type:"mousedown",listener:t.pointerDown},{type:"mousemove",listener:t.pointerMove},{type:"mouseup",listener:t.pointerUp},{type:"touchstart",listener:i},{type:"touchstart",listener:t.pointerDown},{type:"touchmove",listener:t.pointerMove},{type:"touchend",listener:t.pointerUp},{type:"touchcancel",listener:t.pointerUp}],o.push({type:"blur",listener(r){for(const s of e.interactions.list)s.documentBlur(r)}}),e.prevTouchTime=0,e.Interaction=class extends mr{get pointerMoveTolerance(){return e.interactions.pointerMoveTolerance}set pointerMoveTolerance(r){e.interactions.pointerMoveTolerance=r}_now(){return e.now()}},e.interactions={list:[],new(r){r.scopeFire=(a,l)=>e.fire(a,l);const s=new e.Interaction(r);return e.interactions.list.push(s),s},listeners:t,docEvents:o,pointerMoveTolerance:1};function i(){for(const r of e.interactions.list)if(!(!r.pointerIsDown||r.pointerType!=="touch"||r._interacting))for(const s of r.pointers)e.documents.some(({doc:a})=>_t(a,s.downTarget))||r.removePointer(s.pointer,s.event)}e.usePlugin(lo)}function yo(e,t){return function(n){const o=t.interactions.list,i=Qn(n),[r,s]=Zn(n),a=[];if(/^touch/.test(n.type)){t.prevTouchTime=t.now();for(const l of n.changedTouches){const c=l,u=Vt(c),f={pointer:c,pointerId:u,pointerType:i,eventType:n.type,eventTarget:r,curEventTarget:s,scope:t},h=zn(f);a.push([f.pointer,f.eventTarget,f.curEventTarget,h])}}else{let l=!1;if(!it.supportsPointerEvent&&/mouse/.test(n.type)){for(let c=0;c<o.length&&!l;c++)l=o[c].pointerType!=="mouse"&&o[c].pointerIsDown;l=l||t.now()-t.prevTouchTime<500||n.timeStamp===0}if(!l){const c={pointer:n,pointerId:Vt(n),pointerType:i,eventType:n.type,curEventTarget:s,eventTarget:r,scope:t},u=zn(c);a.push([c.pointer,c.eventTarget,c.curEventTarget,u])}}for(const[l,c,u,f]of a)f[e](l,n,c,u)}}function zn(e){const{pointerType:t,scope:n}=e,i={interaction:$r.search(e),searchDetails:e};return n.fire("interactions:find",i),i.interaction||n.interactions.new({pointerType:t})}function ze({doc:e,scope:t,options:n},o){const{interactions:{docEvents:i},events:r}=t,s=r[o];t.browser.isIOS&&!n.events&&(n.events={passive:!1});for(const l in r.delegatedEvents)s(e,l,r.delegateListener),s(e,l,r.delegateUseCapture,!0);const a=n&&n.events;for(const{type:l,listener:c}of i)s(e,l,c,a)}const Hr={id:"core/interactions",install:Lr,listeners:{"scope:add-document":e=>ze(e,"add"),"scope:remove-document":e=>ze(e,"remove"),"interactable:unset":({interactable:e},t)=>{for(let n=t.interactions.list.length-1;n>=0;n--){const o=t.interactions.list[n];o.interactable===e&&(o.stop(),t.fire("interactions:destroy",{interaction:o}),o.destroy(),t.interactions.list.length>2&&t.interactions.list.splice(n,1))}}},onDocSignal:ze,doOnInteractions:yo,methodNames:vo},Fr=Hr;class Br{constructor(){d(this,"id",`__interact_scope_${Math.floor(Math.random()*100)}`);d(this,"isInitialized",!1);d(this,"listenerMaps",[]);d(this,"browser",it);d(this,"defaults",$t(po));d(this,"Eventable",mo);d(this,"actions",{map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}});d(this,"interactStatic",Cr(this));d(this,"InteractEvent",Ze);d(this,"Interactable");d(this,"interactables",new kr(this));d(this,"_win");d(this,"document");d(this,"window");d(this,"documents",[]);d(this,"_plugins",{list:[],map:{}});d(this,"onWindowUnload",t=>this.removeDocument(t.target));const t=this;this.Interactable=class extends Mr{get _defaults(){return t.defaults}set(n){return super.set(n),t.fire("interactable:set",{options:n,interactable:this}),this}unset(){super.unset();const n=t.interactables.list.indexOf(this);n<0||(t.interactables.list.splice(n,1),t.fire("interactable:unset",{interactable:this}))}}}addListeners(t,n){this.listenerMaps.push({id:n,map:t})}fire(t,n){for(const{map:{[t]:o}}of this.listenerMaps)if(o&&o(n,this,t)===!1)return!1}init(t){return this.isInitialized?this:jr(this,t)}pluginIsInstalled(t){const{id:n}=t;return n?!!this._plugins.map[n]:this._plugins.list.indexOf(t)!==-1}usePlugin(t,n){if(!this.isInitialized)return this;if(this.pluginIsInstalled(t))return this;if(t.id&&(this._plugins.map[t.id]=t),this._plugins.list.push(t),t.install&&t.install(this,n),t.listeners&&t.before){let o=0;const i=this.listenerMaps.length,r=t.before.reduce((s,a)=>(s[a]=!0,s[Tn(a)]=!0,s),{});for(;o<i;o++){const s=this.listenerMaps[o].id;if(s&&(r[s]||r[Tn(s)]))break}this.listenerMaps.splice(o,0,{id:t.id,map:t.listeners})}else t.listeners&&this.listenerMaps.push({id:t.id,map:t.listeners});return this}addDocument(t,n){if(this.getDocIndex(t)!==-1)return!1;const o=ht(t);n=n?_({},n):{},this.documents.push({doc:t,options:n}),this.events.documents.push(t),t!==this.document&&this.events.add(o,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:t,window:o,scope:this,options:n})}removeDocument(t){const n=this.getDocIndex(t),o=ht(t),i=this.documents[n].options;this.events.remove(o,"unload",this.onWindowUnload),this.documents.splice(n,1),this.events.documents.splice(n,1),this.fire("scope:remove-document",{doc:t,window:o,scope:this,options:i})}getDocIndex(t){for(let n=0;n<this.documents.length;n++)if(this.documents[n].doc===t)return n;return-1}getDocOptions(t){const n=this.getDocIndex(t);return n===-1?null:this.documents[n].options}now(){return(this.window.Date||Date).now()}}function jr(e,t){return e.isInitialized=!0,g.window(t)&&jn(t),J.init(t),it.init(t),yt.init(t),e.window=t,e.document=t.document,e.usePlugin(Fr),e.usePlugin(Nr),e}function Tn(e){return e&&e.replace(/\/.*$/,"")}const bo=new Br,Wr=bo.interactStatic,Q=Wr,Yr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:globalThis;bo.init(Yr);const Xr=()=>{},Gr=()=>{},Ur=e=>{const t=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(([o,i])=>o in e||i in e),n=(o,i)=>{const{range:r,limits:s={left:-1/0,right:1/0,top:-1/0,bottom:1/0},offset:a={x:0,y:0}}=e,l={range:r,grid:e,x:null,y:null};for(const[c,u]of t){const f=Math.round((o-a.x)/e[c]),h=Math.round((i-a.y)/e[u]);l[c]=Math.max(s.left,Math.min(s.right,f*e[c]+a.x)),l[u]=Math.max(s.top,Math.min(s.bottom,h*e[u]+a.y))}return l};return n.grid=e,n.coordFields=t,n},qr=Object.freeze(Object.defineProperty({__proto__:null,edgeTarget:Xr,elements:Gr,grid:Ur},Symbol.toStringTag,{value:"Module"})),Vr={id:"snappers",install(e){const{interactStatic:t}=e;t.snappers=_(t.snappers||{},qr),t.createSnapGrid=t.snappers.grid}},Kr=Vr,Jr={start(e){const{state:t,rect:n,edges:o,pageCoords:i}=e;let{ratio:r,enabled:s}=t.options;const{equalDelta:a,modifiers:l}=t.options;r==="preserve"&&(r=n.width/n.height),t.startCoords=_({},i),t.startRect=_({},n),t.ratio=r,t.equalDelta=a;const c=t.linkedEdges={top:o.top||o.left&&!o.bottom,left:o.left||o.top&&!o.right,bottom:o.bottom||o.right&&!o.top,right:o.right||o.bottom&&!o.left};if(t.xIsPrimaryAxis=!!(o.left||o.right),t.equalDelta){const f=(c.left?1:-1)*(c.top?1:-1);t.edgeSign={x:f,y:f}}else t.edgeSign={x:c.left?-1:1,y:c.top?-1:1};if(s!==!1&&_(o,c),!(l!=null&&l.length))return;const u=new Qe(e.interaction);u.copyFrom(e.interaction.modification),u.prepareStates(l),t.subModification=u,u.startAll({...e})},set(e){const{state:t,rect:n,coords:o}=e,{linkedEdges:i}=t,r=_({},o),s=t.equalDelta?Qr:Zr;if(_(e.edges,i),s(t,t.xIsPrimaryAxis,o,n),!t.subModification)return null;const a=_({},n);ve(i,a,{x:o.x-r.x,y:o.y-r.y});const l=t.subModification.setAll({...e,rect:a,edges:i,pageCoords:o,prevCoords:o,prevRect:a}),{delta:c}=l;if(l.changed){const u=Math.abs(c.x)>Math.abs(c.y);s(t,u,l.coords,l.rect),_(o,l.coords)}return l.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function Qr({startCoords:e,edgeSign:t},n,o){n?o.y=e.y+(o.x-e.x)*t.y:o.x=e.x+(o.y-e.y)*t.x}function Zr({startRect:e,startCoords:t,ratio:n,edgeSign:o},i,r,s){if(i){const a=s.width/n;r.y=t.y+(a-e.height)*o.y}else{const a=s.height*n;r.x=t.x+(a-e.width)*o.x}}const ts=St(Jr,"aspectRatio"),xo=()=>{};xo._defaults={};const re=xo;function es({rect:e,startOffset:t,state:n,interaction:o,pageCoords:i}){const{options:r}=n,{elementRect:s}=r,a=_({left:0,top:0,right:0,bottom:0},r.offset||{});if(e&&s){const l=Ot(r.restriction,o,i);if(l){const c=l.right-l.left-e.width,u=l.bottom-l.top-e.height;c<0&&(a.left+=c,a.right+=c),u<0&&(a.top+=u,a.bottom+=u)}a.left+=t.left-e.width*s.left,a.top+=t.top-e.height*s.top,a.right+=t.right-e.width*(1-s.right),a.bottom+=t.bottom-e.height*(1-s.bottom)}n.offset=a}function ns({coords:e,interaction:t,state:n}){const{options:o,offset:i}=n,r=Ot(o.restriction,t,e);if(!r)return;const s=si(r);e.x=Math.max(Math.min(s.right-i.right,e.x),s.left+i.left),e.y=Math.max(Math.min(s.bottom-i.bottom,e.y),s.top+i.top)}function Ot(e,t,n){return g.func(e)?qt(e,t.interactable,t.element,[n.x,n.y,t]):qt(e,t.interactable,t.element)}const os={restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1},de={start:es,set:ns,defaults:os},is=St(de,"restrict"),wo={top:1/0,left:1/0,bottom:-1/0,right:-1/0},So={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function rs({interaction:e,startOffset:t,state:n}){const{options:o}=n;let i;if(o){const r=Ot(o.offset,e,e.coords.start.page);i=me(r)}i=i||{x:0,y:0},n.offset={top:i.y+t.top,left:i.x+t.left,bottom:i.y-t.bottom,right:i.x-t.right}}function ss({coords:e,edges:t,interaction:n,state:o}){const{offset:i,options:r}=o;if(!t)return;const s=_({},e),a=Ot(r.inner,n,s)||{},l=Ot(r.outer,n,s)||{};Pn(a,wo),Pn(l,So),t.top?e.y=Math.min(Math.max(l.top+i.top,s.y),a.top+i.top):t.bottom&&(e.y=Math.max(Math.min(l.bottom+i.bottom,s.y),a.bottom+i.bottom)),t.left?e.x=Math.min(Math.max(l.left+i.left,s.x),a.left+i.left):t.right&&(e.x=Math.max(Math.min(l.right+i.right,s.x),a.right+i.right))}function Pn(e,t){for(const n of["top","left","bottom","right"])n in e||(e[n]=t[n]);return e}const as={inner:null,outer:null,offset:null,endOnly:!1,enabled:!1},Xt={noInner:wo,noOuter:So,start:rs,set:ss,defaults:as},cs=St(Xt,"restrictEdges"),ls=_({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(e){}},de.defaults),us={start:de.start,set:de.set,defaults:ls},fs=St(us,"restrictRect"),ds={width:-1/0,height:-1/0},ps={width:1/0,height:1/0};function hs(e){return Xt.start(e)}function gs(e){const{interaction:t,state:n,rect:o,edges:i}=e,{options:r}=n;if(!i)return;const s=De(Ot(r.min,t,e.coords))||ds,a=De(Ot(r.max,t,e.coords))||ps;n.options={endOnly:r.endOnly,inner:_({},Xt.noInner),outer:_({},Xt.noOuter)},i.top?(n.options.inner.top=o.bottom-s.height,n.options.outer.top=o.bottom-a.height):i.bottom&&(n.options.inner.bottom=o.top+s.height,n.options.outer.bottom=o.top+a.height),i.left?(n.options.inner.left=o.right-s.width,n.options.outer.left=o.right-a.width):i.right&&(n.options.inner.right=o.left+s.width,n.options.outer.right=o.left+a.width),Xt.set(e),n.options=r}const ms={min:null,max:null,endOnly:!1,enabled:!1},vs={start:hs,set:gs,defaults:ms},ys=St(vs,"restrictSize");function bs(e){const{interaction:t,interactable:n,element:o,rect:i,state:r,startOffset:s}=e,{options:a}=r,l=a.offsetWithOrigin?ws(e):{x:0,y:0};let c;if(a.offset==="startCoords")c={x:t.coords.start.page.x,y:t.coords.start.page.y};else{const f=qt(a.offset,n,o,[t]);c=me(f)||{x:0,y:0},c.x+=l.x,c.y+=l.y}const{relativePoints:u}=a;r.offsets=i&&u&&u.length?u.map((f,h)=>({index:h,relativePoint:f,x:s.left-i.width*f.x+c.x,y:s.top-i.height*f.y+c.y})):[{index:0,relativePoint:null,x:c.x,y:c.y}]}function xs(e){const{interaction:t,coords:n,state:o}=e,{options:i,offsets:r}=o,s=Jt(t.interactable,t.element,t.prepared.name),a=_({},n),l=[];i.offsetWithOrigin||(a.x-=s.x,a.y-=s.y);for(const u of r){const f=a.x-u.x,h=a.y-u.y;for(let m=0,y=i.targets.length;m<y;m++){const O=i.targets[m];let z;g.func(O)?z=O(f,h,t._proxy,u,m):z=O,z&&l.push({x:(g.number(z.x)?z.x:f)+u.x,y:(g.number(z.y)?z.y:h)+u.y,range:g.number(z.range)?z.range:i.range,source:O,index:m,offset:u})}}const c={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}};for(const u of l){const f=u.range,h=u.x-a.x,m=u.y-a.y,y=Qt(h,m);let O=y<=f;f===1/0&&c.inRange&&c.range!==1/0&&(O=!1),(!c.target||(O?c.inRange&&f!==1/0?y/f<c.distance/c.range:f===1/0&&c.range!==1/0||y<c.distance:!c.inRange&&y<c.distance))&&(c.target=u,c.distance=y,c.range=f,c.inRange=O,c.delta.x=h,c.delta.y=m)}return c.inRange&&(n.x=c.target.x,n.y=c.target.y),o.closest=c,c}function ws(e){const{element:t}=e.interaction;return me(qt(e.state.options.origin,null,null,[t]))||Jt(e.interactable,t,e.interaction.prepared.name)}const Ss={range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1},tn={start:bs,set:xs,defaults:Ss},Es=St(tn,"snap");function Is(e){const{state:t,edges:n}=e,{options:o}=t;if(!n)return null;e.state={options:{targets:null,relativePoints:[{x:n.left?0:1,y:n.top?0:1}],offset:o.offset||"self",origin:{x:0,y:0},range:o.range}},t.targetFields=t.targetFields||[["width","height"],["x","y"]],tn.start(e),t.offsets=e.state.offsets,e.state=t}function zs(e){const{interaction:t,state:n,coords:o}=e,{options:i,offsets:r}=n,s={x:o.x-r[0].x,y:o.y-r[0].y};n.options=_({},i),n.options.targets=[];for(const l of i.targets||[]){let c;if(g.func(l)?c=l(s.x,s.y,t):c=l,!!c){for(const[u,f]of n.targetFields)if(u in c||f in c){c.x=c[u],c.y=c[f];break}n.options.targets.push(c)}}const a=tn.set(e);return n.options=i,a}const Ts={range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1},pe={start:Is,set:zs,defaults:Ts},Ps=St(pe,"snapSize");function _s(e){const{edges:t}=e;return t?(e.state.targetFields=e.state.targetFields||[[t.left?"left":"right",t.top?"top":"bottom"]],pe.start(e)):null}const Ds={start:_s,set:pe.set,defaults:_($t(pe.defaults),{targets:void 0,range:void 0,offset:{x:0,y:0}})},Os=St(Ds,"snapEdges"),Te={aspectRatio:ts,restrictEdges:cs,restrict:is,restrictRect:fs,restrictSize:ys,snapEdges:Os,snap:Es,snapSize:Ps,spring:re,avoid:re,transform:re,rubberband:re},Cs={id:"modifiers",install(e){const{interactStatic:t}=e;e.usePlugin(fo),e.usePlugin(Kr),t.modifiers=Te;for(const n in Te){const{_defaults:o,_methods:i}=Te[n];o._methods=i,e.defaults.perAction[n]=o}}},Ms=Cs;class Eo extends ye{constructor(t,n,o,i,r,s){if(super(r),ce(this,o),o!==n&&ce(this,n),this.timeStamp=s,this.originalEvent=o,this.type=t,this.pointerId=Vt(n),this.pointerType=Qn(n),this.target=i,this.currentTarget=null,t==="tap"){const a=r.getPointerIndex(n);this.dt=this.timeStamp-r.pointers[a].downTime;const l=this.timeStamp-r.tapTime;this.double=!!r.prevTap&&r.prevTap.type!=="doubletap"&&r.prevTap.target===this.target&&l<500}else t==="doubletap"&&(this.dt=n.timeStamp-r.tapTime,this.double=!0)}_subtractOrigin({x:t,y:n}){return this.pageX-=t,this.pageY-=n,this.clientX-=t,this.clientY-=n,this}_addOrigin({x:t,y:n}){return this.pageX+=t,this.pageY+=n,this.clientX+=t,this.clientY+=n,this}preventDefault(){this.originalEvent.preventDefault()}}const ks={holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},Gt={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:Hs,listeners:{"interactions:new":Rs,"interactions:update-pointer":As,"interactions:move":Ns,"interactions:down":(e,t)=>{$s(e,t),bt(e,t)},"interactions:up":(e,t)=>{je(e),bt(e,t),Ls(e,t)},"interactions:cancel":(e,t)=>{je(e),bt(e,t)}},PointerEvent:Eo,fire:bt,collectEventTargets:Io,defaults:ks,types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function bt(e,t){const{interaction:n,pointer:o,event:i,eventTarget:r,type:s,targets:a=Io(e,t)}=e,l=new Eo(s,o,i,r,n,t.now());t.fire("pointerEvents:new",{pointerEvent:l});const c={interaction:n,pointer:o,event:i,eventTarget:r,targets:a,type:s,pointerEvent:l};for(let u=0;u<a.length;u++){const f=a[u];for(const m in f.props||{})l[m]=f.props[m];const h=Jt(f.eventable,f.node);if(l._subtractOrigin(h),l.eventable=f.eventable,l.currentTarget=f.node,f.eventable.fire(l),l._addOrigin(h),l.immediatePropagationStopped||l.propagationStopped&&u+1<a.length&&a[u+1].node!==l.currentTarget)break}if(t.fire("pointerEvents:fired",c),s==="tap"){const u=l.double?bt({interaction:n,pointer:o,event:i,eventTarget:r,type:"doubletap"},t):l;n.prevTap=u,n.tapTime=u.timeStamp}return l}function Io({interaction:e,pointer:t,event:n,eventTarget:o,type:i},r){const s=e.getPointerIndex(t),a=e.pointers[s];if(i==="tap"&&(e.pointerWasMoved||!(a&&a.downTarget===o)))return[];const l=Gn(o),c={interaction:e,pointer:t,event:n,eventTarget:o,type:i,path:l,targets:[],node:null};for(const u of l)c.node=u,r.fire("pointerEvents:collect-targets",c);return i==="hold"&&(c.targets=c.targets.filter(u=>{var f,h;return u.eventable.options.holdDuration===((f=e.pointers[s])==null||(h=f.hold)==null?void 0:h.duration)})),c.targets}function Rs({interaction:e}){e.prevTap=null,e.tapTime=0}function As({down:e,pointerInfo:t}){!e&&t.hold||(t.hold={duration:1/0,timeout:null})}function je({interaction:e,pointerIndex:t}){const n=e.pointers[t].hold;n&&n.timeout&&(clearTimeout(n.timeout),n.timeout=null)}function Ns(e,t){const{interaction:n,pointer:o,event:i,eventTarget:r,duplicate:s}=e;!s&&(!n.pointerIsDown||n.pointerWasMoved)&&(n.pointerIsDown&&je(e),bt({interaction:n,pointer:o,event:i,eventTarget:r,type:"move"},t))}function $s({interaction:e,pointer:t,event:n,eventTarget:o,pointerIndex:i},r){const s=e.pointers[i].hold,a=Gn(o),l={interaction:e,pointer:t,event:n,eventTarget:o,type:"hold",targets:[],path:a,node:null};for(const u of a)l.node=u,r.fire("pointerEvents:collect-targets",l);if(!l.targets.length)return;let c=1/0;for(const u of l.targets){const f=u.eventable.options.holdDuration;f<c&&(c=f)}s.duration=c,s.timeout=setTimeout(()=>{bt({interaction:e,eventTarget:o,pointer:t,event:n,type:"hold"},r)},c)}function Ls({interaction:e,pointer:t,event:n,eventTarget:o},i){e.pointerWasMoved||bt({interaction:e,eventTarget:o,pointer:t,event:n,type:"tap"},i)}function Hs(e){e.pointerEvents=Gt,e.defaults.actions.pointerEvents=Gt.defaults,_(e.actions.phaselessTypes,Gt.types)}const Fs=Object.freeze(Object.defineProperty({__proto__:null,default:Gt},Symbol.toStringTag,{value:"Module"}));function Bs(e){e.usePlugin(Gt);const{pointerEvents:t}=e;t.defaults.holdRepeatInterval=0,t.types.holdrepeat=e.actions.phaselessTypes.holdrepeat=!0}function js({pointerEvent:e}){e.type==="hold"&&(e.count=(e.count||0)+1)}function Ws({interaction:e,pointerEvent:t,eventTarget:n,targets:o},i){if(t.type!=="hold"||!o.length)return;const r=o[0].eventable.options.holdRepeatInterval;r<=0||(e.holdIntervalHandle=setTimeout(()=>{i.pointerEvents.fire({interaction:e,eventTarget:n,type:"hold",pointer:t,event:t},i)},r))}function Ys({interaction:e}){e.holdIntervalHandle&&(clearInterval(e.holdIntervalHandle),e.holdIntervalHandle=null)}const Xs={id:"pointer-events/holdRepeat",install:Bs,listeners:["move","up","cancel","endall"].reduce((e,t)=>(e[`pointerEvents:${t}`]=Ys,e),{"pointerEvents:new":js,"pointerEvents:fired":Ws})},Gs=Xs;function Us(e){const{Interactable:t}=e;t.prototype.pointerEvents=qs;const n=t.prototype._backCompatOption;t.prototype._backCompatOption=function(o,i){const r=n.call(this,o,i);return r===this&&(this.events.options[o]=i),r}}function qs(e){return _(this.events.options,e),this}const Vs={id:"pointer-events/interactableTargets",install:Us,listeners:{"pointerEvents:collect-targets":({targets:e,node:t,type:n,eventTarget:o},i)=>{i.interactables.forEachMatch(t,r=>{const s=r.events,a=s.options;s.types[n]&&s.types[n].length&&r.testIgnoreAllow(a,t,o)&&e.push({node:t,eventable:s,props:{interactable:r}})})},"interactable:new":({interactable:e})=>{e.events.getRect=function(t){return e.getRect(t)}},"interactable:set":({interactable:e,options:t},n)=>{_(e.events.options,n.pointerEvents.defaults),_(e.events.options,t.pointerEvents||{})}}},Ks=Vs,Js={id:"pointer-events",install(e){e.usePlugin(Fs),e.usePlugin(Gs),e.usePlugin(Ks)}},Qs=Js;function Zs(e){const{Interactable:t}=e;e.actions.phases.reflow=!0,t.prototype.reflow=function(n){return ta(this,n,e)}}function ta(e,t,n){const o=g.string(e.target)?Ve(e._context.querySelectorAll(e.target)):[e.target],i=n.window.Promise,r=i?[]:null;for(const s of o){const a=e.getRect(s);if(!a)break;const l=ue(n.interactions.list,u=>u.interacting()&&u.interactable===e&&u.element===s&&u.prepared.name===t.name);let c;if(l)l.move(),r&&(c=l._reflowPromise||new i(u=>{l._reflowResolve=u}));else{const u=De(a),f={page:{x:u.x,y:u.y},client:{x:u.x,y:u.y},timeStamp:n.now()},h=di(f);c=ea(n,e,s,t,h)}r&&r.push(c)}return r&&i.all(r).then(()=>e)}function ea(e,t,n,o,i){const r=e.interactions.new({pointerType:"reflow"}),s={interaction:r,event:i,pointer:i,eventTarget:n,phase:"reflow"};r.interactable=t,r.element=n,r.prevEvent=i,r.updatePointer(i,i,n,!0),qn(r.coords.delta),Ke(r.prepared,o),r._doPhase(s);const{Promise:a}=e.window,l=a?new a(c=>{r._reflowResolve=c}):void 0;return r._reflowPromise=l,r.start(o,t,n),r._interacting?(r.move(s),r.end(i)):(r.stop(),r._reflowResolve()),r.removePointer(i,i),l}const na={id:"reflow",install:Zs,listeners:{"interactions:stop":({interaction:e},t)=>{e.pointerType==="reflow"&&(e._reflowResolve&&e._reflowResolve(),hi(t.interactions.list,e))}}},oa=na;Q.use(lo);Q.use(go);Q.use(Qs);Q.use(Or);Q.use(Ms);Q.use(tr);Q.use(Ci);Q.use(Ai);Q.use(oa);Q.use(ur);Q.default=Q;const zo=Symbol("GRID_PROVIDER"),We=Symbol("INTERSECTION_OBSERVER_ID"),_n="vue-resizable-handle";function ia(){const e=v.inject(zo);if(e===void 0)throw new Error("You can't use useGridProvider outside of a GridProvider");return e}const ra=e=>!Number.isNaN(e);function sa(e){const t=e.target.offsetParent||document.body,n=e.offsetParent===document.body?{left:0,top:0}:t.getBoundingClientRect(),o=e.clientX+t.scrollLeft-n.left,i=e.clientY+t.scrollTop-n.top;return{x:o,y:i}}function Dn(e,t,n,o){return!ra(e)?{deltaX:0,deltaY:0,lastX:n,lastY:o,x:n,y:o}:{deltaX:n-e,deltaY:o-t,lastX:e,lastY:t,x:n,y:o}}const On=e=>sa(e);var vt=(e=>(e.DOWN="DOWN",e.LEFT="LEFT",e.RIGHT="RIGHT",e.UP="UP",e))(vt||{});function aa(e){let t=0,n;for(let o=0;o<e.length;o++)n=e[o].y+e[o].h,n>t&&(t=n);return t}const ca=e=>JSON.parse(JSON.stringify(e));function Ye(e){const t=Array(e.length);for(let n=0;n<e.length;n++)t[n]=ca(e[n]);return t}function To(e,t){return!(e===t||e.x+e.w<=t.x||e.x>=t.x+t.w||e.y+e.h<=t.y||e.y>=t.y+t.h)}const Po=e=>e.filter(t=>t.isStatic);function Pt(e,t){if(!e)return;const n=Po(e),o=Do(e),i=Array(e.length);for(let r=0;r<o.length;r++){let s=o[r];s.isStatic||(s=la(n,s,t),n.push(s)),i[e.indexOf(s)]=s,s.moved=!1}return i}function Ut(e,t){for(let n=0,o=e.length;n<o;n++)if(To(e[n],t))return e[n]}function la(e,t,n){if(n)for(;t.y>0&&!Ut(e,t);)t.y--;let o=Ut(e,t);for(;o;)t.y=o.y+o.h,o=Ut(e,t);return t}function ua(e,t){const n=Po(e);for(let o=0;o<e.length;o++){const i=e[o];if(i.x+i.w>t.cols&&(i.x=t.cols-i.w),i.x<0&&(i.x=0,i.w=t.cols),!i.isStatic)n.push(i);else for(;Ut(n,i);)i.y++}return e}function _o(e,t){return e.filter(n=>To(n,t))}const Cn=(e,t)=>e.filter(n=>n.id===t)[0];function Xe(e,t,n,o,i,r,s){var h;if(t.isStatic)return e;const a=t.x,l=t.y,c={DOWN:l<o,LEFT:a>n,RIGHT:a<n,UP:l>o};t.x=n,t.y=o,t.moved=!0;let u=Do(e);c.UP&&(u=u.reverse());const f=_o(u,t);if(s&&f.length)return t.x=a,t.y=l,t.moved=!1,e;for(let m=0;m<f.length;m++){const y=f[m];if(y.moved||t.y>y.y&&t.y-y.y>y.h/4)continue;const O=(h=Object.keys(c).filter(z=>c[z]))==null?void 0:h[0];y.isStatic?e=Mn(e,y,t,i,O,r):e=Mn(e,t,y,i,O,r)}return e}function Mn(e,t,n,o,i,r){if(o){const l={h:n.h,id:-1,w:n.w,x:n.x,y:Math.max(t.y-n.h,0)};if(!Ut(e,l))return Xe(e,n,l.x,l.y,o,r,!1)}const a={$default:{x:n.x,y:n.y+1},[vt.LEFT]:[n.x+t.w,t.y],[vt.RIGHT]:[n.x-t.w,t.y],[vt.UP]:[n.x,n.y+t.h],[vt.DOWN]:[n.x,n.y-t.h]};if(r){const l=i===vt.LEFT||i===vt.RIGHT;if(i in a&&!(l&&t.w<n.w&&t.x!==n.x)){const[c,u]=a[i];a.$default.x=c,a.$default.y=u}}return Xe(e,n,a.$default.x,a.$default.y,r,!1)}function jt(e){return e.length===1?[e[0],e[0]]:e}const fa=(e,t,n,o)=>({height:`${o}px`,left:`${t}px`,position:"absolute",top:`${e}px`,width:`${n}px`});function da(e,t,n,o){return{height:`${o}px`,position:"absolute",transform:`translate3d(${t}px,${e}px, 0)`,width:`${n}px`}}function Do(e){return[...e].sort((t,n)=>t.y===n.y&&t.x===n.x?0:t.y>n.y||t.y===n.y&&t.x>n.x?1:-1)}function pa(e,t,n){return e.trim().replace(t,n)}const ha=v.createElementVNode("div",{class:"corner-handle"},null,-1),ga=[ha],he=v.defineComponent({__name:"GridItem",props:{breakpointCols:{},colNum:{},containerWidth:{},h:{},id:{},isDraggable:{type:Boolean},isResizable:{type:Boolean},lastBreakpoint:{},margin:{},maxRows:{},rowHeight:{},useCssTransforms:{type:Boolean},w:{},x:{},y:{},calculateStylesTrigger:{},dragAllowFrom:{default:null},dragIgnoreFrom:{default:"a, button"},dragOption:{default:()=>({})},maxH:{default:Number.POSITIVE_INFINITY},maxW:{default:Number.POSITIVE_INFINITY},minH:{default:1},minW:{default:1},observer:{default:void 0},isStatic:{type:Boolean,default:!1}},emits:["nocResizeContainer","nocResize","nocResizeEnd","nocMove","nocMoveEnd"],setup(e,{emit:t}){const n=e,o=t,{handleDragEvent:i,handleResizeEvent:r}=ia(),s=v.ref(null),a=v.ref(!1),l=v.ref({}),c=v.ref({h:n.h,w:n.w,x:n.x,y:n.y}),u=v.ref(null),f=v.ref(!1),h=v.ref(!1),m=v.ref({h:Number.NaN,w:Number.NaN,x:Number.NaN,y:Number.NaN}),y=v.ref({h:Number.NaN,w:Number.NaN,x:Number.NaN,y:Number.NaN}),O=v.ref(!1),z=v.ref(null),R=v.reactive({props:{}}),D=v.computed(()=>{const x=n.isDraggable||n.isResizable;return navigator.userAgent.toLowerCase().includes("android")&&x&&!n.isStatic}),M=v.computed(()=>n.isResizable&&!n.isStatic),b=v.computed(()=>({"css-transforms":n.useCssTransforms,"disable-user-select":f.value,"no-touch":D.value,resizing:h.value,static:n.isStatic,"vue-draggable-dragging":f.value,"vue-resizable":M.value}));v.watch(()=>n.observer,()=>{n.observer&&s.value&&(n.observer.observe(s.value),s.value[We]=n.id)}),v.watch(()=>n.colNum,()=>{U(),A()}),v.watch(()=>n.containerWidth,()=>{U(),A()}),v.watch(()=>n.h,x=>{c.value.h=x,A()}),v.watch(()=>n.isDraggable,()=>{F()}),v.watch([()=>n.isResizable,()=>n.maxH,()=>n.maxW,()=>n.minH,()=>n.minW],()=>{U()}),v.watch(()=>n.rowHeight,()=>{A()}),v.watch(()=>n.isStatic,()=>{U(),F()}),v.watch(()=>n.w,x=>{c.value.w=x,L()}),v.watch(()=>n.x,x=>{c.value.x=x,L()}),v.watch(()=>n.y,x=>{c.value.y=x,L()}),v.watch(()=>n.calculateStylesTrigger,()=>{L()});function p(){const[x]=jt(n.margin);return(n.containerWidth-x*(n.colNum+1))/n.colNum}function k({h:x,w:H,x:S,y:P}){const T=p(),E=([q,W])=>({height:x===Number.POSITIVE_INFINITY?x:Math.round(n.rowHeight*x+Math.max(0,x-1)*q),left:Math.floor(T*S+(S+1)*W),top:Math.round(n.rowHeight*P+(P+1)*q),width:H===Number.POSITIVE_INFINITY?H:Math.round(T*H+Math.max(0,H-1)*W)}),G=jt(n.margin);return E(G)}function w(x,H){const S=p(),[P,T]=jt(n.margin),E=Math.round((H+P)/(S+P)),G=Math.round((x+T)/(n.rowHeight+T));return{h:Math.max(Math.min(G,n.maxRows-c.value.y),0),w:Math.max(Math.min(E,n.colNum-c.value.x),0)}}function B(x,H){const S=p(),[P,T]=jt(n.margin),E=Math.round((H-P)/(S+P)),G=Math.round((x-T)/(n.rowHeight+T));return{x:Math.max(Math.min(E,n.colNum-c.value.w),0),y:Math.max(Math.min(G,n.maxRows-c.value.h),0)}}function L(){var H,S;const x=k({h:c.value.h,w:c.value.w,x:c.value.x,y:c.value.y});n.x+n.w>n.colNum?(c.value.x=0,c.value.w=n.w>n.colNum?n.colNum:n.w):(c.value.x=n.x,c.value.w=n.w),f.value&&(x.top=l.value.top??0,x.left=l.value.left??0),h.value&&(x.width=((H=z==null?void 0:z.value)==null?void 0:H.width)??0,x.height=((S=z==null?void 0:z.value)==null?void 0:S.height)??0),R.props=n.useCssTransforms?da(x.top,x.left,x.width,x.height):fa(x.top,x.left,x.width,x.height)}function A(){L();const x={};for(const H of["width","height"]){const S=R.props[H],P=S==null?void 0:S.toString().match(/^(\d+)px$/);if(!P)return;x[H]=+P[1]}o("nocResizeContainer",{h:n.h,height:x.height,id:n.id,w:n.w,width:x.width})}function Y(x){var G,q;if(n.isStatic||h.value)return;const H=On(x);if(!H)return;const{x:S,y:P}=H,T={left:0,top:0};switch(x.type){case"dragstart":{y.value.x=c.value.x,y.value.y=c.value.y;const W=x.target.offsetParent.getBoundingClientRect(),Z=x.target.getBoundingClientRect();T.left=Z.left-W.left,T.top=Z.top-W.top,l.value=T,f.value=!0;break}case"dragend":{if(!f.value)return;const W=x.target.offsetParent.getBoundingClientRect(),Z=x.target.getBoundingClientRect();T.left=Z.left-W.left,T.top=Z.top-W.top,l.value={},f.value=!1;break}case"dragmove":{const W=Dn(m.value.x,m.value.y,S,P);T.left=(((G=l==null?void 0:l.value)==null?void 0:G.left)??0)+W.deltaX,T.top=(((q=l==null?void 0:l.value)==null?void 0:q.top)??0)+W.deltaY,l.value=T;break}}const E=B(T.top,T.left);m.value.x=S,m.value.y=P,(c.value.x!==E.x||c.value.y!==E.y)&&o("nocMove",{id:n.id,x:E.x,y:E.y}),x.type==="dragend"&&(y.value.x!==c.value.x||y.value.y!==c.value.y)&&o("nocMoveEnd",{id:n.id,x:E.x,y:E.y}),i({callback:L,eventType:x.type,h:c.value.h,id:n.id,w:c.value.w,x:E.x,y:E.y})}function N(x){var G,q;if(n.isStatic)return;const H=On(x);if(!H)return;const{x:S,y:P}=H,T={height:0,width:0};switch(x.type){case"resizestart":{y.value.w=c.value.w,y.value.h=c.value.h;const{height:W,width:Z}=k({h:c.value.h,w:c.value.w,x:c.value.x,y:c.value.y});T.width=Z,T.height=W,z.value=T,h.value=!0;break}case"resizemove":{const W=Dn(m.value.x,m.value.h,S,P);T.width=(((G=z==null?void 0:z.value)==null?void 0:G.width)??0)+W.deltaX,T.height=(((q=z==null?void 0:z.value)==null?void 0:q.height)??0)+W.deltaY,z.value=T,h.value=!0;break}case"resizeend":{const{height:W,width:Z}=k({h:c.value.h,w:c.value.w,x:c.value.x,y:c.value.y});T.width=Z,T.height=W,z.value=null,h.value=!1;break}}const E=w(T.height,T.width);E.w<n.minW&&(E.w=n.minW),E.w>n.maxW&&(E.w=n.maxW),E.h<n.minH&&(E.h=n.minH),E.h>n.maxH&&(E.h=n.maxH),E.h<1&&(E.h=1),E.w<1&&(E.w=1),m.value.x=S,m.value.h=P,(c.value.w!==E.w||c.value.h!==E.h)&&o("nocResize",{h:E.h,height:T.height,id:n.id,w:E.w,width:T.width}),x.type==="resizeend"&&(y.value.w!==c.value.w||y.value.h!==c.value.h)&&o("nocResizeEnd",{h:E.h,height:T.height,id:n.id,w:E.w,width:T.width}),r({callback:L,eventType:x.type,h:E.h,id:n.id,w:E.w,x:c.value.x,y:c.value.y})}function F(){!u.value&&s.value&&(u.value=Q(s.value)),n.isDraggable&&!n.isStatic?(u.value.draggable({allowFrom:n.dragAllowFrom,ignoreFrom:n.dragIgnoreFrom,...n.dragOption}),a.value||(a.value=!0,u.value.on("dragstart dragmove dragend",Y))):u.value.draggable({enabled:!1})}function U(){if(!u.value&&s.value&&(u.value=Q(s.value)),n.isResizable&&!n.isStatic){const x=`.${pa(_n," ",".")}`,H=k({h:n.maxH,w:n.maxW,x:0,y:0}),S=k({h:n.minH,w:n.minW,x:0,y:0}),P={edges:{bottom:x,left:!1,right:x,top:!1},ignoreFrom:"a, button",restrictSize:{max:{height:H.height,width:H.width},min:{height:S.height,width:S.width}}};u.value.resizable(P),O.value||(O.value=!0,u.value.on("resizestart resizemove resizeend",N))}else u.value.resizable({enabled:!1})}return v.onBeforeUnmount(()=>{u.value&&u.value.unset(),n.observer&&s.value!==null&&n.observer.unobserve(s.value)}),v.onMounted(()=>{U(),F(),L()}),(x,H)=>(v.openBlock(),v.createElementBlock("div",{ref_key:"item",ref:s,class:v.normalizeClass(["vue-grid-item",b.value]),style:v.normalizeStyle(R.props)},[v.renderSlot(x.$slots,"default"),M.value?(v.openBlock(),v.createElementBlock("div",{key:0,class:v.normalizeClass(v.unref(_n))},ga,2)):v.createCommentVNode("",!0)],6))}});function ma(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Oo={exports:{}},va=Oo.exports={};va.forEach=function(e,t){for(var n=0;n<e.length;n++){var o=t(e[n]);if(o)return o}};var Co=Oo.exports,ya=function(e){var t=e.stateHandler.getState;function n(s){var a=t(s);return a&&!!a.isDetectable}function o(s){t(s).isDetectable=!0}function i(s){return!!t(s).busy}function r(s,a){t(s).busy=!!a}return{isDetectable:n,markAsDetectable:o,isBusy:i,markBusy:r}},ba=function(e){var t={};function n(s){var a=e.get(s);return a===void 0?[]:t[a]||[]}function o(s,a){var l=e.get(s);t[l]||(t[l]=[]),t[l].push(a)}function i(s,a){for(var l=n(s),c=0,u=l.length;c<u;++c)if(l[c]===a){l.splice(c,1);break}}function r(s){var a=n(s);a&&(a.length=0)}return{get:n,add:o,removeListener:i,removeAllListeners:r}},xa=function(){var e=1;function t(){return e++}return{generate:t}},wa=function(e){var t=e.idGenerator,n=e.stateHandler.getState;function o(r){var s=n(r);return s&&s.id!==void 0?s.id:null}function i(r){var s=n(r);if(!s)throw new Error("setId required the element to have a resize detection state.");var a=t.generate();return s.id=a,a}return{get:o,set:i}},Sa=function(e){function t(){}var n={log:t,warn:t,error:t};if(!e&&window.console){var o=function(i,r){i[r]=function(){var a=console[r];if(a.apply)a.apply(console,arguments);else for(var l=0;l<arguments.length;l++)a(arguments[l])}};o(n,"log"),o(n,"warn"),o(n,"error")}return n},Mo={exports:{}},ko=Mo.exports={};ko.isIE=function(e){function t(){var o=navigator.userAgent.toLowerCase();return o.indexOf("msie")!==-1||o.indexOf("trident")!==-1||o.indexOf(" edge/")!==-1}if(!t())return!1;if(!e)return!0;var n=function(){var o,i=3,r=document.createElement("div"),s=r.getElementsByTagName("i");do r.innerHTML="<!--[if gt IE "+ ++i+"]><i></i><![endif]-->";while(s[0]);return i>4?i:o}();return e===n};ko.isLegacyOpera=function(){return!!window.opera};var Ro=Mo.exports,Ao={exports:{}},Ea=Ao.exports={};Ea.getOption=Ia;function Ia(e,t,n){var o=e[t];return o==null&&n!==void 0?n:o}var za=Ao.exports,kn=za,Ta=function(t){t=t||{};var n=t.reporter,o=kn.getOption(t,"async",!0),i=kn.getOption(t,"auto",!0);i&&!o&&(n&&n.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),o=!0);var r=Rn(),s,a=!1;function l(y,O){!a&&i&&o&&r.size()===0&&f(),r.add(y,O)}function c(){for(a=!0;r.size();){var y=r;r=Rn(),y.process()}a=!1}function u(y){a||(y===void 0&&(y=o),s&&(h(s),s=null),y?f():c())}function f(){s=m(c)}function h(y){var O=clearTimeout;return O(y)}function m(y){var O=function(z){return setTimeout(z,0)};return O(y)}return{add:l,force:u}};function Rn(){var e={},t=0,n=0,o=0;function i(a,l){l||(l=a,a=0),a>n?n=a:a<o&&(o=a),e[a]||(e[a]=[]),e[a].push(l),t++}function r(){for(var a=o;a<=n;a++)for(var l=e[a],c=0;c<l.length;c++){var u=l[c];u()}}function s(){return t}return{add:i,process:r,size:s}}var en="_erd";function Pa(e){return e[en]={},No(e)}function No(e){return e[en]}function _a(e){delete e[en]}var Da={initState:Pa,getState:No,cleanState:_a},Bt=Ro,Oa=function(e){e=e||{};var t=e.reporter,n=e.batchProcessor,o=e.stateHandler.getState;if(!t)throw new Error("Missing required dependency: reporter.");function i(c,u){function f(){u(c)}if(Bt.isIE(8))o(c).object={proxy:f},c.attachEvent("onresize",f);else{var h=a(c);if(!h)throw new Error("Element is not detectable by this strategy.");h.contentDocument.defaultView.addEventListener("resize",f)}}function r(c){var u=e.important?" !important; ":"; ";return(c.join(u)+u).trim()}function s(c,u,f){f||(f=u,u=c,c=null),c=c||{},c.debug;function h(m,y){var O=r(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),z=!1,R=window.getComputedStyle(m),D=m.offsetWidth,M=m.offsetHeight;o(m).startSize={width:D,height:M};function b(){function p(){if(R.position==="static"){m.style.setProperty("position","relative",c.important?"important":"");var B=function(L,A,Y,N){function F(x){return x.replace(/[^-\d\.]/g,"")}var U=Y[N];U!=="auto"&&F(U)!=="0"&&(L.warn("An element that is positioned static has style."+N+"="+U+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+N+" will be set to 0. Element: ",A),A.style.setProperty(N,"0",c.important?"important":""))};B(t,m,R,"top"),B(t,m,R,"right"),B(t,m,R,"bottom"),B(t,m,R,"left")}}function k(){z||p();function B(A,Y){if(!A.contentDocument){var N=o(A);N.checkForObjectDocumentTimeoutId&&window.clearTimeout(N.checkForObjectDocumentTimeoutId),N.checkForObjectDocumentTimeoutId=setTimeout(function(){N.checkForObjectDocumentTimeoutId=0,B(A,Y)},100);return}Y(A.contentDocument)}var L=this;B(L,function(Y){y(m)})}R.position!==""&&(p(),z=!0);var w=document.createElement("object");w.style.cssText=O,w.tabIndex=-1,w.type="text/html",w.setAttribute("aria-hidden","true"),w.onload=k,Bt.isIE()||(w.data="about:blank"),o(m)&&(m.appendChild(w),o(m).object=w,Bt.isIE()&&(w.data="about:blank"))}n?n.add(b):b()}Bt.isIE(8)?f(u):h(u,f)}function a(c){return o(c).object}function l(c){if(o(c)){var u=a(c);u&&(Bt.isIE(8)?c.detachEvent("onresize",u.proxy):c.removeChild(u),o(c).checkForObjectDocumentTimeoutId&&window.clearTimeout(o(c).checkForObjectDocumentTimeoutId),delete o(c).object)}}return{makeDetectable:s,addListener:i,uninstall:l}},Ca=Co.forEach,Ma=function(e){e=e||{};var t=e.reporter,n=e.batchProcessor,o=e.stateHandler.getState;e.stateHandler.hasState;var i=e.idHandler;if(!n)throw new Error("Missing required dependency: batchProcessor");if(!t)throw new Error("Missing required dependency: reporter.");var r=u(),s="erd_scroll_detection_scrollbar_style",a="erd_scroll_detection_container";function l(b){f(b,s,a)}l(window.document);function c(b){var p=e.important?" !important; ":"; ";return(b.join(p)+p).trim()}function u(){var b=500,p=500,k=document.createElement("div");k.style.cssText=c(["position: absolute","width: "+b*2+"px","height: "+p*2+"px","visibility: hidden","margin: 0","padding: 0"]);var w=document.createElement("div");w.style.cssText=c(["position: absolute","width: "+b+"px","height: "+p+"px","overflow: scroll","visibility: none","top: "+-b*3+"px","left: "+-p*3+"px","visibility: hidden","margin: 0","padding: 0"]),w.appendChild(k),document.body.insertBefore(w,document.body.firstChild);var B=b-w.clientWidth,L=p-w.clientHeight;return document.body.removeChild(w),{width:B,height:L}}function f(b,p,k){function w(Y,N){N=N||function(U){b.head.appendChild(U)};var F=b.createElement("style");return F.innerHTML=Y,F.id=p,N(F),F}if(!b.getElementById(p)){var B=k+"_animation",L=k+"_animation_active",A=`/* Created by the element-resize-detector library. */
`;A+="."+k+" > div::-webkit-scrollbar { "+c(["display: none"])+` }

`,A+="."+L+" { "+c(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+B,"animation-name: "+B])+` }
`,A+="@-webkit-keyframes "+B+` { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }
`,A+="@keyframes "+B+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }",w(A)}}function h(b){b.className+=" "+a+"_animation_active"}function m(b,p,k){if(b.addEventListener)b.addEventListener(p,k);else if(b.attachEvent)b.attachEvent("on"+p,k);else return t.error("[scroll] Don't know how to add event listeners.")}function y(b,p,k){if(b.removeEventListener)b.removeEventListener(p,k);else if(b.detachEvent)b.detachEvent("on"+p,k);else return t.error("[scroll] Don't know how to remove event listeners.")}function O(b){return o(b).container.childNodes[0].childNodes[0].childNodes[0]}function z(b){return o(b).container.childNodes[0].childNodes[0].childNodes[1]}function R(b,p){var k=o(b).listeners;if(!k.push)throw new Error("Cannot add listener to an element that is not detectable.");o(b).listeners.push(p)}function D(b,p,k){k||(k=p,p=b,b=null),b=b||{};function w(){if(b.debug){var I=Array.prototype.slice.call(arguments);if(I.unshift(i.get(p),"Scroll: "),t.log.apply)t.log.apply(null,I);else for(var $=0;$<I.length;$++)t.log(I[$])}}function B(I){function $(X){var rt=X.getRootNode&&X.getRootNode().contains(X);return X===X.ownerDocument.body||X.ownerDocument.body.contains(X)||rt}return!$(I)||window.getComputedStyle(I)===null}function L(I){var $=o(I).container.childNodes[0],X=window.getComputedStyle($);return!X.width||X.width.indexOf("px")===-1}function A(){var I=window.getComputedStyle(p),$={};return $.position=I.position,$.width=p.offsetWidth,$.height=p.offsetHeight,$.top=I.top,$.right=I.right,$.bottom=I.bottom,$.left=I.left,$.widthCSS=I.width,$.heightCSS=I.height,$}function Y(){var I=A();o(p).startSize={width:I.width,height:I.height},w("Element start size",o(p).startSize)}function N(){o(p).listeners=[]}function F(){if(w("storeStyle invoked."),!o(p)){w("Aborting because element has been uninstalled");return}var I=A();o(p).style=I}function U(I,$,X){o(I).lastWidth=$,o(I).lastHeight=X}function x(I){return O(I).childNodes[0]}function H(){return 2*r.width+1}function S(){return 2*r.height+1}function P(I){return I+10+H()}function T(I){return I+10+S()}function E(I){return I*2+H()}function G(I){return I*2+S()}function q(I,$,X){var rt=O(I),Et=z(I),Ct=P($),Mt=T(X),tt=E($),j=G(X);rt.scrollLeft=Ct,rt.scrollTop=Mt,Et.scrollLeft=tt,Et.scrollTop=j}function W(){var I=o(p).container;if(!I){I=document.createElement("div"),I.className=a,I.style.cssText=c(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),o(p).container=I,h(I),p.appendChild(I);var $=function(){o(p).onRendered&&o(p).onRendered()};m(I,"animationstart",$),o(p).onAnimationStart=$}return I}function Z(){function I(){var K=o(p).style;if(K.position==="static"){p.style.setProperty("position","relative",b.important?"important":"");var ut=function(Rt,zt,Fo,ne){function Bo(jo){return jo.replace(/[^-\d\.]/g,"")}var xe=Fo[ne];xe!=="auto"&&Bo(xe)!=="0"&&(Rt.warn("An element that is positioned static has style."+ne+"="+xe+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+ne+" will be set to 0. Element: ",zt),zt.style[ne]=0)};ut(t,p,K,"top"),ut(t,p,K,"right"),ut(t,p,K,"bottom"),ut(t,p,K,"left")}}function $(K,ut,Rt,zt){return K=K?K+"px":"0",ut=ut?ut+"px":"0",Rt=Rt?Rt+"px":"0",zt=zt?zt+"px":"0",["left: "+K,"top: "+ut,"right: "+zt,"bottom: "+Rt]}if(w("Injecting elements"),!o(p)){w("Aborting because element has been uninstalled");return}I();var X=o(p).container;X||(X=W());var rt=r.width,Et=r.height,Ct=c(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),Mt=c(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat($(-(1+rt),-(1+Et),-Et,-rt))),tt=c(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),j=c(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),et=c(["position: absolute","left: 0","top: 0"]),It=c(["position: absolute","width: 200%","height: 200%"]),ct=document.createElement("div"),lt=document.createElement("div"),kt=document.createElement("div"),nn=document.createElement("div"),ee=document.createElement("div"),on=document.createElement("div");ct.dir="ltr",ct.style.cssText=Ct,ct.className=a,lt.className=a,lt.style.cssText=Mt,kt.style.cssText=tt,nn.style.cssText=et,ee.style.cssText=j,on.style.cssText=It,kt.appendChild(nn),ee.appendChild(on),lt.appendChild(kt),lt.appendChild(ee),ct.appendChild(lt),X.appendChild(ct);function rn(){var K=o(p);K&&K.onExpand?K.onExpand():w("Aborting expand scroll handler: element has been uninstalled")}function sn(){var K=o(p);K&&K.onShrink?K.onShrink():w("Aborting shrink scroll handler: element has been uninstalled")}m(kt,"scroll",rn),m(ee,"scroll",sn),o(p).onExpandScroll=rn,o(p).onShrinkScroll=sn}function V(){function I(tt,j,et){var It=x(tt),ct=P(j),lt=T(et);It.style.setProperty("width",ct+"px",b.important?"important":""),It.style.setProperty("height",lt+"px",b.important?"important":"")}function $(tt){var j=p.offsetWidth,et=p.offsetHeight,It=j!==o(p).lastWidth||et!==o(p).lastHeight;w("Storing current size",j,et),U(p,j,et),n.add(0,function(){if(It){if(!o(p)){w("Aborting because element has been uninstalled");return}if(!X()){w("Aborting because element container has not been initialized");return}if(b.debug){var lt=p.offsetWidth,kt=p.offsetHeight;(lt!==j||kt!==et)&&t.warn(i.get(p),"Scroll: Size changed before updating detector elements.")}I(p,j,et)}}),n.add(1,function(){if(!o(p)){w("Aborting because element has been uninstalled");return}if(!X()){w("Aborting because element container has not been initialized");return}q(p,j,et)}),It&&tt&&n.add(2,function(){if(!o(p)){w("Aborting because element has been uninstalled");return}if(!X()){w("Aborting because element container has not been initialized");return}tt()})}function X(){return!!o(p).container}function rt(){function tt(){return o(p).lastNotifiedWidth===void 0}w("notifyListenersIfNeeded invoked");var j=o(p);if(tt()&&j.lastWidth===j.startSize.width&&j.lastHeight===j.startSize.height)return w("Not notifying: Size is the same as the start size, and there has been no notification yet.");if(j.lastWidth===j.lastNotifiedWidth&&j.lastHeight===j.lastNotifiedHeight)return w("Not notifying: Size already notified");w("Current size not notified, notifying..."),j.lastNotifiedWidth=j.lastWidth,j.lastNotifiedHeight=j.lastHeight,Ca(o(p).listeners,function(et){et(p)})}function Et(){if(w("startanimation triggered."),L(p)){w("Ignoring since element is still unrendered...");return}w("Element rendered.");var tt=O(p),j=z(p);(tt.scrollLeft===0||tt.scrollTop===0||j.scrollLeft===0||j.scrollTop===0)&&(w("Scrollbars out of sync. Updating detector elements..."),$(rt))}function Ct(){if(w("Scroll detected."),L(p)){w("Scroll event fired while unrendered. Ignoring...");return}$(rt)}if(w("registerListenersAndPositionElements invoked."),!o(p)){w("Aborting because element has been uninstalled");return}o(p).onRendered=Et,o(p).onExpand=Ct,o(p).onShrink=Ct;var Mt=o(p).style;I(p,Mt.width,Mt.height)}function Lt(){if(w("finalizeDomMutation invoked."),!o(p)){w("Aborting because element has been uninstalled");return}var I=o(p).style;U(p,I.width,I.height),q(p,I.width,I.height)}function te(){k(p)}function at(){w("Installing..."),N(),Y(),n.add(0,F),n.add(1,Z),n.add(2,V),n.add(3,Lt),n.add(4,te)}w("Making detectable..."),B(p)?(w("Element is detached"),W(),w("Waiting until element is attached..."),o(p).onRendered=function(){w("Element is now attached"),at()}):at()}function M(b){var p=o(b);p&&(p.onExpandScroll&&y(O(b),"scroll",p.onExpandScroll),p.onShrinkScroll&&y(z(b),"scroll",p.onShrinkScroll),p.onAnimationStart&&y(p.container,"animationstart",p.onAnimationStart),p.container&&b.removeChild(p.container))}return{makeDetectable:D,addListener:R,uninstall:M,initDocument:l}},Wt=Co.forEach,ka=ya,Ra=ba,Aa=xa,Na=wa,$a=Sa,An=Ro,La=Ta,gt=Da,Ha=Oa,Fa=Ma;function Nn(e){return Array.isArray(e)||e.length!==void 0}function $n(e){if(Array.isArray(e))return e;var t=[];return Wt(e,function(n){t.push(n)}),t}function Ln(e){return e&&e.nodeType===1}var Ba=function(e){e=e||{};var t;if(e.idHandler)t={get:function(D){return e.idHandler.get(D,!0)},set:e.idHandler.set};else{var n=Aa(),o=Na({idGenerator:n,stateHandler:gt});t=o}var i=e.reporter;if(!i){var r=i===!1;i=$a(r)}var s=mt(e,"batchProcessor",La({reporter:i})),a={};a.callOnAdd=!!mt(e,"callOnAdd",!0),a.debug=!!mt(e,"debug",!1);var l=Ra(t),c=ka({stateHandler:gt}),u,f=mt(e,"strategy","object"),h=mt(e,"important",!1),m={reporter:i,batchProcessor:s,stateHandler:gt,idHandler:t,important:h};if(f==="scroll"&&(An.isLegacyOpera()?(i.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),f="object"):An.isIE(9)&&(i.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),f="object")),f==="scroll")u=Fa(m);else if(f==="object")u=Ha(m);else throw new Error("Invalid strategy name: "+f);var y={};function O(D,M,b){function p(Y){var N=l.get(Y);Wt(N,function(U){U(Y)})}function k(Y,N,F){l.add(N,F),Y&&F(N)}if(b||(b=M,M=D,D={}),!M)throw new Error("At least one element required.");if(!b)throw new Error("Listener required.");if(Ln(M))M=[M];else if(Nn(M))M=$n(M);else return i.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");var w=0,B=mt(D,"callOnAdd",a.callOnAdd),L=mt(D,"onReady",function(){}),A=mt(D,"debug",a.debug);Wt(M,function(N){gt.getState(N)||(gt.initState(N),t.set(N));var F=t.get(N);if(A&&i.log("Attaching listener to element",F,N),!c.isDetectable(N)){if(A&&i.log(F,"Not detectable."),c.isBusy(N)){A&&i.log(F,"System busy making it detectable"),k(B,N,b),y[F]=y[F]||[],y[F].push(function(){w++,w===M.length&&L()});return}return A&&i.log(F,"Making detectable..."),c.markBusy(N,!0),u.makeDetectable({debug:A,important:h},N,function(x){if(A&&i.log(F,"onElementDetectable"),gt.getState(x)){c.markAsDetectable(x),c.markBusy(x,!1),u.addListener(x,p),k(B,x,b);var H=gt.getState(x);if(H&&H.startSize){var S=x.offsetWidth,P=x.offsetHeight;(H.startSize.width!==S||H.startSize.height!==P)&&p(x)}y[F]&&Wt(y[F],function(T){T()})}else A&&i.log(F,"Element uninstalled before being detectable.");delete y[F],w++,w===M.length&&L()})}A&&i.log(F,"Already detecable, adding listener."),k(B,N,b),w++}),w===M.length&&L()}function z(D){if(!D)return i.error("At least one element is required.");if(Ln(D))D=[D];else if(Nn(D))D=$n(D);else return i.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");Wt(D,function(M){l.removeAllListeners(M),u.uninstall(M),gt.cleanState(M)})}function R(D){u.initDocument&&u.initDocument(D)}return{listenTo:O,removeListener:l.removeListener,removeAllListeners:l.removeAllListeners,uninstall:z,initDocument:R}};function mt(e,t,n){var o=e[t];return o==null&&n!==void 0?n:o}const ja=ma(Ba),$o=()=>typeof window<"u";function Wa(e,t){if(!$o)return t();window.addEventListener(e,t)}function Ya(e,t){$o&&window.removeEventListener(e,t)}const Xa=(e,t,n,o,i,r,s)=>{if(Object.prototype.hasOwnProperty.call(t,o))return Ye(t[o]||[]);let a=e;const l=Lo(n),c=l.slice(l.indexOf(o));for(let u=0;u<c.length;u++){const f=c[u];if(Object.prototype.hasOwnProperty.call(t,f)){a=t[f];break}}return a=Ye(a||[]),Pt(ua(a,{cols:r}),s)};function Ga(e,t){const n=Lo(e);let[o]=n;for(let i=1;i<n.length;i++){const r=n[i];t>(e[r]??1)&&(o=r)}return o}function Hn(e,t){return t[e]}function Lo(e){return Object.keys(e).sort((t,n)=>(e[t]??1)-(e[n]??1))}const Ho=v.defineComponent({__name:"GridLayout",props:{colNum:{},layout:{},autoSize:{type:Boolean,default:!0},breakpoints:{default:()=>({lg:1200,md:996,sm:768,xs:480,xxs:0})},cols:{default:()=>({lg:12,md:10,sm:6,xs:4,xxs:2})},horizontalShift:{type:Boolean,default:!1},intersectionObserverConfig:{default:()=>({root:null,rootMargin:"8px",threshold:.4})},isDraggable:{type:Boolean,default:!0},isResizable:{type:Boolean,default:!0},margin:{default:()=>[10]},maxRows:{default:Number.POSITIVE_INFINITY},preventCollision:{type:Boolean,default:!1},responsive:{type:Boolean,default:!1},responsiveLayouts:{default:()=>({})},rowHeight:{default:150},useCssTransforms:{type:Boolean,default:!0},useObserver:{type:Boolean,default:!1},verticalCompact:{type:Boolean,default:!0}},emits:["nocResizeContainer","nocLayoutBeforeMount","nocLayoutCreate","nocLayoutMount","nocLayoutReady","nocLayoutUpdate","update:layout","update:breakpoints","nocIntersectionObserve","nocIntersectionUnobserve","nocItemMove","nocItemMoveEnd","nocItemResize","nocItemResizeEnd"],setup(e,{emit:t}){const n=e,o=t,i=["minW","minH","maxW","maxH","moved","static","isDraggable","isResizable","isBounded","dragIgnoreFrom","dragAllowFrom","resizeIgnoreFrom","preserveAspectRatio","dragOption","resizeOption"],r={h:0,id:-1,w:0,x:0,y:0},s=v.ref(ja({callOnAdd:!1,strategy:"scroll"})),a=v.ref(!1),l=v.ref(""),c=v.ref(0),u=v.ref({}),f=v.ref({}),h=v.ref(n.layout),m=v.ref({h:0,id:-1,w:0,x:0,y:0}),y=v.ref(0);let O;const z=v.ref(null),R=v.ref(n.colNum),D=v.ref(!1),M=v.computed(()=>({breakpointCols:n.cols,calculateStylesTrigger:D,colNum:R.value,containerWidth:y.value,isDraggable:n.isDraggable,isResizable:n.isResizable,lastBreakpoint:l.value,margin:n.margin,maxRows:n.maxRows,responsive:n.responsive,rowHeight:n.rowHeight,useCssTransforms:n.useCssTransforms,width:y.value}));v.watch(()=>n.colNum,S=>{R.value=S}),v.watch(()=>n.layout.length,()=>{k(),Pt(n.layout,n.verticalCompact)}),v.watch(()=>n.margin,()=>{L()}),v.watch(()=>n.layout,()=>{L()}),v.watch(()=>n.responsive,S=>{S||(o("update:layout",h.value),R.value=n.colNum),Y()}),v.watch(()=>y.value,(S,P)=>{v.nextTick(()=>{P===0&&v.nextTick(()=>{o("nocLayoutReady",n.layout)}),n.responsive&&N(),L()})}),v.watch(()=>n.useObserver,S=>{if(!S){O.disconnect();return}U()});function b(S){const P={observe:[],unobserve:[]};S.forEach(({isIntersecting:T,target:E})=>{if(T){P.observe.push(E[We]);return}P.unobserve.push(E[We])}),o("nocIntersectionObserve",P.observe),o("nocIntersectionUnobserve",P.unobserve)}function p(S){const P=Object.keys(r);return Object.keys(S).reduce((T,E)=>((i.includes(E)||P.includes(E))&&(T[E]=S[E]),T),{})}function k(){if(n.layout&&h.value){if(n.layout.length!==h.value.length){const S=w(n.layout,h.value);S.length>0&&(n.layout.length>h.value.length?h.value=h.value.concat(S):h.value=h.value.filter(P=>!S.some(T=>P.id===T.id))),c.value=n.layout.length,B()}Pt(n.layout,n.verticalCompact),L(),o("nocLayoutUpdate",n.layout),D.value=!D.value}}function w(S,P){const T=S.filter(G=>!P.some(q=>G.id===q.id)),E=P.filter(G=>!S.some(q=>G.id===q.id));return T.concat(E)}function B(){u.value=Object.assign({},n.responsiveLayouts)}function L(){const S=A();f.value={height:S}}function A(){if(!n.autoSize||!n.layout)return;const[,S]=jt(n.margin);return`${aa(n.layout)*(n.rowHeight+S)+S}px`}function Y(){z.value&&(y.value=z.value.offsetWidth)}function N(){const S=Ga(n.breakpoints,y.value),P=Hn(S,n.cols);l.value&&!u.value[l.value]&&(u.value[l.value]=Ye(n.layout));const T=Xa(h.value,u.value,n.breakpoints,S,l.value,P,n.verticalCompact);u.value[S]=T,l.value!==S&&o("update:breakpoints",S),l.value=S,o("update:layout",T),R.value=Hn(S,n.cols)}function F(){o("nocLayoutCreate",n.layout)}function U(){O=new IntersectionObserver(b,{root:null,rootMargin:"8px",threshold:.4,...n.intersectionObserverConfig})}F(),v.onBeforeUnmount(()=>{Ya("resize",Y),s.value&&z.value&&s.value.uninstall(z.value)}),v.onBeforeMount(()=>{o("nocLayoutBeforeMount",n.layout)}),v.onMounted(()=>{o("nocLayoutMount",n.layout),v.nextTick(()=>{h.value=n.layout,v.nextTick(()=>{Y(),B(),Wa("resize",Y.bind(this)),Pt(n.layout,n.verticalCompact),o("nocLayoutUpdate",n.layout),L(),z.value&&s.value.listenTo(z.value,Y),n.useObserver&&U()})})});function x({callback:S,eventType:P,h:T,id:E,w:G,x:q,y:W}){const V=Cn(n.layout,E)??{...r};P==="dragmove"||P==="dragstart"?(m.value.id=E,m.value.x=V.x,m.value.y=V.y,m.value.w=G,m.value.h=T,v.nextTick(()=>{a.value=!0})):v.nextTick(()=>{a.value=!1}),o("update:layout",Xe(n.layout,V,q,W,!0,n.horizontalShift,n.preventCollision)),Pt(n.layout,n.verticalCompact),S(),L(),P==="dragend"&&(Pt(n.layout,n.verticalCompact),o("nocLayoutUpdate",n.layout))}function H({callback:S,eventType:P,h:T,id:E,w:G,x:q,y:W}){const V=Cn(n.layout,E)??{...r};let Lt;if(n.preventCollision){const te=_o(n.layout,{...V,h:T,w:G}).filter(at=>at.id!==V.id);if(Lt=te.length>0,Lt){let at=Number.POSITIVE_INFINITY,I=Number.POSITIVE_INFINITY;te.forEach($=>{$.x>V.x&&(at=Math.min(at,$.x)),$.y>V.y&&(I=Math.min(I,$.y))}),Number.isFinite(at)&&(V.w=at-V.x),Number.isFinite(I)&&(V.h=I-V.y)}}Lt||(V.w=G,V.h=T),P==="resizestart"||P==="resizemove"?(m.value.id=+E,m.value.x=q,m.value.y=W,m.value.w=V.w,m.value.h=V.h,v.nextTick(()=>{a.value=!0})):v.nextTick(()=>{a.value=!1}),Pt(n.layout,n.verticalCompact),S(),L(),P==="resizeend"&&o("nocLayoutUpdate",n.layout)}return v.provide(zo,{handleDragEvent:x,handleResizeEvent:H}),(S,P)=>(v.openBlock(),v.createElementBlock("div",null,[v.createElementVNode("div",{ref_key:"wrapper",ref:z,class:"vue-grid-layout",style:v.normalizeStyle(f.value)},[v.withDirectives(v.createVNode(he,v.mergeProps({class:"vue-grid-placeholder"},{...M.value,...m.value}),null,16),[[v.vShow,a.value]]),v.renderSlot(S.$slots,"default",{gridItemProps:{...M.value,observer:v.unref(O)}},()=>[(v.openBlock(!0),v.createElementBlock(v.Fragment,null,v.renderList(S.layout,T=>(v.openBlock(),v.createBlock(he,v.mergeProps({key:T.id},{...M.value,...p(T)},{observer:v.unref(O),onNocResizeContainer:P[0]||(P[0]=E=>o("nocResizeContainer",E)),onNocResizeEnd:P[1]||(P[1]=E=>o("nocItemResizeEnd",E)),onNocResize:P[2]||(P[2]=E=>o("nocItemResize",E)),onNocMove:P[3]||(P[3]=E=>o("nocItemMove",E)),onNocMoveEnd:P[4]||(P[4]=E=>o("nocItemMoveEnd",E))}),{default:v.withCtx(()=>[v.renderSlot(S.$slots,"gridItemContent",{item:T})]),_:2},1040,["observer"]))),128))])],4)]))}});function Ua(e){e.component("GridLayout",Ho),e.component("GridItem",he)}const qa={install:Ua};exports.GridItem=he;exports.GridLayout=Ho;exports.MovingDirections=vt;exports.default=qa;
