{"version":3,"file":"index.mjs","names":["MasonryWall: MasonryWallPlugin","component"],"sources":["../src/masonry-wall.vue","../src/masonry-wall.vue","../src/index.ts"],"sourcesContent":["<script setup lang=\"ts\" generic=\"T\">\nimport type { Column, NonEmptyArray } from '@yeger/vue-masonry-wall-core'\nimport { useMasonryWall } from '@yeger/vue-masonry-wall-core'\nimport type { Ref, VNode } from 'vue'\nimport { nextTick, onBeforeUnmount, onMounted, ref, toRefs, watch } from 'vue'\n\nexport type KeyMapper<T> = (\n  item: T,\n  column: number,\n  row: number,\n  index: number,\n) => string | number | symbol | undefined\n\nconst props = withDefaults(\n  defineProps<{\n    columnWidth?: number | NonEmptyArray<number> | undefined\n    items: T[]\n    gap?: number | undefined\n    rtl?: boolean | undefined\n    ssrColumns?: number | undefined\n    scrollContainer?: HTMLElement | null | undefined\n    minColumns?: number | undefined\n    maxColumns?: number | undefined\n    keyMapper?: KeyMapper<T> | undefined\n  }>(),\n  {\n    columnWidth: 400,\n    gap: 0,\n    minColumns: 1,\n    rtl: false,\n    scrollContainer: null,\n    ssrColumns: 0,\n  },\n)\n\nconst emit = defineEmits<{\n  (event: 'redraw'): void\n  (event: 'redrawSkip'): void\n}>()\n\ndefineSlots<{\n  default?: (props: {\n    item: T\n    column: number\n    columnCount: number\n    row: number\n    index: number\n  }) => VNode | VNode[] | Element | Element[]\n}>()\n\nconst columns = ref<Column[]>([])\nconst wall = ref<HTMLDivElement>() as Ref<HTMLDivElement>\n\nconst { getColumnWidthTarget } = useMasonryWall<T>({\n  columns,\n  emit,\n  nextTick,\n  onBeforeUnmount,\n  onMounted,\n  vue: 3,\n  wall,\n  watch,\n  ...toRefs(props),\n})\n</script>\n\n<template>\n  <div\n    ref=\"wall\"\n    class=\"masonry-wall\"\n    :style=\"{ display: 'flex', gap: `${gap}px` }\"\n  >\n    <div\n      v-for=\"(column, columnIndex) in columns\"\n      :key=\"columnIndex\"\n      class=\"masonry-column\"\n      :data-index=\"columnIndex\"\n      :style=\"{\n        'display': 'flex',\n        'flex-basis': `${getColumnWidthTarget(columnIndex)}px`,\n        'flex-direction': 'column',\n        'flex-grow': 1,\n        'gap': `${gap}px`,\n        'height': [\n          '-webkit-max-content',\n          '-moz-max-content',\n          'max-content',\n        ] as any,\n        'min-width': 0,\n      }\"\n    >\n      <div\n        v-for=\"(itemIndex, row) in column\"\n        :key=\"\n          keyMapper?.(items[itemIndex]!, columnIndex, row, itemIndex)\n            ?? itemIndex\n        \"\n        class=\"masonry-item\"\n      >\n        <slot\n          :item=\"items[itemIndex]!\"\n          :column=\"columnIndex\"\n          :column-count=\"columns.length\"\n          :row=\"row\"\n          :index=\"itemIndex\"\n        >\n          {{ items[itemIndex] }}\n        </slot>\n      </div>\n    </div>\n  </div>\n</template>\n","<script setup lang=\"ts\" generic=\"T\">\nimport type { Column, NonEmptyArray } from '@yeger/vue-masonry-wall-core'\nimport { useMasonryWall } from '@yeger/vue-masonry-wall-core'\nimport type { Ref, VNode } from 'vue'\nimport { nextTick, onBeforeUnmount, onMounted, ref, toRefs, watch } from 'vue'\n\nexport type KeyMapper<T> = (\n  item: T,\n  column: number,\n  row: number,\n  index: number,\n) => string | number | symbol | undefined\n\nconst props = withDefaults(\n  defineProps<{\n    columnWidth?: number | NonEmptyArray<number> | undefined\n    items: T[]\n    gap?: number | undefined\n    rtl?: boolean | undefined\n    ssrColumns?: number | undefined\n    scrollContainer?: HTMLElement | null | undefined\n    minColumns?: number | undefined\n    maxColumns?: number | undefined\n    keyMapper?: KeyMapper<T> | undefined\n  }>(),\n  {\n    columnWidth: 400,\n    gap: 0,\n    minColumns: 1,\n    rtl: false,\n    scrollContainer: null,\n    ssrColumns: 0,\n  },\n)\n\nconst emit = defineEmits<{\n  (event: 'redraw'): void\n  (event: 'redrawSkip'): void\n}>()\n\ndefineSlots<{\n  default?: (props: {\n    item: T\n    column: number\n    columnCount: number\n    row: number\n    index: number\n  }) => VNode | VNode[] | Element | Element[]\n}>()\n\nconst columns = ref<Column[]>([])\nconst wall = ref<HTMLDivElement>() as Ref<HTMLDivElement>\n\nconst { getColumnWidthTarget } = useMasonryWall<T>({\n  columns,\n  emit,\n  nextTick,\n  onBeforeUnmount,\n  onMounted,\n  vue: 3,\n  wall,\n  watch,\n  ...toRefs(props),\n})\n</script>\n\n<template>\n  <div\n    ref=\"wall\"\n    class=\"masonry-wall\"\n    :style=\"{ display: 'flex', gap: `${gap}px` }\"\n  >\n    <div\n      v-for=\"(column, columnIndex) in columns\"\n      :key=\"columnIndex\"\n      class=\"masonry-column\"\n      :data-index=\"columnIndex\"\n      :style=\"{\n        'display': 'flex',\n        'flex-basis': `${getColumnWidthTarget(columnIndex)}px`,\n        'flex-direction': 'column',\n        'flex-grow': 1,\n        'gap': `${gap}px`,\n        'height': [\n          '-webkit-max-content',\n          '-moz-max-content',\n          'max-content',\n        ] as any,\n        'min-width': 0,\n      }\"\n    >\n      <div\n        v-for=\"(itemIndex, row) in column\"\n        :key=\"\n          keyMapper?.(items[itemIndex]!, columnIndex, row, itemIndex)\n            ?? itemIndex\n        \"\n        class=\"masonry-item\"\n      >\n        <slot\n          :item=\"items[itemIndex]!\"\n          :column=\"columnIndex\"\n          :column-count=\"columns.length\"\n          :row=\"row\"\n          :index=\"itemIndex\"\n        >\n          {{ items[itemIndex] }}\n        </slot>\n      </div>\n    </div>\n  </div>\n</template>\n","import type { App, Plugin } from 'vue'\n\nimport component from './masonry-wall.vue'\n\nexport type MasonryWallComponent = typeof component\n\ntype MasonryWallPlugin = MasonryWallComponent & Plugin\n\nconst MasonryWall: MasonryWallPlugin =\n  /* #__PURE__ */ ((): MasonryWallPlugin => {\n    const installable = component as unknown as MasonryWallPlugin\n\n    installable.install = (app: App) => {\n      app.component('MasonryWall', installable)\n    }\n\n    return installable\n  })()\n\ndeclare module 'vue' {\n  export interface GlobalComponents {\n    MasonryWall: MasonryWallComponent\n  }\n}\n\nexport default MasonryWall\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;EAaA,MAAM,QAAQ;EAsBd,MAAM,OAAO;EAeb,MAAM,UAAU,IAAc,EAAE,CAAA;EAChC,MAAM,OAAO,KAAqB;EAElC,MAAM,EAAE,yBAAyB,eAAkB;GACjD;GACA;GACA;GACA;GACA;GACA,KAAK;GACL;GACA;GACA,GAAG,OAAO,MAAM;GACjB,CAAA;;uBAIC,mBA2CM,OAAA;aA1CA;IAAJ,KAAI;IACJ,OAAM;IACL,OAAK,eAAA;KAAA,SAAA;KAAA,KAAA,GAA6B,QAAA,IAAG;KAAA,CAAA;yBAEtC,mBAqCM,UAAA,MAAA,WApC4B,QAAA,QAAxB,QAAQ,gBAAW;wBAD7B,mBAqCM,OAAA;KAnCH,KAAK;KACN,OAAM;KACL,cAAY;KACZ,OAAK,eAAA;;uBAAwD,MAAA,qBAAoB,CAAC,YAAW,CAAA;;;gBAAqF,QAAA,IAAG;;;;;;;;0BActL,mBAiBM,UAAA,MAAA,WAhBuB,SAAnB,WAAW,QAAG;yBADxB,mBAiBM,OAAA;MAfH,KAAgB,QAAA,YAAY,QAAA,MAAM,YAAa,aAAa,KAAK,UAAS,IAAiB;MAI5F,OAAM;SAEN,WAQO,KAAA,QAAA,WAAA;MAPJ,MAAM,QAAA,MAAM;MACZ,QAAQ;MACR,aAAc,QAAA,MAAQ;MACjB;MACL,OAAO;cAGH,iCADF,QAAA,MAAM,WAAS,EAAA,EAAA;;;;;;;;;;;;;AElG5B,MAAMA,cACY,uBAA0B;CACxC,MAAM,cAAcC;AAEpB,aAAY,WAAW,QAAa;AAClC,MAAI,UAAU,eAAe,YAAY;;AAG3C,QAAO;IACL;AAQN,kBAAe"}