/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:70: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [05/Dec/2025 20:38:23] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:70: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [05/Dec/2025 20:53:24] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:70: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [05/Dec/2025 21:14:59] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:70: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [05/Dec/2025 21:28:13] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [05/Dec/2025 21:28:21] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [05/Dec/2025 21:28:52] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:70: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [05/Dec/2025 21:34:20] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [05/Dec/2025 21:34:30] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:70: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [05/Dec/2025 21:43:25] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [05/Dec/2025 21:43:56] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [05/Dec/2025 21:44:08] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:70: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [05/Dec/2025 21:48:38] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [05/Dec/2025 21:49:35] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [05/Dec/2025 21:53:55] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [05/Dec/2025 22:37:24] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [05/Dec/2025 22:37:38] "POST /callback HTTP/1.1" 200 -
Traceback (most recent call last):
  File "/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/bot.py", line 335, in generate_response
    response = chat_session.send_message(user_question_with_context)
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/generativeai/generative_models.py", line 591, in send_message
    self.history, content, response = self._handle_afc(
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/generativeai/generative_models.py", line 657, in _handle_afc
    response = self.model.generate_content(
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 835, in generate_content
    response = rpc(
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/retry/retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/retry/retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/retry/retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/retry/retry_unary.py", line 147, in retry_target
    result = target()
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 2, model: gemini-2.5-pro
Please retry in 54.186529737s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 2
}
, retry_delay {
  seconds: 54
}
]
127.0.0.1 - - [05/Dec/2025 22:38:05] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [05/Dec/2025 22:38:48] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:70: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [05/Dec/2025 22:43:43] "POST /callback HTTP/1.1" 200 -
Traceback (most recent call last):
  File "/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/bot.py", line 335, in generate_response
    response = chat_session.send_message(user_question_with_context)
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/generativeai/generative_models.py", line 591, in send_message
    self.history, content, response = self._handle_afc(
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/generativeai/generative_models.py", line 657, in _handle_afc
    response = self.model.generate_content(
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 835, in generate_content
    response = rpc(
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/retry/retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/retry/retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/retry/retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/retry/retry_unary.py", line 147, in retry_target
    result = target()
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 2, model: gemini-2.5-pro
Please retry in 56.797895771s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 2
}
, retry_delay {
  seconds: 56
}
]
127.0.0.1 - - [05/Dec/2025 22:44:03] "POST /callback HTTP/1.1" 200 -
Traceback (most recent call last):
  File "/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/bot.py", line 335, in generate_response
    response = chat_session.send_message(user_question_with_context)
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/generativeai/generative_models.py", line 578, in send_message
    response = self.model.generate_content(
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 835, in generate_content
    response = rpc(
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/retry/retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/retry/retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/retry/retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/retry/retry_unary.py", line 147, in retry_target
    result = target()
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 2, model: gemini-2.5-pro
Please retry in 42.368123925s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 2
}
, retry_delay {
  seconds: 42
}
]
127.0.0.1 - - [05/Dec/2025 22:44:17] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:70: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [05/Dec/2025 22:51:07] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
Traceback (most recent call last):
  File "/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py", line 14, in <module>
    from bot import HotelBot
  File "/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/bot.py", line 243
    else:
         ^
IndentationError: unindent does not match any outer indentation level
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
Traceback (most recent call last):
  File "/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py", line 14, in <module>
    from bot import HotelBot
  File "/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/bot.py", line 243
    else:
         ^
IndentationError: unindent does not match any outer indentation level
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
Traceback (most recent call last):
  File "/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py", line 14, in <module>
    from bot import HotelBot
  File "/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/bot.py", line 243
    else:
         ^
IndentationError: unindent does not match any outer indentation level
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
Traceback (most recent call last):
  File "/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py", line 14, in <module>
    from bot import HotelBot
  File "/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/bot.py", line 243
    else:
         ^
IndentationError: unindent does not match any outer indentation level
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
Creating new chat session for user: Ud48193b07e7c91b3fa90bfa8f0d33014
ü§ñ Sending to Gemini (Tools Enabled: True)...
ü§ñ Gemini Response Received.
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:70: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [05/Dec/2025 23:33:38] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
ü§ñ Gemini Response Received.
127.0.0.1 - - [05/Dec/2025 23:33:52] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
üîß Tool Called: get_weather_forecast(date_str=2025-12-05)
ü§ñ Gemini Response Received.
127.0.0.1 - - [05/Dec/2025 23:34:26] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
üîß Tool Called: get_weather_forecast(date_str=2025-12-06)
ü§ñ Gemini Response Received.
127.0.0.1 - - [05/Dec/2025 23:34:50] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
ü§ñ Gemini Response Received.
127.0.0.1 - - [05/Dec/2025 23:35:10] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
Traceback (most recent call last):
  File "/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/bot.py", line 347, in generate_response
    response = chat_session.send_message(user_question_with_context)
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/generativeai/generative_models.py", line 591, in send_message
    self.history, content, response = self._handle_afc(
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/generativeai/generative_models.py", line 647, in _handle_afc
    fr = tools_lib(fc)
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/generativeai/types/content_types.py", line 881, in __call__
    response = declaration(fc)
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/generativeai/types/content_types.py", line 641, in __call__
    result = self.function(**fc.args)
TypeError: check_order_status() got multiple values for argument 'order_id'
Gemini API Error: check_order_status() got multiple values for argument 'order_id'
Resetting session for user: Ud48193b07e7c91b3fa90bfa8f0d33014
127.0.0.1 - - [05/Dec/2025 23:36:00] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
Traceback (most recent call last):
  File "/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/bot.py", line 347, in generate_response
    response = chat_session.send_message(user_question_with_context)
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/generativeai/generative_models.py", line 591, in send_message
    self.history, content, response = self._handle_afc(
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/generativeai/generative_models.py", line 647, in _handle_afc
    fr = tools_lib(fc)
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/generativeai/types/content_types.py", line 881, in __call__
    response = declaration(fc)
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/generativeai/types/content_types.py", line 641, in __call__
    result = self.function(**fc.args)
TypeError: check_order_status() got multiple values for argument 'order_id'
Gemini API Error: check_order_status() got multiple values for argument 'order_id'
Resetting session for user: Ud48193b07e7c91b3fa90bfa8f0d33014
127.0.0.1 - - [05/Dec/2025 23:36:56] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
Creating new chat session for user: Ud48193b07e7c91b3fa90bfa8f0d33014
ü§ñ Sending to Gemini (Tools Enabled: True)...
ü§ñ Gemini Response Received.
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:70: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [05/Dec/2025 23:38:43] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
üîß Tool Called: check_order_status(order_id=664593, confirmed=False)
Searching for Order ID: 664593
‚ö†Ô∏è Direct search failed. Initiating Deep Scan for substring match: 664593
  - Deep Scan: Scanned 50 recent order emails.
  - ‚úÖ Found substring match in: È§®Âà•:0818,‰æÜÊ∫êÔºöAGODA,Ë®ÇÂñÆÁ∑®ËôüÔºöRMAG1675664593,ÁãÄÊÖã:Êñ∞Â¢û
Found 1 candidate messages. Analyzing priorities...
 - Inspecting: È§®Âà•:0818,‰æÜÊ∫êÔºöAGODA,Ë®ÇÂñÆÁ∑®ËôüÔºöRMAG1675664593,ÁãÄÊÖã:Êñ∞Â¢û
   -> Match found in Subject! Selecting this message.
ü§ñ Gemini Response Received.
127.0.0.1 - - [05/Dec/2025 23:39:06] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
üîß Tool Called: check_order_status(order_id=RMAG1675664593, confirmed=True)
Searching for Order ID: RMAG1675664593
Found 1 candidate messages. Analyzing priorities...
 - Inspecting: È§®Âà•:0818,‰æÜÊ∫êÔºöAGODA,Ë®ÇÂñÆÁ∑®ËôüÔºöRMAG1675664593,ÁãÄÊÖã:Êñ∞Â¢û
   -> Match found in Subject! Selecting this message.
ü§ñ Gemini Response Received.
127.0.0.1 - - [05/Dec/2025 23:39:51] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
üîß Tool Called: check_order_status(order_id=664593, confirmed=False)
Searching for Order ID: 664593
‚ö†Ô∏è Direct search failed. Initiating Deep Scan for substring match: 664593
  - Deep Scan: Scanned 50 recent order emails.
  - ‚úÖ Found substring match in: È§®Âà•:0818,‰æÜÊ∫êÔºöAGODA,Ë®ÇÂñÆÁ∑®ËôüÔºöRMAG1675664593,ÁãÄÊÖã:Êñ∞Â¢û
Found 1 candidate messages. Analyzing priorities...
 - Inspecting: È§®Âà•:0818,‰æÜÊ∫êÔºöAGODA,Ë®ÇÂñÆÁ∑®ËôüÔºöRMAG1675664593,ÁãÄÊÖã:Êñ∞Â¢û
   -> Match found in Subject! Selecting this message.
ü§ñ Gemini Response Received.
127.0.0.1 - - [05/Dec/2025 23:46:56] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
üîß Tool Called: check_order_status(order_id=RMAG1675664593, confirmed=True)
Searching for Order ID: RMAG1675664593
Found 1 candidate messages. Analyzing priorities...
 - Inspecting: È§®Âà•:0818,‰æÜÊ∫êÔºöAGODA,Ë®ÇÂñÆÁ∑®ËôüÔºöRMAG1675664593,ÁãÄÊÖã:Êñ∞Â¢û
   -> Match found in Subject! Selecting this message.
ÔøΩ Privacy Validator: THEEMAILCONTENTISMISSINGTHEREFORETHECHECKINDATECANNOTBEFOUNDRULEBASEDONTHEFAILURETOEXTRACTTHEREQUIREDDATETHEDETERMINATIONCANNOTBEAFFIRMATIVELYMADETHATTHEDATEISTODAYORFUTURENO
üö´ Blocking Past Order: Unknown
ü§ñ Gemini Response Received.
127.0.0.1 - - [05/Dec/2025 23:47:25] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
Creating new chat session for user: Ud48193b07e7c91b3fa90bfa8f0d33014
ü§ñ Sending to Gemini (Tools Enabled: True)...
ü§ñ Gemini Response Received.
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:70: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [05/Dec/2025 23:59:19] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
Creating new chat session for user: Ud48193b07e7c91b3fa90bfa8f0d33014
ü§ñ Sending to Gemini (Tools Enabled: True)...
ü§ñ Gemini Response Received.
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:70: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [06/Dec/2025 00:05:28] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
üîß Tool Called: check_order_status(order_id=664593, confirmed=False)
Searching for Order ID: 664593
‚ö†Ô∏è Direct search failed. Initiating Deep Scan for substring match: 664593
  - Deep Scan: Scanned 50 recent order emails.
  - ‚úÖ Found substring match in SUBJECT: È§®Âà•:0818,‰æÜÊ∫êÔºöAGODA,Ë®ÇÂñÆÁ∑®ËôüÔºöRMAG1675664593,ÁãÄÊÖã:Êñ∞Â¢û
Found 1 candidate messages. Analyzing priorities...
 - Inspecting: È§®Âà•:0818,‰æÜÊ∫êÔºöAGODA,Ë®ÇÂñÆÁ∑®ËôüÔºöRMAG1675664593,ÁãÄÊÖã:Êñ∞Â¢û
   -> Match found in Subject! Selecting this message.
ü§ñ Gemini Response Received.
127.0.0.1 - - [06/Dec/2025 00:05:46] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
üîß Tool Called: check_order_status(order_id=1675664593, confirmed=False)
Searching for Order ID: 1675664593
Found 3 candidate messages. Analyzing priorities...
 - Inspecting: Notification from Agoda (Dec 6-7, 2025)
 - Inspecting: AgodaË®ÇÂñÆÁ∑®Ëôü1675664593 - Á¢∫Ë™çË®ÇÂñÆ (Taiwan)
   -> Match found in Subject! Selecting this message.
ü§ñ Gemini Response Received.
127.0.0.1 - - [06/Dec/2025 00:06:13] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
ü§ñ Gemini Response Received.
127.0.0.1 - - [06/Dec/2025 00:06:58] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
üîß Tool Called: check_order_status(order_id=1675664593, confirmed=False)
Searching for Order ID: 1675664593
Found 3 candidate messages. Analyzing priorities...
 - Inspecting: Notification from Agoda (Dec 6-7, 2025)
 - Inspecting: AgodaË®ÇÂñÆÁ∑®Ëôü1675664593 - Á¢∫Ë™çË®ÇÂñÆ (Taiwan)
   -> Match found in Subject! Selecting this message.
ü§ñ Gemini Response Received.
127.0.0.1 - - [06/Dec/2025 00:09:09] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
Creating new chat session for user: Ud48193b07e7c91b3fa90bfa8f0d33014
ü§ñ Sending to Gemini (Tools Enabled: True)...
ü§ñ Gemini Response Received.
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:70: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [06/Dec/2025 00:14:27] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
ü§ñ Gemini Response Received.
127.0.0.1 - - [06/Dec/2025 00:14:35] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
üîß Tool Called: check_order_status(order_id=664593, confirmed=False)
Searching for Order ID: 664593
‚ö†Ô∏è Direct search failed. Initiating Deep Scan for substring match: 664593
  - Deep Scan: Scanned 50 recent order emails.
  - ‚úÖ Found substring match in SUBJECT: È§®Âà•:0818,‰æÜÊ∫êÔºöAGODA,Ë®ÇÂñÆÁ∑®ËôüÔºöRMAG1675664593,ÁãÄÊÖã:Êñ∞Â¢û
Found 1 candidate messages. Analyzing priorities...
 - Inspecting: È§®Âà•:0818,‰æÜÊ∫êÔºöAGODA,Ë®ÇÂñÆÁ∑®ËôüÔºöRMAG1675664593,ÁãÄÊÖã:Êñ∞Â¢û
   -> Match found in Subject! Selecting this message.
ü§ñ Gemini Response Received.
127.0.0.1 - - [06/Dec/2025 00:15:05] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
üîß Tool Called: check_order_status(order_id=1675664593, confirmed=False)
Searching for Order ID: 1675664593
Found 3 candidate messages. Analyzing priorities...
 - Inspecting: Notification from Agoda (Dec 6-7, 2025)
 - Inspecting: AgodaË®ÇÂñÆÁ∑®Ëôü1675664593 - Á¢∫Ë™çË®ÇÂñÆ (Taiwan)
   -> Match found in Subject! Selecting this message.
ü§ñ Gemini Response Received.
127.0.0.1 - - [06/Dec/2025 00:15:23] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
Creating new chat session for user: Ud48193b07e7c91b3fa90bfa8f0d33014
ü§ñ Sending to Gemini (Tools Enabled: True)...
ü§ñ Gemini Response Received.
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:70: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [06/Dec/2025 00:18:18] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
üîß Tool Called: check_order_status(order_id=664593, confirmed=False)
Searching for Order ID: 664593
‚ö†Ô∏è Direct search failed. Initiating Deep Scan for substring match: 664593
  - Deep Scan: Scanned 50 recent order emails.
  - ‚úÖ Found substring match in SUBJECT: È§®Âà•:0818,‰æÜÊ∫êÔºöAGODA,Ë®ÇÂñÆÁ∑®ËôüÔºöRMAG1675664593,ÁãÄÊÖã:Êñ∞Â¢û
Found 1 candidate messages. Analyzing priorities...
 - Inspecting: È§®Âà•:0818,‰æÜÊ∫êÔºöAGODA,Ë®ÇÂñÆÁ∑®ËôüÔºöRMAG1675664593,ÁãÄÊÖã:Êñ∞Â¢û
   -> Match found in Subject! Selecting this message.
ü§ñ Gemini Response Received.
127.0.0.1 - - [06/Dec/2025 00:18:34] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
üîß Tool Called: check_order_status(order_id=1675664593, confirmed=False)
Searching for Order ID: 1675664593
Found 3 candidate messages. Analyzing priorities...
 - Inspecting: Notification from Agoda (Dec 6-7, 2025)
 - Inspecting: AgodaË®ÇÂñÆÁ∑®Ëôü1675664593 - Á¢∫Ë™çË®ÇÂñÆ (Taiwan)
   -> Match found in Subject! Selecting this message.
ü§ñ Gemini Response Received.
127.0.0.1 - - [06/Dec/2025 00:18:56] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
Creating new chat session for user: Ud48193b07e7c91b3fa90bfa8f0d33014
ü§ñ Sending to Gemini (Tools Enabled: True)...
ü§ñ Gemini Response Received.
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:70: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [06/Dec/2025 00:25:47] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
üîß Tool Called: check_order_status(order_id=1675664593, confirmed=False)
Searching for Order ID: 1675664593
Found 3 candidate messages. Analyzing priorities...
 - Inspecting: Notification from Agoda (Dec 6-7, 2025)
 - Inspecting: AgodaË®ÇÂñÆÁ∑®Ëôü1675664593 - Á¢∫Ë™çË®ÇÂñÆ (Taiwan)
   -> Match found in Subject! Selecting this message.
ü§ñ Gemini Response Received.
127.0.0.1 - - [06/Dec/2025 00:25:59] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
üîß Tool Called: check_order_status(order_id=1675664593, confirmed=False)
Searching for Order ID: 1675664593
Found 3 candidate messages. Analyzing priorities...
 - Inspecting: Notification from Agoda (Dec 6-7, 2025)
 - Inspecting: AgodaË®ÇÂñÆÁ∑®Ëôü1675664593 - Á¢∫Ë™çË®ÇÂñÆ (Taiwan)
   -> Match found in Subject! Selecting this message.
ü§ñ Gemini Response Received.
127.0.0.1 - - [06/Dec/2025 00:26:24] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
Creating new chat session for user: Ud48193b07e7c91b3fa90bfa8f0d33014
ü§ñ Sending to Gemini (Tools Enabled: True)...
ü§ñ Gemini Response Received.
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:70: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [06/Dec/2025 00:36:12] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
ü§ñ Gemini Response Received.
127.0.0.1 - - [06/Dec/2025 00:36:25] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
üîß Tool Called: check_order_status(order_id=1675664593, confirmed=False)
Searching for Order ID: 1675664593
Found 3 candidate messages. Analyzing priorities...
 - Inspecting: Notification from Agoda (Dec 6-7, 2025)
 - Inspecting: AgodaË®ÇÂñÆÁ∑®Ëôü1675664593 - Á¢∫Ë™çË®ÇÂñÆ (Taiwan)
   -> Match found in Subject! Selecting this message.
üîç Match Debug: ID=1675664593, Subject=AgodaË®ÇÂñÆÁ∑®Ëôü1675664593 - Á¢∫Ë™çË®ÇÂñÆ (Taiwan), StrongMatch=True
ü§ñ Auto-Confirming Strong Match: 1675664593
ÔøΩ Privacy Validator: NO
üö´ Blocking Past Order: 1675664593
ü§ñ Gemini Response Received.
127.0.0.1 - - [06/Dec/2025 00:36:47] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
Creating new chat session for user: Ud48193b07e7c91b3fa90bfa8f0d33014
ü§ñ Sending to Gemini (Tools Enabled: True)...
ü§ñ Gemini Response Received.
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:70: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [06/Dec/2025 00:39:29] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
üîß Tool Called: check_order_status(order_id=1675664593, confirmed=False)
Searching for Order ID: 1675664593
Found 3 candidate messages. Analyzing priorities...
 - Inspecting: Notification from Agoda (Dec 6-7, 2025)
 - Inspecting: AgodaË®ÇÂñÆÁ∑®Ëôü1675664593 - Á¢∫Ë™çË®ÇÂñÆ (Taiwan)
   -> Match found in Subject! Selecting this message.
üîç Match Debug: ID=1675664593, Subject=AgodaË®ÇÂñÆÁ∑®Ëôü1675664593 - Á¢∫Ë™çË®ÇÂñÆ (Taiwan), StrongMatch=True
ü§ñ Auto-Confirming Strong Match: 1675664593
üîí Privacy Validator: YES (Today: 2025-12-06)
ü§ñ Gemini Response Received.
127.0.0.1 - - [06/Dec/2025 00:39:53] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
üîß Tool Called: check_order_status(order_id=1675664593, confirmed=True)
Searching for Order ID: 1675664593
Found 3 candidate messages. Analyzing priorities...
 - Inspecting: Notification from Agoda (Dec 6-7, 2025)
 - Inspecting: AgodaË®ÇÂñÆÁ∑®Ëôü1675664593 - Á¢∫Ë™çË®ÇÂñÆ (Taiwan)
   -> Match found in Subject! Selecting this message.
üîí Privacy Validator: NO (Today: 2025-12-06)
üö´ Blocking Old Order (Over 5 days): 1675664593
üîß Tool Called: get_weather_forecast(date_str=2025-12-06)
ü§ñ Gemini Response Received.
127.0.0.1 - - [06/Dec/2025 00:40:24] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
Creating new chat session for user: Ud48193b07e7c91b3fa90bfa8f0d33014
ü§ñ Sending to Gemini (Tools Enabled: True)...
ü§ñ Gemini Response Received.
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:70: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [06/Dec/2025 00:46:58] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
üîß Tool Called: check_order_status(order_id=1675664593, confirmed=False)
Searching for Order ID: 1675664593
Found 3 candidate messages. Analyzing priorities...
 - Inspecting: Notification from Agoda (Dec 6-7, 2025)
 - Inspecting: AgodaË®ÇÂñÆÁ∑®Ëôü1675664593 - Á¢∫Ë™çË®ÇÂñÆ (Taiwan)
   -> Match found in Subject! Selecting this message.
üîç Match Debug: ID=1675664593, Subject=AgodaË®ÇÂñÆÁ∑®Ëôü1675664593 - Á¢∫Ë™çË®ÇÂñÆ (Taiwan), StrongMatch=True
ü§ñ Auto-Confirming Strong Match: 1675664593
üîí Privacy Validator: NO (Today: 2025-12-06)
üö´ Blocking Old Order (Over 5 days): 1675664593
ü§ñ Gemini Response Received.
127.0.0.1 - - [06/Dec/2025 00:47:14] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
ü§ñ Gemini Response Received.
127.0.0.1 - - [06/Dec/2025 01:17:13] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
Creating new chat session for user: Ud48193b07e7c91b3fa90bfa8f0d33014
ü§ñ Sending to Gemini (Tools Enabled: True)...
ü§ñ Gemini Response Received.
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:70: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [06/Dec/2025 01:22:47] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
üîß Tool Called: check_order_status(order_id=1675664593, confirmed=False)
Searching for Order ID: 1675664593
Found 3 candidate messages. Analyzing priorities...
 - Inspecting: Notification from Agoda (Dec 6-7, 2025)
 - Inspecting: AgodaË®ÇÂñÆÁ∑®Ëôü1675664593 - Á¢∫Ë™çË®ÇÂñÆ (Taiwan)
   -> Match found in Subject! Selecting this message.
üîç Match Debug: ID=1675664593, Subject=AgodaË®ÇÂñÆÁ∑®Ëôü1675664593 - Á¢∫Ë™çË®ÇÂñÆ (Taiwan), StrongMatch=True
ü§ñ Auto-Confirming Strong Match: 1675664593
üìß Cleaned Email Body Preview (First 500 chars):
Hotel Voucher : Agoda.com IATA 96-6 3780 0 Booking ID Ë®ÇÂñÆÁ∑®Ëôü 1675664593 Reservation Information È†êË®ÇË≥áË®ä Â∑≤È¢ÑÂÖà‰ªòÊ¨æ Booking confirmation È†êË®ÇÂÖ•‰ΩèÊÜëË≠â kuei ti wan hotel (Property ID 10609558 ) City ÂüéÂ∏Ç : Kenting Marsha Code : Customer First Name È°ßÂÆ¢(Âêç)Ôºö WU WEILING Customer Last Name È°ßÂÆ¢ÂßìÊ∞è WI Country of Residence Â±Ö‰ΩèÂú∞ Taiwan Check-in ÂÖ•‰Ωè 6-Dec-2025 (6-12-2025) Check-out ÈÄÄÊàø 7-Dec-2025 (7-12-2025) Other Guests ÂÖ∂‰ªñ‰ΩèÂÆ¢ [RmNo.1] WU WEILING WI , [RmNo.1] Guest of WU WEILING WI , [RmNo.1] Guest of WU WEILING WI , [RmNo.1] Guest
ü§î Validator Thought Process:
REASON: [Found Date: 2025-12-06, Days Ago: 0, Decision: Valid because the check-in date is 0 days ago (within the 5-day allowance).]
RESULT: [YES]
üîí Privacy Validator Final Decision: YES (Today: 2025-12-06)
üîß Tool Called: get_weather_forecast(date_str=2025-12-06)
ü§ñ Gemini Response Received.
127.0.0.1 - - [06/Dec/2025 01:23:05] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
Creating new chat session for user: Ud48193b07e7c91b3fa90bfa8f0d33014
ü§ñ Sending to Gemini (Tools Enabled: True)...
ü§ñ Gemini Response Received.
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:70: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [06/Dec/2025 01:24:50] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
ü§ñ Gemini Response Received.
127.0.0.1 - - [06/Dec/2025 01:25:16] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
üîß Tool Called: check_order_status(order_id=1675664593, confirmed=False)
Searching for Order ID: 1675664593
Found 3 candidate messages. Analyzing priorities...
 - Inspecting: Notification from Agoda (Dec 6-7, 2025)
 - Inspecting: AgodaË®ÇÂñÆÁ∑®Ëôü1675664593 - Á¢∫Ë™çË®ÇÂñÆ (Taiwan)
   -> Match found in Subject! Selecting this message.
üîç Match Debug: ID=1675664593, Subject=AgodaË®ÇÂñÆÁ∑®Ëôü1675664593 - Á¢∫Ë™çË®ÇÂñÆ (Taiwan), StrongMatch=True
ü§ñ Auto-Confirming Strong Match: 1675664593
üìß Cleaned Email Body Preview (First 500 chars):
Hotel Voucher : Agoda.com IATA 96-6 3780 0 Booking ID Ë®ÇÂñÆÁ∑®Ëôü 1675664593 Reservation Information È†êË®ÇË≥áË®ä Â∑≤È¢ÑÂÖà‰ªòÊ¨æ Booking confirmation È†êË®ÇÂÖ•‰ΩèÊÜëË≠â kuei ti wan hotel (Property ID 10609558 ) City ÂüéÂ∏Ç : Kenting Marsha Code : Customer First Name È°ßÂÆ¢(Âêç)Ôºö WU WEILING Customer Last Name È°ßÂÆ¢ÂßìÊ∞è WI Country of Residence Â±Ö‰ΩèÂú∞ Taiwan Check-in ÂÖ•‰Ωè 6-Dec-2025 (6-12-2025) Check-out ÈÄÄÊàø 7-Dec-2025 (7-12-2025) Other Guests ÂÖ∂‰ªñ‰ΩèÂÆ¢ [RmNo.1] WU WEILING WI , [RmNo.1] Guest of WU WEILING WI , [RmNo.1] Guest of WU WEILING WI , [RmNo.1] Guest
ü§î Validator Thought Process:
REASON: [Found Date: 2025-12-06, Days Ago: 0, Decision: Valid because the check-in date is 0 days ago (<= 5 days).]
RESULT: [YES]
üîí Privacy Validator Final Decision: YES (Today: 2025-12-06)
ü§ñ Gemini Response Received.
127.0.0.1 - - [06/Dec/2025 01:25:35] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
Creating new chat session for user: Ud48193b07e7c91b3fa90bfa8f0d33014
ü§ñ Sending to Gemini (Tools Enabled: True)...
üîß Tool Called: check_order_status(order_id=1675664593, confirmed=False)
Searching for Order ID: 1675664593
Found 3 candidate messages. Analyzing priorities...
 - Inspecting: Notification from Agoda (Dec 6-7, 2025)
 - Inspecting: AgodaË®ÇÂñÆÁ∑®Ëôü1675664593 - Á¢∫Ë™çË®ÇÂñÆ (Taiwan)
   -> Match found in Subject! Selecting this message.
üîç Match Debug: ID=1675664593, Subject=AgodaË®ÇÂñÆÁ∑®Ëôü1675664593 - Á¢∫Ë™çË®ÇÂñÆ (Taiwan), StrongMatch=True
ü§ñ Auto-Confirming Strong Match: 1675664593
üìß Cleaned Email Body Preview (First 500 chars):
Hotel Voucher : Agoda.com IATA 96-6 3780 0 Booking ID Ë®ÇÂñÆÁ∑®Ëôü 1675664593 Reservation Information È†êË®ÇË≥áË®ä Â∑≤È¢ÑÂÖà‰ªòÊ¨æ Booking confirmation È†êË®ÇÂÖ•‰ΩèÊÜëË≠â kuei ti wan hotel (Property ID 10609558 ) City ÂüéÂ∏Ç : Kenting Marsha Code : Customer First Name È°ßÂÆ¢(Âêç)Ôºö WU WEILING Customer Last Name È°ßÂÆ¢ÂßìÊ∞è WI Country of Residence Â±Ö‰ΩèÂú∞ Taiwan Check-in ÂÖ•‰Ωè 6-Dec-2025 (6-12-2025) Check-out ÈÄÄÊàø 7-Dec-2025 (7-12-2025) Other Guests ÂÖ∂‰ªñ‰ΩèÂÆ¢ [RmNo.1] WU WEILING WI , [RmNo.1] Guest of WU WEILING WI , [RmNo.1] Guest of WU WEILING WI , [RmNo.1] Guest
ü§î Validator Thought Process:
REASON: Found Date: 2025-12-06, Days Ago: 0, Decision: Valid because the check-in date is 0 days ago (the current date), which is within the 5-day allowed threshold.
RESULT: YES
üîí Privacy Validator Final Decision: YES (Today: 2025-12-06)
üîß Tool Called: get_weather_forecast(date_str=2025-12-06)
ü§ñ Gemini Response Received.
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:77: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [06/Dec/2025 01:29:31] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
Creating new chat session for user: Ud48193b07e7c91b3fa90bfa8f0d33014
ü§ñ Sending to Gemini (Tools Enabled: True)...
ü§ñ Gemini Response Received.
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:77: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [06/Dec/2025 01:36:00] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
ü§ñ Gemini Response Received.
127.0.0.1 - - [06/Dec/2025 01:36:08] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
ü§ñ Gemini Response Received.
Traceback (most recent call last):
  File "/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/bot.py", line 396, in generate_response
    reply_text = response.text
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/generativeai/types/generation_types.py", line 479, in text
    raise ValueError(msg)
ValueError: Invalid operation: The `response.text` quick accessor requires the response to contain a valid `Part`, but none were returned. The candidate's [finish_reason](https://ai.google.dev/api/generate-content#finishreason) is 1.
Gemini API Error: Invalid operation: The `response.text` quick accessor requires the response to contain a valid `Part`, but none were returned. The candidate's [finish_reason](https://ai.google.dev/api/generate-content#finishreason) is 1.
Resetting session for user: Ud48193b07e7c91b3fa90bfa8f0d33014
127.0.0.1 - - [06/Dec/2025 01:36:24] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
üîß Tool Called: check_order_status(order_id=1675664593, confirmed=False)
Searching for Order ID: 1675664593
Found 3 candidate messages. Analyzing priorities...
 - Inspecting: Notification from Agoda (Dec 6-7, 2025)
 - Inspecting: AgodaË®ÇÂñÆÁ∑®Ëôü1675664593 - Á¢∫Ë™çË®ÇÂñÆ (Taiwan)
   -> Match found in Subject! Selecting this message.
üîç Match Debug: ID=1675664593, Subject=AgodaË®ÇÂñÆÁ∑®Ëôü1675664593 - Á¢∫Ë™çË®ÇÂñÆ (Taiwan), StrongMatch=True
ü§ñ Auto-Confirming Strong Match: 1675664593
üìß Cleaned Email Body Preview (First 500 chars):
Hotel Voucher : Agoda.com IATA 96-6 3780 0 Booking ID Ë®ÇÂñÆÁ∑®Ëôü 1675664593 Reservation Information È†êË®ÇË≥áË®ä Â∑≤È¢ÑÂÖà‰ªòÊ¨æ Booking confirmation È†êË®ÇÂÖ•‰ΩèÊÜëË≠â kuei ti wan hotel (Property ID 10609558 ) City ÂüéÂ∏Ç : Kenting Marsha Code : Customer First Name È°ßÂÆ¢(Âêç)Ôºö WU WEILING Customer Last Name È°ßÂÆ¢ÂßìÊ∞è WI Country of Residence Â±Ö‰ΩèÂú∞ Taiwan Check-in ÂÖ•‰Ωè 6-Dec-2025 (6-12-2025) Check-out ÈÄÄÊàø 7-Dec-2025 (7-12-2025) Other Guests ÂÖ∂‰ªñ‰ΩèÂÆ¢ [RmNo.1] WU WEILING WI , [RmNo.1] Guest of WU WEILING WI , [RmNo.1] Guest of WU WEILING WI , [RmNo.1] Guest
ü§î Validator Thought Process:
REASON: [Found Date: 2025-12-06, Days Ago: 0, Decision: Valid because check-in date is within 5 days of the current date.]
RESULT: [YES]
üîí Privacy Validator Final Decision: YES (Today: 2025-12-06)
üîß Tool Called: get_weather_forecast(date_str=2025-12-06)
ü§ñ Gemini Response Received.
127.0.0.1 - - [06/Dec/2025 01:36:50] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
‚úÖ Google Services Authenticated Successfully!
Traceback (most recent call last):
  File "/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py", line 33, in <module>
    hotel_bot = HotelBot(kb_path, persona_path)
  File "/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/bot.py", line 142, in __init__
    self.model = genai.GenerativeModel(
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/generativeai/generative_models.py", line 85, in __init__
    self._safety_settings = safety_types.to_easy_safety_dict(safety_settings)
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/generativeai/types/safety_types.py", line 224, in to_easy_safety_dict
    return {to_harm_category(key): to_block_threshold(value) for key, value in settings.items()}
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/generativeai/types/safety_types.py", line 224, in <dictcomp>
    return {to_harm_category(key): to_block_threshold(value) for key, value in settings.items()}
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/generativeai/types/safety_types.py", line 107, in to_harm_category
    return _HARM_CATEGORIES[x]
KeyError: 'dangerous_content'
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
Creating new chat session for user: Ud48193b07e7c91b3fa90bfa8f0d33014
ü§ñ Sending to Gemini (Tools Enabled: True)...
ü§ñ Gemini Response Received.
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:77: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [06/Dec/2025 01:40:25] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
ü§ñ Gemini Response Received.
127.0.0.1 - - [06/Dec/2025 01:40:27] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
üîß Tool Called: check_order_status(order_id=664593, confirmed=False)
Searching for Order ID: 664593
‚ö†Ô∏è Direct search failed. Initiating Deep Scan for substring match: 664593
  - Deep Scan: Scanned 50 recent order emails.
  - ‚úÖ Found substring match in SUBJECT: È§®Âà•:0818,‰æÜÊ∫êÔºöAGODA,Ë®ÇÂñÆÁ∑®ËôüÔºöRMAG1675664593,ÁãÄÊÖã:Êñ∞Â¢û
Found 1 candidate messages. Analyzing priorities...
 - Inspecting: È§®Âà•:0818,‰æÜÊ∫êÔºöAGODA,Ë®ÇÂñÆÁ∑®ËôüÔºöRMAG1675664593,ÁãÄÊÖã:Êñ∞Â¢û
   -> Match found in Subject! Selecting this message.
üîç Match Debug: ID=664593, Subject=È§®Âà•:0818,‰æÜÊ∫êÔºöAGODA,Ë®ÇÂñÆÁ∑®ËôüÔºöRMAG1675664593,ÁãÄÊÖã:Êñ∞Â¢û, StrongMatch=False
ü§ñ Gemini Response Received.
127.0.0.1 - - [06/Dec/2025 01:40:41] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
üîß Tool Called: check_order_status(order_id=RMAG1675664593, confirmed=True)
Searching for Order ID: RMAG1675664593
Found 1 candidate messages. Analyzing priorities...
 - Inspecting: È§®Âà•:0818,‰æÜÊ∫êÔºöAGODA,Ë®ÇÂñÆÁ∑®ËôüÔºöRMAG1675664593,ÁãÄÊÖã:Êñ∞Â¢û
   -> Match found in Subject! Selecting this message.
üìß Cleaned Email Body Preview (First 500 chars):
È§®Âà•:0818,‰æÜÊ∫êÔºöAGODA,Ë®ÇÂñÆÁ∑®ËôüÔºöRMAG1675664593,ÁãÄÊÖã:Êñ∞Â¢û ÂÖ•‰ΩèÊó•:2025-12-06-2025-12-07,ÂêçÁ®±:OTAÂÆöÂÉπ‰∏çÂê´Êó©,Êï∏Èáè:1 **** Ê≠§ÈÉµ‰ª∂ÁÇ∫Á≥ªÁµ±Ëá™ÂãïÂÇ≥ÈÄÅÔºåË´ãÂãøÁõ¥Êé•ÂõûË¶Ü„ÄÇÂ¶ÇÊúâÂïèÈ°åË´ã‰æÜ‰ø° webhotel@webhotel.net.tw **** Please Note: This message is automatically sent, please do not reply directly! If there is any inquiry, please contact us via. webhotel@webhotel.net.tw
ü§î Validator Thought Process:
REASON: Found Date: 2025-12-06, Days Ago: 0, Decision: Valid because 0 days ago is less than or equal to the 5-day allowed window.
RESULT: YES
üîí Privacy Validator Final Decision: YES (Today: 2025-12-06)
üîß Tool Called: get_weather_forecast(date_str=2025-12-06)
ü§ñ Gemini Response Received.
127.0.0.1 - - [06/Dec/2025 01:41:04] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
Creating new chat session for user: Ud48193b07e7c91b3fa90bfa8f0d33014
ü§ñ Sending to Gemini (Tools Enabled: True)...
üîß Tool Called: check_order_status(order_id=664593, confirmed=False)
Searching for Order ID: 664593
‚ö†Ô∏è Direct search failed. Initiating Deep Scan for substring match: 664593
  - Deep Scan: Scanned 50 recent order emails.
  - ‚úÖ Found substring match in SUBJECT: È§®Âà•:0818,‰æÜÊ∫êÔºöAGODA,Ë®ÇÂñÆÁ∑®ËôüÔºöRMAG1675664593,ÁãÄÊÖã:Êñ∞Â¢û
Found 1 candidate messages. Analyzing priorities...
 - Inspecting: È§®Âà•:0818,‰æÜÊ∫êÔºöAGODA,Ë®ÇÂñÆÁ∑®ËôüÔºöRMAG1675664593,ÁãÄÊÖã:Êñ∞Â¢û
   -> ‚ö†Ô∏è Internal system notification - skipping
   -> No subject match found. Defaulting to most recent message.
üîç Match Debug: ID=664593, Subject=È§®Âà•:0818,‰æÜÊ∫êÔºöAGODA,Ë®ÇÂñÆÁ∑®ËôüÔºöRMAG1675664593,ÁãÄÊÖã:Êñ∞Â¢û, StrongMatch=False
ü§ñ Gemini Response Received.
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:77: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [06/Dec/2025 01:44:08] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
Creating new chat session for user: Ud48193b07e7c91b3fa90bfa8f0d33014
ü§ñ Sending to Gemini (Tools Enabled: True)...
ü§ñ Gemini Response Received.
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:77: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [06/Dec/2025 01:48:02] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
üîß Tool Called: check_order_status(order_id=664593, confirmed=False)
Searching for Order ID: 664593
‚ö†Ô∏è Direct search failed. Initiating Deep Scan for substring match: 664593
  - Deep Scan: Scanned 50 recent order emails.
  - ‚úÖ Found substring match in SUBJECT: È§®Âà•:0818,‰æÜÊ∫êÔºöAGODA,Ë®ÇÂñÆÁ∑®ËôüÔºöRMAG1675664593,ÁãÄÊÖã:Êñ∞Â¢û
Found 1 candidate messages. Analyzing priorities...
 - Inspecting: È§®Âà•:0818,‰æÜÊ∫êÔºöAGODA,Ë®ÇÂñÆÁ∑®ËôüÔºöRMAG1675664593,ÁãÄÊÖã:Êñ∞Â¢û
   -> ‚ö†Ô∏è Internal system notification - skipping
   -> No subject match found. Defaulting to most recent message.
üìã Extracted full order ID from subject: RMAG1675664593
üîç Match Debug: ID=664593, Found=RMAG1675664593, Subject=È§®Âà•:0818,‰æÜÊ∫êÔºöAGODA,Ë®ÇÂñÆÁ∑®ËôüÔºöRMAG1675664593,ÁãÄÊÖã:Êñ∞Â¢û, StrongMatch=False
ü§ñ Gemini Response Received.
127.0.0.1 - - [06/Dec/2025 01:48:13] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
üîß Tool Called: check_order_status(order_id=RMAG1675664593, confirmed=True)
Searching for Order ID: RMAG1675664593
Found 1 candidate messages. Analyzing priorities...
 - Inspecting: È§®Âà•:0818,‰æÜÊ∫êÔºöAGODA,Ë®ÇÂñÆÁ∑®ËôüÔºöRMAG1675664593,ÁãÄÊÖã:Êñ∞Â¢û
   -> ‚ö†Ô∏è Internal system notification - skipping
   -> No subject match found. Defaulting to most recent message.
üìã Extracted full order ID from subject: RMAG1675664593
üìß Cleaned Email Body Preview (First 500 chars):
È§®Âà•:0818,‰æÜÊ∫êÔºöAGODA,Ë®ÇÂñÆÁ∑®ËôüÔºöRMAG1675664593,ÁãÄÊÖã:Êñ∞Â¢û ÂÖ•‰ΩèÊó•:2025-12-06-2025-12-07,ÂêçÁ®±:OTAÂÆöÂÉπ‰∏çÂê´Êó©,Êï∏Èáè:1 **** Ê≠§ÈÉµ‰ª∂ÁÇ∫Á≥ªÁµ±Ëá™ÂãïÂÇ≥ÈÄÅÔºåË´ãÂãøÁõ¥Êé•ÂõûË¶Ü„ÄÇÂ¶ÇÊúâÂïèÈ°åË´ã‰æÜ‰ø° webhotel@webhotel.net.tw **** Please Note: This message is automatically sent, please do not reply directly! If there is any inquiry, please contact us via. webhotel@webhotel.net.tw
ü§î Validator Thought Process:
REASON: Found Date: 2025-12-06, Days Ago: 0, Decision: Valid because the check-in date is today, which is 0 days ago (<= 5 days).
RESULT: YES
üîí Privacy Validator Final Decision: YES (Today: 2025-12-06)
üîß Tool Called: get_weather_forecast(date_str=2025-12-06)
ü§ñ Gemini Response Received.
127.0.0.1 - - [06/Dec/2025 01:48:45] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
Creating new chat session for user: Ud48193b07e7c91b3fa90bfa8f0d33014
ü§ñ Sending to Gemini (Tools Enabled: True)...
üîß Tool Called: check_order_status(order_id=664593, confirmed=False)
Searching for Order ID: 664593
‚ö†Ô∏è Direct search failed. Initiating Deep Scan for substring match: 664593
  - Deep Scan: Scanned 50 recent order emails.
  - Found match: È§®Âà•:0818,‰æÜÊ∫êÔºöAGODA,Ë®ÇÂñÆÁ∑®ËôüÔºöRMAG1675664593,ÁãÄÊÖã:Êñ∞Â¢û (Internal: True)
  - ‚úÖ Official email found: AgodaË®ÇÂñÆÁ∑®Ëôü1675664593 - Á¢∫Ë™çË®ÇÂñÆ (Taiwan)
Found 1 candidate messages. Analyzing priorities...
 - Inspecting: AgodaË®ÇÂñÆÁ∑®Ëôü1675664593 - Á¢∫Ë™çË®ÇÂñÆ (Taiwan)
   -> ‚úÖ Official booking confirmation! Selecting this message.
üîç Match Debug: ID=664593, Found=664593, Subject=AgodaË®ÇÂñÆÁ∑®Ëôü1675664593 - Á¢∫Ë™çË®ÇÂñÆ (Taiwan), StrongMatch=False
ü§ñ Gemini Response Received.
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:77: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [06/Dec/2025 01:52:29] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
Creating new chat session for user: Ud48193b07e7c91b3fa90bfa8f0d33014
ü§ñ Sending to Gemini (Tools Enabled: True)...
üîß Tool Called: check_order_status(order_id=664593, confirmed=False)
Searching for Order ID: 664593
‚ö†Ô∏è Direct search failed. Initiating Deep Scan for substring match: 664593
  - Deep Scan: Scanned 50 recent order emails.
  - Found match: È§®Âà•:0818,‰æÜÊ∫êÔºöAGODA,Ë®ÇÂñÆÁ∑®ËôüÔºöRMAG1675664593,ÁãÄÊÖã:Êñ∞Â¢û (Internal: True)
  - ‚úÖ Official email found: AgodaË®ÇÂñÆÁ∑®Ëôü1675664593 - Á¢∫Ë™çË®ÇÂñÆ (Taiwan)
Found 1 candidate messages. Analyzing priorities...
 - Inspecting: AgodaË®ÇÂñÆÁ∑®Ëôü1675664593 - Á¢∫Ë™çË®ÇÂñÆ (Taiwan)
   -> ‚úÖ Official booking confirmation! Selecting this message.
üìã Extracted numeric order ID: 1675664593
üîç Match Debug: ID=664593, Found=1675664593, Subject=AgodaË®ÇÂñÆÁ∑®Ëôü1675664593 - Á¢∫Ë™çË®ÇÂñÆ (Taiwan), StrongMatch=False
ü§ñ Gemini Response Received.
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:77: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [06/Dec/2025 01:55:56] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
üîß Tool Called: check_order_status(order_id=1675664593, confirmed=True)
Searching for Order ID: 1675664593
Found 3 candidate messages. Analyzing priorities...
 - Inspecting: Notification from Agoda (Dec 6-7, 2025)
 - Inspecting: AgodaË®ÇÂñÆÁ∑®Ëôü1675664593 - Á¢∫Ë™çË®ÇÂñÆ (Taiwan)
   -> ‚úÖ Official booking confirmation! Selecting this message.
üìã Extracted numeric order ID: 1675664593
üìß Cleaned Email Body Preview (First 500 chars):
Hotel Voucher : Agoda.com IATA 96-6 3780 0 Booking ID Ë®ÇÂñÆÁ∑®Ëôü 1675664593 Reservation Information È†êË®ÇË≥áË®ä Â∑≤È¢ÑÂÖà‰ªòÊ¨æ Booking confirmation È†êË®ÇÂÖ•‰ΩèÊÜëË≠â kuei ti wan hotel (Property ID 10609558 ) City ÂüéÂ∏Ç : Kenting Marsha Code : Customer First Name È°ßÂÆ¢(Âêç)Ôºö WU WEILING Customer Last Name È°ßÂÆ¢ÂßìÊ∞è WI Country of Residence Â±Ö‰ΩèÂú∞ Taiwan Check-in ÂÖ•‰Ωè 6-Dec-2025 (6-12-2025) Check-out ÈÄÄÊàø 7-Dec-2025 (7-12-2025) Other Guests ÂÖ∂‰ªñ‰ΩèÂÆ¢ [RmNo.1] WU WEILING WI , [RmNo.1] Guest of WU WEILING WI , [RmNo.1] Guest of WU WEILING WI , [RmNo.1] Guest
ü§î Validator Thought Process:
REASON: Found Date: 2025-12-06, Days Ago: 0, Decision: Valid because the check-in date is 0 days from the current date (0 <= 5).
RESULT: YES
üîí Privacy Validator Final Decision: YES (Today: 2025-12-06)
üîß Tool Called: get_weather_forecast(date_str=2025-12-06)
ü§ñ Gemini Response Received.
127.0.0.1 - - [06/Dec/2025 01:56:20] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
ü§ñ Gemini Response Received.
127.0.0.1 - - [06/Dec/2025 01:58:35] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
ü§ñ Gemini Response Received.
127.0.0.1 - - [06/Dec/2025 01:58:52] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
üîß Tool Called: check_order_status(order_id=664593, confirmed=True)
Searching for Order ID: 664593
‚ö†Ô∏è Direct search failed. Initiating Deep Scan for substring match: 664593
  - Deep Scan: Scanned 50 recent order emails.
  - Found match: È§®Âà•:0818,‰æÜÊ∫êÔºöAGODA,Ë®ÇÂñÆÁ∑®ËôüÔºöRMAG1675664593,ÁãÄÊÖã:Êñ∞Â¢û (Internal: True)
  - ‚úÖ Official email found: AgodaË®ÇÂñÆÁ∑®Ëôü1675664593 - Á¢∫Ë™çË®ÇÂñÆ (Taiwan)
Found 1 candidate messages. Analyzing priorities...
 - Inspecting: AgodaË®ÇÂñÆÁ∑®Ëôü1675664593 - Á¢∫Ë™çË®ÇÂñÆ (Taiwan)
   -> ‚úÖ Official booking confirmation! Selecting this message.
üìã Extracted numeric order ID: 1675664593
üìß Cleaned Email Body Preview (First 500 chars):
Hotel Voucher : Agoda.com IATA 96-6 3780 0 Booking ID Ë®ÇÂñÆÁ∑®Ëôü 1675664593 Reservation Information È†êË®ÇË≥áË®ä Â∑≤È¢ÑÂÖà‰ªòÊ¨æ Booking confirmation È†êË®ÇÂÖ•‰ΩèÊÜëË≠â kuei ti wan hotel (Property ID 10609558 ) City ÂüéÂ∏Ç : Kenting Marsha Code : Customer First Name È°ßÂÆ¢(Âêç)Ôºö WU WEILING Customer Last Name È°ßÂÆ¢ÂßìÊ∞è WI Country of Residence Â±Ö‰ΩèÂú∞ Taiwan Check-in ÂÖ•‰Ωè 6-Dec-2025 (6-12-2025) Check-out ÈÄÄÊàø 7-Dec-2025 (7-12-2025) Other Guests ÂÖ∂‰ªñ‰ΩèÂÆ¢ [RmNo.1] WU WEILING WI , [RmNo.1] Guest of WU WEILING WI , [RmNo.1] Guest of WU WEILING WI , [RmNo.1] Guest
ü§î Validator Thought Process:
REASON: Found Date: 2025-12-06, Days Ago: 0, Decision: Valid because 0 days ago is within the 5-day allowed window.
RESULT: YES
üîí Privacy Validator Final Decision: YES (Today: 2025-12-06)
ü§ñ Gemini Response Received.
127.0.0.1 - - [06/Dec/2025 01:59:29] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
ü§ñ Gemini Response Received.
127.0.0.1 - - [06/Dec/2025 01:59:56] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
Creating new chat session for user: Ud48193b07e7c91b3fa90bfa8f0d33014
ü§ñ Sending to Gemini (Tools Enabled: True)...
ü§ñ Gemini Response Received.
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:77: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [06/Dec/2025 02:07:43] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
ü§ñ Gemini Response Received.
127.0.0.1 - - [06/Dec/2025 02:07:56] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
Creating new chat session for user: Ud48193b07e7c91b3fa90bfa8f0d33014
ü§ñ Sending to Gemini (Tools Enabled: True)...
ü§ñ Gemini Response Received.
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:77: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [06/Dec/2025 02:12:38] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
ü§ñ Gemini Response Received.
127.0.0.1 - - [06/Dec/2025 02:12:45] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
ü§ñ Gemini Response Received.
Traceback (most recent call last):
  File "/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/bot.py", line 451, in generate_response
    reply_text = response.text
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/generativeai/types/generation_types.py", line 479, in text
    raise ValueError(msg)
ValueError: Invalid operation: The `response.text` quick accessor requires the response to contain a valid `Part`, but none were returned. The candidate's [finish_reason](https://ai.google.dev/api/generate-content#finishreason) is 1.
Gemini API Error: Invalid operation: The `response.text` quick accessor requires the response to contain a valid `Part`, but none were returned. The candidate's [finish_reason](https://ai.google.dev/api/generate-content#finishreason) is 1.
Resetting session for user: Ud48193b07e7c91b3fa90bfa8f0d33014
127.0.0.1 - - [06/Dec/2025 02:19:44] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
Creating new chat session for user: Ud48193b07e7c91b3fa90bfa8f0d33014
ü§ñ Sending to Gemini (Tools Enabled: True)...
ü§ñ Gemini Response Received.
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:77: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [06/Dec/2025 02:20:07] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
Creating new chat session for user: Ud48193b07e7c91b3fa90bfa8f0d33014
ü§ñ Sending to Gemini (Tools Enabled: True)...
ü§ñ Gemini Response Received.
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:77: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [06/Dec/2025 02:24:19] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
ü§ñ Gemini Response Received.
127.0.0.1 - - [06/Dec/2025 02:24:37] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
ü§ñ Gemini Response Received.
127.0.0.1 - - [06/Dec/2025 02:32:07] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
Creating new chat session for user: Ud48193b07e7c91b3fa90bfa8f0d33014
ü§ñ Sending to Gemini (Tools Enabled: True)...
ü§ñ Gemini Response Received.
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:77: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [06/Dec/2025 02:32:27] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
üîß Tool Called: get_weather_forecast(date_str=2025-12-06)
ü§ñ Gemini Response Received.
127.0.0.1 - - [06/Dec/2025 02:32:52] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
üîß Tool Called: get_weather_forecast(date_str=2025-12-06)
ü§ñ Gemini Response Received.
127.0.0.1 - - [06/Dec/2025 02:33:20] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
ü§ñ Gemini Response Received.
127.0.0.1 - - [06/Dec/2025 02:35:13] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
üîß Tool Called: check_order_status(order_id=285738, confirmed=False)
Searching for Order ID: 285738
‚ö†Ô∏è Direct search failed. Initiating Deep Scan for substring match: 285738
  - Deep Scan: Scanned 50 recent order emails.
  - Found match: ÈæúÂú∞ÁÅ£ÊóÖÈ§®ËÇ°‰ªΩÊúâÈôêÂÖ¨Âè∏ Áπ≥Ê¨æÊàêÂäüÈÄöÁü• Á∑ö‰∏äË®ÇË≥ºÁ≥ªÁµ±-Ë®ÇÂñÆÁ∑®Ëôü:RMPGP250285738ÈáëÈ°ç:684.0 (Internal: True)
  - Using best available candidate
Found 1 candidate messages. Analyzing priorities...
 - Inspecting: ÈæúÂú∞ÁÅ£ÊóÖÈ§®ËÇ°‰ªΩÊúâÈôêÂÖ¨Âè∏ Áπ≥Ê¨æÊàêÂäüÈÄöÁü• Á∑ö‰∏äË®ÇË≥ºÁ≥ªÁµ±-Ë®ÇÂñÆÁ∑®Ëôü:RMPGP250285738ÈáëÈ°ç:684.0
   -> ‚ö†Ô∏è Internal system notification - skipping
   -> No subject match found. Defaulting to most recent message.
üìã Extracted numeric order ID: 250285738
üîç Match Debug: ID=285738, Found=250285738, Subject=ÈæúÂú∞ÁÅ£ÊóÖÈ§®ËÇ°‰ªΩÊúâÈôêÂÖ¨Âè∏ Áπ≥Ê¨æÊàêÂäüÈÄöÁü• Á∑ö‰∏äË®ÇË≥ºÁ≥ªÁµ±-Ë®ÇÂñÆÁ∑®Ëôü:RMPGP250285738ÈáëÈ°ç:684.0, StrongMatch=False
ü§ñ Gemini Response Received.
127.0.0.1 - - [06/Dec/2025 02:35:38] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
üîß Tool Called: check_order_status(order_id=250285738, confirmed=True)
Searching for Order ID: 250285738
‚ö†Ô∏è Direct search failed. Initiating Deep Scan for substring match: 250285738
  - Deep Scan: Scanned 50 recent order emails.
  - Found match: ÈæúÂú∞ÁÅ£ÊóÖÈ§®ËÇ°‰ªΩÊúâÈôêÂÖ¨Âè∏ Áπ≥Ê¨æÊàêÂäüÈÄöÁü• Á∑ö‰∏äË®ÇË≥ºÁ≥ªÁµ±-Ë®ÇÂñÆÁ∑®Ëôü:RMPGP250285738ÈáëÈ°ç:684.0 (Internal: True)
  - Using best available candidate
Found 1 candidate messages. Analyzing priorities...
 - Inspecting: ÈæúÂú∞ÁÅ£ÊóÖÈ§®ËÇ°‰ªΩÊúâÈôêÂÖ¨Âè∏ Áπ≥Ê¨æÊàêÂäüÈÄöÁü• Á∑ö‰∏äË®ÇË≥ºÁ≥ªÁµ±-Ë®ÇÂñÆÁ∑®Ëôü:RMPGP250285738ÈáëÈ°ç:684.0
   -> ‚ö†Ô∏è Internal system notification - skipping
   -> No subject match found. Defaulting to most recent message.
üìã Extracted numeric order ID: 250285738
üìß Cleaned Email Body Preview (First 500 chars):
ÂÖ•‰ΩèÊó•:2025/12/14,Áî¢ÂìÅÂêçÁ®±:ÂÆòÁ∂≤ÂÑ™ÊÉ†ÂÉπSD ,Êï∏Èáè:1 Ë®ÇÂñÆÁ∑®Ëôü:RMPGP250285738ÔºåÊü•ÁúãÂÆåÊï¥Ë®ÇÂñÆÂÖßÂÆπË´ãÈªûÈÅ∏ Ë®ÇÂñÆÊòéÁ¥∞ **** Ê≠§ÈÉµ‰ª∂ÁÇ∫Á≥ªÁµ±Ëá™ÂãïÂÇ≥ÈÄÅÔºåË´ãÂãøÁõ¥Êé•ÂõûË¶Ü„ÄÇÂ¶ÇÊúâÂïèÈ°åË´ã‰æÜ‰ø° kuei.ti.wan@gmail.com;ktw8822171@gmail.com **** Please Note: This message is automatically sent, please do not reply directly! If there is any inquiry, please contact us via kuei.ti.wan@gmail.com;ktw8822171@gmail.com
ü§î Validator Thought Process:
REASON: Found Date: 2025-12-14, Days Ago: -8, Decision: Valid because -8 is less than or equal to 5.
RESULT: YES
üîí Privacy Validator Final Decision: YES (Today: 2025-12-06)
üîß Tool Called: get_weather_forecast(date_str=2025-12-14)
ü§ñ Gemini Response Received.
127.0.0.1 - - [06/Dec/2025 02:36:48] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
Creating new chat session for user: Ud48193b07e7c91b3fa90bfa8f0d33014
ü§ñ Sending to Gemini (Tools Enabled: True)...
ü§ñ Gemini Response Received.
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:77: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [06/Dec/2025 03:01:51] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
ü§ñ Gemini Response Received.
127.0.0.1 - - [06/Dec/2025 03:01:58] "POST /callback HTTP/1.1" 200 -
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:89: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:94: LineBotSdkDeprecatedIn30: Call to deprecated method get_message_content. (Use 'from linebot.v3.messaging import MessagingApiBlob' and 'MessagingApiBlob(...).get_message_content(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  message_content = line_bot_api.get_message_content(event.message.id)
Gemini Vision Result: 1.  **Ë®ÇÂñÆÁ∑®Ëôü (Order ID) Extraction:** Yes, the image contains "Ë®ÇÂñÆÁ∑®Ëôü" which translates to "Order ID". The Order ID is **1675664593**.
2.  **Identified Numbers:**
    *   **Order ID:** 1675664593
    *   **Property ID:** 10609558
    *   **IATA Number:** 96-6 3780 0
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:100: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [06/Dec/2025 03:02:59] "POST /callback HTTP/1.1" 200 -
Injecting pending Order ID: 1675664593
ü§ñ Sending to Gemini (Tools Enabled: True)...
üîß Tool Called: check_order_status(order_id=1675664593, confirmed=True)
Searching for Order ID: 1675664593
Found 3 candidate messages. Analyzing priorities...
 - Inspecting: Notification from Agoda (Dec 6-7, 2025)
 - Inspecting: AgodaË®ÇÂñÆÁ∑®Ëôü1675664593 - Á¢∫Ë™çË®ÇÂñÆ (Taiwan)
   -> ‚úÖ Official booking confirmation! Selecting this message.
üìã Extracted numeric order ID: 1675664593
üìß Cleaned Email Body Preview (First 500 chars):
Hotel Voucher : Agoda.com IATA 96-6 3780 0 Booking ID Ë®ÇÂñÆÁ∑®Ëôü 1675664593 Reservation Information È†êË®ÇË≥áË®ä Â∑≤È¢ÑÂÖà‰ªòÊ¨æ Booking confirmation È†êË®ÇÂÖ•‰ΩèÊÜëË≠â kuei ti wan hotel (Property ID 10609558 ) City ÂüéÂ∏Ç : Kenting Marsha Code : Customer First Name È°ßÂÆ¢(Âêç)Ôºö WU WEILING Customer Last Name È°ßÂÆ¢ÂßìÊ∞è WI Country of Residence Â±Ö‰ΩèÂú∞ Taiwan Check-in ÂÖ•‰Ωè 6-Dec-2025 (6-12-2025) Check-out ÈÄÄÊàø 7-Dec-2025 (7-12-2025) Other Guests ÂÖ∂‰ªñ‰ΩèÂÆ¢ [RmNo.1] WU WEILING WI , [RmNo.1] Guest of WU WEILING WI , [RmNo.1] Guest of WU WEILING WI , [RmNo.1] Guest
ü§î Validator Thought Process:
REASON: [Found Date: 2025-12-06, Days Ago: 0, Decision: Valid because 0 <= 5 days ago]
RESULT: [YES]
üîí Privacy Validator Final Decision: YES (Today: 2025-12-06)
‚úÖ Privacy Check Passed for Order: 1675664593
üíæ Order 1675664593 saved to database
üîß Tool Called: get_weather_forecast(date_str=2025-12-06)
ü§ñ Gemini Response Received.
127.0.0.1 - - [06/Dec/2025 03:03:42] "POST /callback HTTP/1.1" 200 -
ü§ñ Sending to Gemini (Tools Enabled: True)...
ü§ñ Gemini Response Received.
127.0.0.1 - - [06/Dec/2025 03:04:27] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
Address already in use
Port 5001 is in use by another program. Either identify and stop that program, or start the server with a different port.
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
Address already in use
Port 5001 is in use by another program. Either identify and stop that program, or start the server with a different port.
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
Address already in use
Port 5001 is in use by another program. Either identify and stop that program, or start the server with a different port.
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
Address already in use
Port 5001 is in use by another program. Either identify and stop that program, or start the server with a different port.
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
Address already in use
Port 5001 is in use by another program. Either identify and stop that program, or start the server with a different port.
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
Address already in use
Port 5001 is in use by another program. Either identify and stop that program, or start the server with a different port.
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
Address already in use
Port 5001 is in use by another program. Either identify and stop that program, or start the server with a different port.
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
Address already in use
Port 5001 is in use by another program. Either identify and stop that program, or start the server with a different port.
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
Address already in use
Port 5001 is in use by another program. Either identify and stop that program, or start the server with a different port.
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:77: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [06/Dec/2025 03:44:53] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [06/Dec/2025 03:45:14] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [06/Dec/2025 03:45:40] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [06/Dec/2025 03:46:00] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [06/Dec/2025 03:46:31] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:77: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [06/Dec/2025 03:56:12] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:77: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [06/Dec/2025 04:12:22] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [06/Dec/2025 04:12:28] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [06/Dec/2025 04:13:00] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [06/Dec/2025 04:13:34] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [06/Dec/2025 04:13:54] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [06/Dec/2025 04:14:15] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [06/Dec/2025 04:14:32] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [06/Dec/2025 04:21:52] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [06/Dec/2025 04:22:08] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [06/Dec/2025 04:22:29] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [06/Dec/2025 04:22:42] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [06/Dec/2025 04:22:49] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:77: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [06/Dec/2025 04:24:27] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:77: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [06/Dec/2025 04:30:52] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:77: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [06/Dec/2025 04:51:46] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [06/Dec/2025 04:51:49] "POST /callback HTTP/1.1" 200 -
Traceback (most recent call last):
  File "/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/bot.py", line 611, in generate_response
    reply_text = response.text
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/google/generativeai/types/generation_types.py", line 479, in text
    raise ValueError(msg)
ValueError: Invalid operation: The `response.text` quick accessor requires the response to contain a valid `Part`, but none were returned. The candidate's [finish_reason](https://ai.google.dev/api/generate-content#finishreason) is 1.
127.0.0.1 - - [06/Dec/2025 04:51:54] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [06/Dec/2025 04:52:10] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [06/Dec/2025 04:52:32] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [06/Dec/2025 04:52:54] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [06/Dec/2025 04:53:04] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [06/Dec/2025 04:53:24] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [06/Dec/2025 04:53:41] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:77: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [06/Dec/2025 05:04:40] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:77: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [06/Dec/2025 05:43:59] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [06/Dec/2025 05:44:15] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:77: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [06/Dec/2025 05:46:26] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [06/Dec/2025 05:46:40] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [06/Dec/2025 06:15:18] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [06/Dec/2025 06:15:48] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [06/Dec/2025 06:16:30] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [06/Dec/2025 12:10:56] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [06/Dec/2025 12:12:07] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [06/Dec/2025 12:13:53] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [06/Dec/2025 12:14:32] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:77: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [06/Dec/2025 14:37:11] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [06/Dec/2025 14:37:40] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
127.0.0.1 - - [06/Dec/2025 18:19:57] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:77: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [07/Dec/2025 07:36:44] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [07/Dec/2025 07:36:54] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
127.0.0.1 - - [07/Dec/2025 14:38:21] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [07/Dec/2025 14:39:02] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [07/Dec/2025 22:20:42] "[31m[1mGET /callback HTTP/1.1[0m" 405 -
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:77: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [07/Dec/2025 22:25:46] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [07/Dec/2025 22:25:55] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
‚úÖ Google Services Authenticated Successfully!
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:77: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [07/Dec/2025 23:18:59] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [07/Dec/2025 23:19:19] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [07/Dec/2025 23:19:32] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [07/Dec/2025 23:19:40] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [07/Dec/2025 23:20:04] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [07/Dec/2025 23:20:29] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [07/Dec/2025 23:21:49] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [07/Dec/2025 23:22:21] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [07/Dec/2025 23:23:03] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [07/Dec/2025 23:23:16] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [07/Dec/2025 23:23:53] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [07/Dec/2025 23:24:19] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [07/Dec/2025 23:24:30] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
‚úÖ Google Services Authenticated Successfully!
‚úÖ HotelBot initialized.
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
[2025-12-08 02:32:19,083] ERROR in app: Exception on /callback [POST]
Traceback (most recent call last):
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py", line 46, in callback
    handler.handle(body, signature)
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/linebot/webhook.py", line 278, in handle
    self.__invoke_func(func, event, payload)
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/linebot/webhook.py", line 290, in __invoke_func
    func(event)
  File "/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py", line 67, in handle_message
    reply_text = hotel_bot.generate_response(user_msg, user_id, display_name)
  File "/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/bot.py", line 693, in generate_response
    today_str = datetime.now().strftime("%Y-%m-%d")
UnboundLocalError: local variable 'datetime' referenced before assignment
127.0.0.1 - - [08/Dec/2025 02:32:19] "[35m[1mPOST /callback HTTP/1.1[0m" 500 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
‚úÖ Google Services Authenticated Successfully!
‚úÖ HotelBot initialized.
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
[2025-12-08 02:33:07,500] ERROR in app: Exception on /callback [POST]
Traceback (most recent call last):
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py", line 46, in callback
    handler.handle(body, signature)
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/linebot/webhook.py", line 278, in handle
    self.__invoke_func(func, event, payload)
  File "/Users/like/Library/Python/3.9/lib/python/site-packages/linebot/webhook.py", line 290, in __invoke_func
    func(event)
  File "/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py", line 67, in handle_message
    reply_text = hotel_bot.generate_response(user_msg, user_id, display_name)
  File "/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/bot.py", line 693, in generate_response
    today_str = datetime.now().strftime("%Y-%m-%d")
UnboundLocalError: local variable 'datetime' referenced before assignment
127.0.0.1 - - [08/Dec/2025 02:33:07] "[35m[1mPOST /callback HTTP/1.1[0m" 500 -
127.0.0.1 - - [08/Dec/2025 02:37:33] "[33mGET / HTTP/1.1[0m" 404 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
‚úÖ Google Services Authenticated Successfully!
‚úÖ HotelBot initialized.
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.15:5001
[33mPress CTRL+C to quit[0m
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
‚úÖ Google Services Authenticated Successfully!
‚úÖ HotelBot initialized.
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.8.32:5001
[33mPress CTRL+C to quit[0m
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
‚úÖ Google Services Authenticated Successfully!
‚úÖ HotelBot initialized.
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.8.32:5001
[33mPress CTRL+C to quit[0m
127.0.0.1 - - [08/Dec/2025 21:47:47] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [08/Dec/2025 21:48:03] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [08/Dec/2025 22:26:23] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
‚úÖ Google Services Authenticated Successfully!
‚úÖ HotelBot initialized.
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.8.32:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:77: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [08/Dec/2025 23:48:51] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [09/Dec/2025 08:44:37] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [09/Dec/2025 08:44:55] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [09/Dec/2025 08:49:13] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [09/Dec/2025 11:17:24] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [09/Dec/2025 11:17:57] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [09/Dec/2025 11:18:35] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [09/Dec/2025 11:19:13] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [09/Dec/2025 11:19:29] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [09/Dec/2025 11:19:38] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [09/Dec/2025 11:19:51] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [09/Dec/2025 12:40:15] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [09/Dec/2025 12:52:30] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [09/Dec/2025 12:53:37] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [09/Dec/2025 12:53:38] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [09/Dec/2025 12:53:38] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [09/Dec/2025 12:54:13] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [09/Dec/2025 12:55:35] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [09/Dec/2025 12:57:50] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [09/Dec/2025 13:21:13] "POST /callback HTTP/1.1" 200 -
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:89: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:94: LineBotSdkDeprecatedIn30: Call to deprecated method get_message_content. (Use 'from linebot.v3.messaging import MessagingApiBlob' and 'MessagingApiBlob(...).get_message_content(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  message_content = line_bot_api.get_message_content(event.message.id)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:100: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [09/Dec/2025 13:21:57] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [09/Dec/2025 13:22:14] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [09/Dec/2025 13:22:47] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [09/Dec/2025 13:23:03] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [09/Dec/2025 13:50:14] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [09/Dec/2025 13:50:52] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [09/Dec/2025 13:51:51] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [09/Dec/2025 13:52:57] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [09/Dec/2025 13:54:30] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [09/Dec/2025 13:57:42] "POST /callback HTTP/1.1" 200 -
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:114: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
/Users/like/Desktop/line@Ë®ÇÂñÆÂÆ¢ÊúçAGA/app.py:126: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [09/Dec/2025 13:58:09] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [09/Dec/2025 14:32:56] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [09/Dec/2025 14:33:28] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [09/Dec/2025 14:35:05] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [09/Dec/2025 14:35:42] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [09/Dec/2025 14:36:06] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [09/Dec/2025 14:37:00] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [09/Dec/2025 14:37:32] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [09/Dec/2025 14:38:03] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [09/Dec/2025 14:43:04] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [09/Dec/2025 14:43:11] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [09/Dec/2025 14:43:25] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [09/Dec/2025 14:44:37] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [09/Dec/2025 14:44:45] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [09/Dec/2025 14:46:15] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [09/Dec/2025 15:18:08] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/line@bot/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/line@bot/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
‚úÖ Google Services Authenticated Successfully!
‚úÖ HotelBot initialized.
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.8.32:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/line@bot/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
/Users/like/Desktop/line@bot/app.py:77: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [10/Dec/2025 00:51:42] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [10/Dec/2025 00:51:52] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [10/Dec/2025 00:52:08] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [10/Dec/2025 00:52:30] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [10/Dec/2025 00:52:41] "POST /callback HTTP/1.1" 200 -
127.0.0.1 - - [10/Dec/2025 00:52:53] "POST /callback HTTP/1.1" 200 -
/Users/like/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/like/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/like/Desktop/KTW-bot/app.py:26: LineBotSdkDeprecatedIn30: Call to deprecated class LineBotApi. (Use v3 class; linebot.v3.<feature>. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api = LineBotApi(CHANNEL_ACCESS_TOKEN)
/Users/like/Desktop/KTW-bot/app.py:27: LineBotSdkDeprecatedIn30: Call to deprecated class WebhookHandler. (Use 'from linebot.v3.webhook import WebhookHandler' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  handler = WebhookHandler(CHANNEL_SECRET)
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
‚úÖ Google Services Authenticated Successfully!
‚úÖ HotelBot initialized.
Á≥ªÁµ±ÂïüÂãïÔºöÊóÖÈ§®Â∞àÊ•≠ÂÆ¢ÊúçÊ©üÂô®‰∫∫ (AI Vision + Function Calling + Multi-User + Logging + WeatherÁâà) Â∑≤Â∞±Á∑í„ÄÇ
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.8.32:5001
[33mPress CTRL+C to quit[0m
/Users/like/Desktop/KTW-bot/app.py:61: LineBotSdkDeprecatedIn30: Call to deprecated method get_profile. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).get_profile(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  profile = line_bot_api.get_profile(user_id)
/Users/like/Desktop/KTW-bot/app.py:77: LineBotSdkDeprecatedIn30: Call to deprecated method reply_message. (Use 'from linebot.v3.messaging import MessagingApi' and 'MessagingApi(...).reply_message(...)' instead. See https://github.com/line/line-bot-sdk-python/blob/master/README.rst for more details.) -- Deprecated since version 3.0.0.
  line_bot_api.reply_message(
127.0.0.1 - - [10/Dec/2025 01:02:14] "POST /callback HTTP/1.1" 200 -
