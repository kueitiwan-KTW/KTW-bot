# Notion 指令系統 - 快速開始指南

## ✅ Phase 1 已完成！

### 📦 已創建的工具

**notion_commander.py** - 主程式
- ✅ 掃描所有 Notion 頁面
- ✅ 讀取頁面留言
- ✅ AI 解析留言是否為指令
- ✅ 顯示掃描結果

---

## 🚀 立即使用

### 1. 掃描所有頁面的留言

```bash
cd /Users/ktw/ktw-projects/KTW-bot/notion-ai-organizer
python3 notion_commander.py --scan --preview
```

**輸出**：
- 📄 掃描到的頁面列表
- 💬 每個頁面的留言
- 🤖 AI 判斷是否為指令
- ✅ 找到的可執行指令總數

### 2. 掃描特定頁面

```bash
python3 notion_commander.py --page-id=<page_id> --preview
```

---

## 💡 測試範例

### 在 Notion 頁面留言測試

1. 打開任意 Notion 頁面（例如：旅棧RAG知識庫）

2. 添加留言：
   ```
   請添加新的 FAQ：
   問題：停車場在哪裡？
   答案：旅館後方有免費停車場，提供 10 個車位
   ```

3. 執行掃描：
   ```bash
   python3 notion_commander.py --scan --preview
   ```

4. 查看結果：
   - AI 會識別這是一個「更新知識庫」的指令
   - 顯示信心度和解析結果

---

## 🎯 AI 可以識別的指令

### 知識庫更新類
```
"請添加 FAQ：..."
"更新知識庫：..."
"新增問答：..."
```

### 設定修改類
```
"調整 Bot 溫度參數為 0.8"
"修改設定：..."
```

### 文檔更新類
```
"更新文檔：..."
"補充說明：..."
```

---

## 📊 輸出範例

```
🚀 Notion 指令系統啟動

🔍 掃描 Notion 頁面...

✅ 找到 11 個頁面

📄 掃描頁面：旅棧RAG知識庫
   💬 找到 2 個留言

================================================================================
📊 掃描結果總覽
================================================================================

📄 掃描頁面：11 個
💬 總留言數：2 個

📄 旅棧RAG知識庫
   🔗 https://www.notion.so/...

   💬 留言 1：
      請添加新的 FAQ：問題：停車場在哪裡？答案：旅館後方有免費停車場
      🤖 分析中...
      ✅ 識別為指令（信心度：95%）
      📝 類型：update_knowledge_base
      💡 用戶要求添加關於停車場的 FAQ

================================================================================
✅ 找到 1 個可執行指令

💡 這是預覽模式，未執行任何操作
   使用 --execute 參數來執行指令
```

---

## 🎨 下一步

Phase 2 將實現：
- 📝 詳細的指令解析（parse command_parser.py）
- 📊 生成變更提案（proposal_generator.py）
- ✅ 用戶確認流程
- 🔧 安全執行機制（task_executor.py）

---

## 🧪 現在可以測試！

您現在就可以：
1. 在任何 Notion 頁面留言下達指令
2. 運行 `--scan --preview` 查看 AI 是否正確識別
3. 給我反饋，我會根據結果優化解析邏輯
